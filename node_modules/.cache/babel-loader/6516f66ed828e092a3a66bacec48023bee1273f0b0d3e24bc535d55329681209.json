{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/drop_down_editor/ui.drop_down_editor.js)\r\n * Version: 22.2.6\r\n * Build date: Tue Apr 18 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../../core/renderer\";\nimport eventsEngine from \"../../events/core/events_engine\";\nimport Guid from \"../../core/guid\";\nimport registerComponent from \"../../core/component_registrator\";\nimport { noop, splitPair } from \"../../core/utils/common\";\nimport { focused } from \"../widget/selectors\";\nimport { each } from \"../../core/utils/iterator\";\nimport { isDefined } from \"../../core/utils/type\";\nimport { extend } from \"../../core/utils/extend\";\nimport { getPublicElement } from \"../../core/element\";\nimport errors from \"../widget/ui.errors\";\nimport animationPosition from \"../../animation/position\";\nimport { getDefaultAlignment } from \"../../core/utils/position\";\nimport DropDownButton from \"./ui.drop_down_button\";\nimport Widget from \"../widget/ui.widget\";\nimport messageLocalization from \"../../localization/message\";\nimport { addNamespace, isCommandKeyPressed } from \"../../events/utils/index\";\nimport TextBox from \"../text_box\";\nimport { name as clickEventName } from \"../../events/click\";\nimport devices from \"../../core/devices\";\nimport { FunctionTemplate } from \"../../core/templates/function_template\";\nimport Popup from \"../popup/ui.popup\";\nimport { hasWindow } from \"../../core/utils/window\";\nimport { getElementWidth, getSizeValue } from \"./utils\";\nimport { locate, move } from \"../../animation/translator\";\nvar DROP_DOWN_EDITOR_CLASS = \"dx-dropdowneditor\";\nvar DROP_DOWN_EDITOR_INPUT_WRAPPER = \"dx-dropdowneditor-input-wrapper\";\nvar DROP_DOWN_EDITOR_BUTTON_ICON = \"dx-dropdowneditor-icon\";\nvar DROP_DOWN_EDITOR_OVERLAY = \"dx-dropdowneditor-overlay\";\nvar DROP_DOWN_EDITOR_OVERLAY_FLIPPED = \"dx-dropdowneditor-overlay-flipped\";\nvar DROP_DOWN_EDITOR_ACTIVE = \"dx-dropdowneditor-active\";\nvar DROP_DOWN_EDITOR_FIELD_CLICKABLE = \"dx-dropdowneditor-field-clickable\";\nvar DROP_DOWN_EDITOR_FIELD_TEMPLATE_WRAPPER = \"dx-dropdowneditor-field-template-wrapper\";\nvar isIOs = \"ios\" === devices.current().platform;\nvar DropDownEditor = TextBox.inherit({\n  _supportedKeys: function () {\n    return extend({}, this.callBase(), {\n      tab: function (e) {\n        if (!this.option(\"opened\")) {\n          return;\n        }\n        if (\"instantly\" === this.option(\"applyValueMode\")) {\n          this.close();\n          return;\n        }\n        var $focusableElement = e.shiftKey ? this._getLastPopupElement() : this._getFirstPopupElement();\n        if ($focusableElement) {\n          eventsEngine.trigger($focusableElement, \"focus\");\n          $focusableElement.select();\n        }\n        e.preventDefault();\n      },\n      escape: function (e) {\n        if (this.option(\"opened\")) {\n          e.preventDefault();\n        }\n        this.close();\n        return true;\n      },\n      upArrow: function (e) {\n        if (!isCommandKeyPressed(e)) {\n          e.preventDefault();\n          e.stopPropagation();\n          if (e.altKey) {\n            this.close();\n            return false;\n          }\n        }\n        return true;\n      },\n      downArrow: function (e) {\n        if (!isCommandKeyPressed(e)) {\n          e.preventDefault();\n          e.stopPropagation();\n          if (e.altKey) {\n            this._validatedOpening();\n            return false;\n          }\n        }\n        return true;\n      },\n      enter: function (e) {\n        if (this.option(\"opened\")) {\n          e.preventDefault();\n          this._valueChangeEventHandler(e);\n        }\n        return true;\n      }\n    });\n  },\n  _getDefaultButtons: function () {\n    return this.callBase().concat([{\n      name: \"dropDown\",\n      Ctor: DropDownButton\n    }]);\n  },\n  _getDefaultOptions: function () {\n    return extend(this.callBase(), {\n      value: null,\n      onOpened: null,\n      onClosed: null,\n      opened: false,\n      acceptCustomValue: true,\n      applyValueMode: \"instantly\",\n      deferRendering: true,\n      activeStateEnabled: true,\n      dropDownButtonTemplate: \"dropDownButton\",\n      fieldTemplate: null,\n      openOnFieldClick: false,\n      showDropDownButton: true,\n      buttons: void 0,\n      dropDownOptions: {\n        showTitle: false\n      },\n      popupPosition: this._getDefaultPopupPosition(),\n      onPopupInitialized: null,\n      applyButtonText: messageLocalization.format(\"OK\"),\n      cancelButtonText: messageLocalization.format(\"Cancel\"),\n      buttonsLocation: \"default\",\n      useHiddenSubmitElement: false,\n      validationMessagePosition: \"auto\"\n    });\n  },\n  _useTemplates: function () {\n    return true;\n  },\n  _getDefaultPopupPosition: function (isRtlEnabled) {\n    var position = getDefaultAlignment(isRtlEnabled);\n    return {\n      offset: {\n        h: 0,\n        v: -1\n      },\n      my: position + \" top\",\n      at: position + \" bottom\",\n      collision: \"flip flip\"\n    };\n  },\n  _defaultOptionsRules: function () {\n    return this.callBase().concat([{\n      device: function (_device) {\n        var isGeneric = \"generic\" === _device.platform;\n        return isGeneric;\n      },\n      options: {\n        popupPosition: {\n          offset: {\n            v: 0\n          }\n        }\n      }\n    }]);\n  },\n  _inputWrapper: function () {\n    return this.$element().find(\".\" + DROP_DOWN_EDITOR_INPUT_WRAPPER).first();\n  },\n  _init: function () {\n    this.callBase();\n    this._initVisibilityActions();\n    this._initPopupInitializedAction();\n    this._updatePopupPosition(this.option(\"rtlEnabled\"));\n    this._options.cache(\"dropDownOptions\", this.option(\"dropDownOptions\"));\n  },\n  _updatePopupPosition: function (isRtlEnabled) {\n    var {\n      my: my,\n      at: at\n    } = this._getDefaultPopupPosition(isRtlEnabled);\n    var currentPosition = this.option(\"popupPosition\");\n    this.option(\"popupPosition\", extend({}, currentPosition, {\n      my: my,\n      at: at\n    }));\n  },\n  _initVisibilityActions: function () {\n    this._openAction = this._createActionByOption(\"onOpened\", {\n      excludeValidators: [\"disabled\", \"readOnly\"]\n    });\n    this._closeAction = this._createActionByOption(\"onClosed\", {\n      excludeValidators: [\"disabled\", \"readOnly\"]\n    });\n  },\n  _initPopupInitializedAction: function () {\n    this._popupInitializedAction = this._createActionByOption(\"onPopupInitialized\", {\n      excludeValidators: [\"disabled\", \"readOnly\"]\n    });\n  },\n  _initMarkup: function () {\n    this._renderSubmitElement();\n    this.callBase();\n    this.$element().addClass(DROP_DOWN_EDITOR_CLASS);\n    this.setAria(\"role\", \"combobox\");\n  },\n  _render: function () {\n    this.callBase();\n    this._renderOpenHandler();\n    this._attachFocusOutHandler();\n    this._renderOpenedState();\n  },\n  _renderContentImpl: function () {\n    if (!this.option(\"deferRendering\")) {\n      this._createPopup();\n    }\n  },\n  _renderInput: function () {\n    this.callBase();\n    this._wrapInput();\n    this._setDefaultAria();\n  },\n  _wrapInput: function () {\n    this._$container = this.$element().wrapInner($(\"<div>\").addClass(DROP_DOWN_EDITOR_INPUT_WRAPPER)).children().eq(0);\n  },\n  _setDefaultAria: function () {\n    this.setAria({\n      haspopup: \"true\",\n      autocomplete: \"list\"\n    });\n  },\n  _readOnlyPropValue: function () {\n    return !this._isEditable() || this.callBase();\n  },\n  _cleanFocusState: function () {\n    this.callBase();\n    if (this.option(\"fieldTemplate\")) {\n      this._detachFocusEvents();\n    }\n  },\n  _getFieldTemplate: function () {\n    return this.option(\"fieldTemplate\") && this._getTemplateByOption(\"fieldTemplate\");\n  },\n  _renderMask: function () {\n    if (this.option(\"fieldTemplate\")) {\n      return;\n    }\n    this.callBase();\n  },\n  _renderField: function () {\n    var fieldTemplate = this._getFieldTemplate();\n    fieldTemplate && this._renderTemplatedField(fieldTemplate, this._fieldRenderData());\n  },\n  _renderPlaceholder: function () {\n    var hasFieldTemplate = !!this._getFieldTemplate();\n    if (!hasFieldTemplate) {\n      this.callBase();\n    }\n  },\n  _renderValue: function () {\n    if (this.option(\"useHiddenSubmitElement\")) {\n      this._setSubmitValue();\n    }\n    var promise = this.callBase();\n    promise.always(this._renderField.bind(this));\n  },\n  _renderTemplatedField: function (fieldTemplate, data) {\n    var _this$_fieldRenderQue;\n    this._fieldRenderQueueLength = (null !== (_this$_fieldRenderQue = this._fieldRenderQueueLength) && void 0 !== _this$_fieldRenderQue ? _this$_fieldRenderQue : 0) + 1;\n    var isFocused = focused(this._input());\n    var $container = this._$container;\n    this._detachKeyboardEvents();\n    this._refreshButtonsContainer();\n    this._detachWrapperContent();\n    this._detachFocusEvents();\n    $container.empty();\n    var $templateWrapper = $(\"<div>\").addClass(DROP_DOWN_EDITOR_FIELD_TEMPLATE_WRAPPER).appendTo($container);\n    fieldTemplate.render({\n      model: data,\n      container: getPublicElement($templateWrapper),\n      onRendered: () => {\n        this._fieldRenderQueueLength--;\n        if (0 !== this._fieldRenderQueueLength) {\n          return;\n        }\n        var $input = this._input();\n        if (!$input.length) {\n          throw errors.Error(\"E1010\");\n        }\n        this._integrateInput();\n        isFocused && eventsEngine.trigger($input, \"focus\");\n      }\n    });\n    this._attachWrapperContent($container);\n  },\n  _detachWrapperContent() {\n    var _this$_$submitElement, _this$_$beforeButtons, _this$_$afterButtonsC;\n    var useHiddenSubmitElement = this.option(\"useHiddenSubmitElement\");\n    useHiddenSubmitElement && (null === (_this$_$submitElement = this._$submitElement) || void 0 === _this$_$submitElement ? void 0 : _this$_$submitElement.detach());\n    var beforeButtonsContainerParent = null === (_this$_$beforeButtons = this._$beforeButtonsContainer) || void 0 === _this$_$beforeButtons ? void 0 : _this$_$beforeButtons[0].parentNode;\n    var afterButtonsContainerParent = null === (_this$_$afterButtonsC = this._$afterButtonsContainer) || void 0 === _this$_$afterButtonsC ? void 0 : _this$_$afterButtonsC[0].parentNode;\n    null === beforeButtonsContainerParent || void 0 === beforeButtonsContainerParent ? void 0 : beforeButtonsContainerParent.removeChild(this._$beforeButtonsContainer[0]);\n    null === afterButtonsContainerParent || void 0 === afterButtonsContainerParent ? void 0 : afterButtonsContainerParent.removeChild(this._$afterButtonsContainer[0]);\n  },\n  _attachWrapperContent($container) {\n    var _this$_$submitElement2;\n    var useHiddenSubmitElement = this.option(\"useHiddenSubmitElement\");\n    $container.prepend(this._$beforeButtonsContainer);\n    useHiddenSubmitElement && (null === (_this$_$submitElement2 = this._$submitElement) || void 0 === _this$_$submitElement2 ? void 0 : _this$_$submitElement2.appendTo($container));\n    $container.append(this._$afterButtonsContainer);\n  },\n  _refreshButtonsContainer() {\n    this._$buttonsContainer = this.$element().children().eq(0);\n  },\n  _integrateInput: function () {\n    this._renderFocusState();\n    this._refreshValueChangeEvent();\n    this._refreshEvents();\n    this._refreshEmptinessEvent();\n  },\n  _refreshEmptinessEvent: function () {\n    eventsEngine.off(this._input(), \"input blur\", this._toggleEmptinessEventHandler);\n    this._renderEmptinessEvent();\n  },\n  _fieldRenderData: function () {\n    return this.option(\"value\");\n  },\n  _initTemplates: function () {\n    this._templateManager.addDefaultTemplates({\n      dropDownButton: new FunctionTemplate(function (options) {\n        var $icon = $(\"<div>\").addClass(DROP_DOWN_EDITOR_BUTTON_ICON);\n        $(options.container).append($icon);\n      })\n    });\n    this.callBase();\n  },\n  _renderOpenHandler: function () {\n    var $inputWrapper = this._inputWrapper();\n    var eventName = addNamespace(clickEventName, this.NAME);\n    var openOnFieldClick = this.option(\"openOnFieldClick\");\n    eventsEngine.off($inputWrapper, eventName);\n    eventsEngine.on($inputWrapper, eventName, this._getInputClickHandler(openOnFieldClick));\n    this.$element().toggleClass(DROP_DOWN_EDITOR_FIELD_CLICKABLE, openOnFieldClick);\n    if (openOnFieldClick) {\n      this._openOnFieldClickAction = this._createAction(this._openHandler.bind(this));\n    }\n  },\n  _attachFocusOutHandler: function () {\n    if (isIOs) {\n      this._detachFocusOutEvents();\n      eventsEngine.on(this._inputWrapper(), addNamespace(\"focusout\", this.NAME), event => {\n        var newTarget = event.relatedTarget;\n        var popupWrapper = this.content ? $(this.content()).closest(\".\" + DROP_DOWN_EDITOR_OVERLAY) : this._$popup;\n        if (newTarget && this.option(\"opened\")) {\n          var isNewTargetOutside = 0 === $(newTarget).closest(\".\" + DROP_DOWN_EDITOR_OVERLAY, popupWrapper).length;\n          if (isNewTargetOutside) {\n            this.close();\n          }\n        }\n      });\n    }\n  },\n  _detachFocusOutEvents: function () {\n    isIOs && eventsEngine.off(this._inputWrapper(), addNamespace(\"focusout\", this.NAME));\n  },\n  _getInputClickHandler: function (openOnFieldClick) {\n    return openOnFieldClick ? e => {\n      this._executeOpenAction(e);\n    } : e => {\n      this._focusInput();\n    };\n  },\n  _openHandler: function () {\n    this._toggleOpenState();\n  },\n  _executeOpenAction: function (e) {\n    this._openOnFieldClickAction({\n      event: e\n    });\n  },\n  _keyboardEventBindingTarget: function () {\n    return this._input();\n  },\n  _focusInput: function () {\n    if (this.option(\"disabled\")) {\n      return false;\n    }\n    if (this.option(\"focusStateEnabled\") && !focused(this._input())) {\n      this._resetCaretPosition();\n      eventsEngine.trigger(this._input(), \"focus\");\n    }\n    return true;\n  },\n  _resetCaretPosition: function () {\n    var ignoreEditable = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : false;\n    var inputElement = this._input().get(0);\n    if (inputElement) {\n      var {\n        value: value\n      } = inputElement;\n      var caretPosition = isDefined(value) && (ignoreEditable || this._isEditable()) ? value.length : 0;\n      this._caret({\n        start: caretPosition,\n        end: caretPosition\n      }, true);\n    }\n  },\n  _isEditable: function () {\n    return this.option(\"acceptCustomValue\");\n  },\n  _toggleOpenState: function (isVisible) {\n    if (!this._focusInput()) {\n      return;\n    }\n    if (!this.option(\"readOnly\")) {\n      isVisible = arguments.length ? isVisible : !this.option(\"opened\");\n      this.option(\"opened\", isVisible);\n    }\n  },\n  _getControlsAria() {\n    return this._popup && this._popupContentId;\n  },\n  _renderOpenedState: function () {\n    var opened = this.option(\"opened\");\n    if (opened) {\n      this._createPopup();\n    }\n    this.$element().toggleClass(DROP_DOWN_EDITOR_ACTIVE, opened);\n    this._setPopupOption(\"visible\", opened);\n    var arias = {\n      expanded: opened,\n      controls: this._getControlsAria()\n    };\n    this.setAria(arias);\n    this.setAria(\"owns\", opened ? this._popupContentId : void 0, this.$element());\n  },\n  _createPopup: function () {\n    if (this._$popup) {\n      return;\n    }\n    this._$popup = $(\"<div>\").addClass(DROP_DOWN_EDITOR_OVERLAY).appendTo(this.$element());\n    this._renderPopup();\n    this._renderPopupContent();\n  },\n  _renderPopupContent: noop,\n  _renderPopup: function () {\n    var popupConfig = extend(this._popupConfig(), this._options.cache(\"dropDownOptions\"));\n    delete popupConfig.closeOnOutsideClick;\n    if (popupConfig.elementAttr && !Object.keys(popupConfig.elementAttr).length) {\n      delete popupConfig.elementAttr;\n    }\n    this._popup = this._createComponent(this._$popup, Popup, popupConfig);\n    this._popup.on({\n      showing: this._popupShowingHandler.bind(this),\n      shown: this._popupShownHandler.bind(this),\n      hiding: this._popupHidingHandler.bind(this),\n      hidden: this._popupHiddenHandler.bind(this),\n      contentReady: this._contentReadyHandler.bind(this)\n    });\n    this._contentReadyHandler();\n    this._setPopupContentId(this._popup.$content());\n    this._bindInnerWidgetOptions(this._popup, \"dropDownOptions\");\n  },\n  _setPopupContentId($popupContent) {\n    this._popupContentId = \"dx-\" + new Guid();\n    this.setAria(\"id\", this._popupContentId, $popupContent);\n  },\n  _contentReadyHandler: noop,\n  _popupConfig: function () {\n    return {\n      onInitialized: this._popupInitializedHandler(),\n      position: extend(this.option(\"popupPosition\"), {\n        of: this.$element()\n      }),\n      showTitle: this.option(\"dropDownOptions.showTitle\"),\n      _ignoreFunctionValueDeprecation: true,\n      width: () => getElementWidth(this.$element()),\n      height: \"auto\",\n      shading: false,\n      hideOnParentScroll: true,\n      hideOnOutsideClick: e => this._closeOutsideDropDownHandler(e),\n      animation: {\n        show: {\n          type: \"fade\",\n          duration: 0,\n          from: 0,\n          to: 1\n        },\n        hide: {\n          type: \"fade\",\n          duration: 400,\n          from: 1,\n          to: 0\n        }\n      },\n      deferRendering: false,\n      focusStateEnabled: false,\n      showCloseButton: false,\n      dragEnabled: false,\n      toolbarItems: this._getPopupToolbarItems(),\n      onPositioned: this._popupPositionedHandler.bind(this),\n      fullScreen: false,\n      contentTemplate: null,\n      _wrapperClassExternal: DROP_DOWN_EDITOR_OVERLAY\n    };\n  },\n  _popupInitializedHandler: function () {\n    if (!this.option(\"onPopupInitialized\")) {\n      return null;\n    }\n    return e => {\n      this._popupInitializedAction({\n        popup: e.component\n      });\n    };\n  },\n  _dimensionChanged: function () {\n    if (hasWindow() && !this.$element().is(\":visible\")) {\n      this.close();\n      return;\n    }\n    this._updatePopupWidth();\n  },\n  _updatePopupWidth: function () {\n    var popupWidth = getSizeValue(this.option(\"dropDownOptions.width\"));\n    if (void 0 === popupWidth) {\n      this._setPopupOption(\"width\", () => getElementWidth(this.$element()));\n    }\n  },\n  _popupPositionedHandler: function (e) {\n    var _e$position, _e$position$v;\n    var {\n      labelMode: labelMode,\n      stylingMode: stylingMode\n    } = this.option();\n    if (!this._popup) {\n      return;\n    }\n    var $popupOverlayContent = this._popup.$overlayContent();\n    var isOverlayFlipped = null === (_e$position = e.position) || void 0 === _e$position ? void 0 : null === (_e$position$v = _e$position.v) || void 0 === _e$position$v ? void 0 : _e$position$v.flip;\n    var shouldIndentForLabel = \"hidden\" !== labelMode && \"outlined\" === stylingMode;\n    if (e.position) {\n      $popupOverlayContent.toggleClass(DROP_DOWN_EDITOR_OVERLAY_FLIPPED, isOverlayFlipped);\n    }\n    if (isOverlayFlipped && shouldIndentForLabel && this._label.isVisible()) {\n      var $label = this._label.$element();\n      move($popupOverlayContent, {\n        top: locate($popupOverlayContent).top - parseInt($label.css(\"fontSize\"))\n      });\n    }\n  },\n  _popupShowingHandler: noop,\n  _popupHidingHandler: function () {\n    this.option(\"opened\", false);\n  },\n  _popupShownHandler: function () {\n    var _this$_validationMess;\n    this._openAction();\n    null === (_this$_validationMess = this._validationMessage) || void 0 === _this$_validationMess ? void 0 : _this$_validationMess.option(\"positionSide\", this._getValidationMessagePositionSide());\n  },\n  _popupHiddenHandler: function () {\n    var _this$_validationMess2;\n    this._closeAction();\n    null === (_this$_validationMess2 = this._validationMessage) || void 0 === _this$_validationMess2 ? void 0 : _this$_validationMess2.option(\"positionSide\", this._getValidationMessagePositionSide());\n  },\n  _getValidationMessagePositionSide: function () {\n    var validationMessagePosition = this.option(\"validationMessagePosition\");\n    if (\"auto\" !== validationMessagePosition) {\n      return validationMessagePosition;\n    }\n    var positionSide = \"bottom\";\n    if (this._popup && this._popup.option(\"visible\")) {\n      var {\n        top: myTop\n      } = animationPosition.setup(this.$element());\n      var {\n        top: popupTop\n      } = animationPosition.setup(this._popup.$content());\n      positionSide = myTop + this.option(\"popupPosition\").offset.v > popupTop ? \"bottom\" : \"top\";\n    }\n    return positionSide;\n  },\n  _closeOutsideDropDownHandler: function (_ref) {\n    var {\n      target: target\n    } = _ref;\n    var $target = $(target);\n    var dropDownButton = this.getButton(\"dropDown\");\n    var $dropDownButton = dropDownButton && dropDownButton.$element();\n    var isInputClicked = !!$target.closest(this.$element()).length;\n    var isDropDownButtonClicked = !!$target.closest($dropDownButton).length;\n    var isOutsideClick = !isInputClicked && !isDropDownButtonClicked;\n    return isOutsideClick;\n  },\n  _clean: function () {\n    delete this._openOnFieldClickAction;\n    if (this._$popup) {\n      this._$popup.remove();\n      delete this._$popup;\n      delete this._popup;\n    }\n    this.callBase();\n  },\n  _setPopupOption: function (optionName, value) {\n    this._setWidgetOption(\"_popup\", arguments);\n  },\n  _validatedOpening: function () {\n    if (!this.option(\"readOnly\")) {\n      this._toggleOpenState(true);\n    }\n  },\n  _getPopupToolbarItems: function () {\n    return \"useButtons\" === this.option(\"applyValueMode\") ? this._popupToolbarItemsConfig() : [];\n  },\n  _getFirstPopupElement: function () {\n    return this._popup.$wrapper().find(\".dx-popup-done.dx-button\");\n  },\n  _getLastPopupElement: function () {\n    return this._popup.$wrapper().find(\".dx-popup-cancel.dx-button\");\n  },\n  _popupElementTabHandler: function (e) {\n    var $element = $(e.currentTarget);\n    if (e.shiftKey && $element.is(this._getFirstPopupElement()) || !e.shiftKey && $element.is(this._getLastPopupElement())) {\n      eventsEngine.trigger(this._input(), \"focus\");\n      e.preventDefault();\n    }\n  },\n  _popupElementEscHandler: function () {\n    eventsEngine.trigger(this._input(), \"focus\");\n    this.close();\n  },\n  _popupButtonInitializedHandler: function (e) {\n    e.component.registerKeyHandler(\"tab\", this._popupElementTabHandler.bind(this));\n    e.component.registerKeyHandler(\"escape\", this._popupElementEscHandler.bind(this));\n  },\n  _popupToolbarItemsConfig: function () {\n    var buttonsConfig = [{\n      shortcut: \"done\",\n      options: {\n        onClick: this._applyButtonHandler.bind(this),\n        text: this.option(\"applyButtonText\"),\n        onInitialized: this._popupButtonInitializedHandler.bind(this)\n      }\n    }, {\n      shortcut: \"cancel\",\n      options: {\n        onClick: this._cancelButtonHandler.bind(this),\n        text: this.option(\"cancelButtonText\"),\n        onInitialized: this._popupButtonInitializedHandler.bind(this)\n      }\n    }];\n    return this._applyButtonsLocation(buttonsConfig);\n  },\n  _applyButtonsLocation: function (buttonsConfig) {\n    var buttonsLocation = this.option(\"buttonsLocation\");\n    var resultConfig = buttonsConfig;\n    if (\"default\" !== buttonsLocation) {\n      var position = splitPair(buttonsLocation);\n      each(resultConfig, function (_, element) {\n        extend(element, {\n          toolbar: position[0],\n          location: position[1]\n        });\n      });\n    }\n    return resultConfig;\n  },\n  _applyButtonHandler: function () {\n    this.close();\n    this.option(\"focusStateEnabled\") && this.focus();\n  },\n  _cancelButtonHandler: function () {\n    this.close();\n    this.option(\"focusStateEnabled\") && this.focus();\n  },\n  _popupOptionChanged: function (args) {\n    var options = Widget.getOptionsFromContainer(args);\n    this._setPopupOption(options);\n    var optionsKeys = Object.keys(options);\n    if (-1 !== optionsKeys.indexOf(\"width\") || -1 !== optionsKeys.indexOf(\"height\")) {\n      this._dimensionChanged();\n    }\n  },\n  _renderSubmitElement: function () {\n    if (this.option(\"useHiddenSubmitElement\")) {\n      this._$submitElement = $(\"<input>\").attr(\"type\", \"hidden\").appendTo(this.$element());\n    }\n  },\n  _setSubmitValue: function () {\n    this._getSubmitElement().val(this.option(\"value\"));\n  },\n  _getSubmitElement: function () {\n    if (this.option(\"useHiddenSubmitElement\")) {\n      return this._$submitElement;\n    } else {\n      return this.callBase();\n    }\n  },\n  _dispose: function () {\n    this._detachFocusOutEvents();\n    this.callBase();\n  },\n  _optionChanged: function (args) {\n    var _this$_popup;\n    switch (args.name) {\n      case \"width\":\n      case \"height\":\n        this.callBase(args);\n        null === (_this$_popup = this._popup) || void 0 === _this$_popup ? void 0 : _this$_popup.repaint();\n        break;\n      case \"opened\":\n        this._renderOpenedState();\n        break;\n      case \"onOpened\":\n      case \"onClosed\":\n        this._initVisibilityActions();\n        break;\n      case \"onPopupInitialized\":\n        this._initPopupInitializedAction();\n        break;\n      case \"fieldTemplate\":\n        if (isDefined(args.value)) {\n          this._renderField();\n        } else {\n          this._invalidate();\n        }\n        break;\n      case \"acceptCustomValue\":\n      case \"openOnFieldClick\":\n        this._invalidate();\n        break;\n      case \"dropDownButtonTemplate\":\n      case \"showDropDownButton\":\n        this._updateButtons([\"dropDown\"]);\n        break;\n      case \"dropDownOptions\":\n        this._popupOptionChanged(args);\n        this._options.cache(\"dropDownOptions\", this.option(\"dropDownOptions\"));\n        break;\n      case \"popupPosition\":\n        break;\n      case \"deferRendering\":\n        if (hasWindow()) {\n          this._createPopup();\n        }\n        break;\n      case \"applyValueMode\":\n      case \"applyButtonText\":\n      case \"cancelButtonText\":\n      case \"buttonsLocation\":\n        this._setPopupOption(\"toolbarItems\", this._getPopupToolbarItems());\n        break;\n      case \"useHiddenSubmitElement\":\n        if (this._$submitElement) {\n          this._$submitElement.remove();\n          this._$submitElement = void 0;\n        }\n        this._renderSubmitElement();\n        break;\n      case \"rtlEnabled\":\n        this._updatePopupPosition(args.value);\n        this.callBase(args);\n        break;\n      default:\n        this.callBase(args);\n    }\n  },\n  open: function () {\n    this.option(\"opened\", true);\n  },\n  close: function () {\n    this.option(\"opened\", false);\n  },\n  field: function () {\n    return getPublicElement(this._input());\n  },\n  content: function () {\n    return this._popup ? this._popup.content() : null;\n  }\n});\nregisterComponent(\"dxDropDownEditor\", DropDownEditor);\nexport default DropDownEditor;","map":{"version":3,"names":["$","eventsEngine","Guid","registerComponent","noop","splitPair","focused","each","isDefined","extend","getPublicElement","errors","animationPosition","getDefaultAlignment","DropDownButton","Widget","messageLocalization","addNamespace","isCommandKeyPressed","TextBox","name","clickEventName","devices","FunctionTemplate","Popup","hasWindow","getElementWidth","getSizeValue","locate","move","DROP_DOWN_EDITOR_CLASS","DROP_DOWN_EDITOR_INPUT_WRAPPER","DROP_DOWN_EDITOR_BUTTON_ICON","DROP_DOWN_EDITOR_OVERLAY","DROP_DOWN_EDITOR_OVERLAY_FLIPPED","DROP_DOWN_EDITOR_ACTIVE","DROP_DOWN_EDITOR_FIELD_CLICKABLE","DROP_DOWN_EDITOR_FIELD_TEMPLATE_WRAPPER","isIOs","current","platform","DropDownEditor","inherit","_supportedKeys","callBase","tab","e","option","close","$focusableElement","shiftKey","_getLastPopupElement","_getFirstPopupElement","trigger","select","preventDefault","escape","upArrow","stopPropagation","altKey","downArrow","_validatedOpening","enter","_valueChangeEventHandler","_getDefaultButtons","concat","Ctor","_getDefaultOptions","value","onOpened","onClosed","opened","acceptCustomValue","applyValueMode","deferRendering","activeStateEnabled","dropDownButtonTemplate","fieldTemplate","openOnFieldClick","showDropDownButton","buttons","dropDownOptions","showTitle","popupPosition","_getDefaultPopupPosition","onPopupInitialized","applyButtonText","format","cancelButtonText","buttonsLocation","useHiddenSubmitElement","validationMessagePosition","_useTemplates","isRtlEnabled","position","offset","h","v","my","at","collision","_defaultOptionsRules","device","_device","isGeneric","options","_inputWrapper","$element","find","first","_init","_initVisibilityActions","_initPopupInitializedAction","_updatePopupPosition","_options","cache","currentPosition","_openAction","_createActionByOption","excludeValidators","_closeAction","_popupInitializedAction","_initMarkup","_renderSubmitElement","addClass","setAria","_render","_renderOpenHandler","_attachFocusOutHandler","_renderOpenedState","_renderContentImpl","_createPopup","_renderInput","_wrapInput","_setDefaultAria","_$container","wrapInner","children","eq","haspopup","autocomplete","_readOnlyPropValue","_isEditable","_cleanFocusState","_detachFocusEvents","_getFieldTemplate","_getTemplateByOption","_renderMask","_renderField","_renderTemplatedField","_fieldRenderData","_renderPlaceholder","hasFieldTemplate","_renderValue","_setSubmitValue","promise","always","bind","data","_this$_fieldRenderQue","_fieldRenderQueueLength","isFocused","_input","$container","_detachKeyboardEvents","_refreshButtonsContainer","_detachWrapperContent","empty","$templateWrapper","appendTo","render","model","container","onRendered","$input","length","Error","_integrateInput","_attachWrapperContent","_this$_$submitElement","_this$_$beforeButtons","_this$_$afterButtonsC","_$submitElement","detach","beforeButtonsContainerParent","_$beforeButtonsContainer","parentNode","afterButtonsContainerParent","_$afterButtonsContainer","removeChild","_this$_$submitElement2","prepend","append","_$buttonsContainer","_renderFocusState","_refreshValueChangeEvent","_refreshEvents","_refreshEmptinessEvent","off","_toggleEmptinessEventHandler","_renderEmptinessEvent","_initTemplates","_templateManager","addDefaultTemplates","dropDownButton","$icon","$inputWrapper","eventName","NAME","on","_getInputClickHandler","toggleClass","_openOnFieldClickAction","_createAction","_openHandler","_detachFocusOutEvents","event","newTarget","relatedTarget","popupWrapper","content","closest","_$popup","isNewTargetOutside","_executeOpenAction","_focusInput","_toggleOpenState","_keyboardEventBindingTarget","_resetCaretPosition","ignoreEditable","arguments","inputElement","get","caretPosition","_caret","start","end","isVisible","_getControlsAria","_popup","_popupContentId","_setPopupOption","arias","expanded","controls","_renderPopup","_renderPopupContent","popupConfig","_popupConfig","closeOnOutsideClick","elementAttr","Object","keys","_createComponent","showing","_popupShowingHandler","shown","_popupShownHandler","hiding","_popupHidingHandler","hidden","_popupHiddenHandler","contentReady","_contentReadyHandler","_setPopupContentId","$content","_bindInnerWidgetOptions","$popupContent","onInitialized","_popupInitializedHandler","of","_ignoreFunctionValueDeprecation","width","height","shading","hideOnParentScroll","hideOnOutsideClick","_closeOutsideDropDownHandler","animation","show","type","duration","from","to","hide","focusStateEnabled","showCloseButton","dragEnabled","toolbarItems","_getPopupToolbarItems","onPositioned","_popupPositionedHandler","fullScreen","contentTemplate","_wrapperClassExternal","popup","component","_dimensionChanged","is","_updatePopupWidth","popupWidth","_e$position","_e$position$v","labelMode","stylingMode","$popupOverlayContent","$overlayContent","isOverlayFlipped","flip","shouldIndentForLabel","_label","$label","top","parseInt","css","_this$_validationMess","_validationMessage","_getValidationMessagePositionSide","_this$_validationMess2","positionSide","myTop","setup","popupTop","_ref","target","$target","getButton","$dropDownButton","isInputClicked","isDropDownButtonClicked","isOutsideClick","_clean","remove","optionName","_setWidgetOption","_popupToolbarItemsConfig","$wrapper","_popupElementTabHandler","currentTarget","_popupElementEscHandler","_popupButtonInitializedHandler","registerKeyHandler","buttonsConfig","shortcut","onClick","_applyButtonHandler","text","_cancelButtonHandler","_applyButtonsLocation","resultConfig","_","element","toolbar","location","focus","_popupOptionChanged","args","getOptionsFromContainer","optionsKeys","indexOf","attr","_getSubmitElement","val","_dispose","_optionChanged","_this$_popup","repaint","_invalidate","_updateButtons","open","field"],"sources":["C:/Users/ninad/OneDrive/Radna povr≈°ina/zavrsni/client/node_modules/devextreme/esm/ui/drop_down_editor/ui.drop_down_editor.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/drop_down_editor/ui.drop_down_editor.js)\r\n * Version: 22.2.6\r\n * Build date: Tue Apr 18 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport Guid from \"../../core/guid\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport {\r\n    noop,\r\n    splitPair\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    focused\r\n} from \"../widget/selectors\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../core/element\";\r\nimport errors from \"../widget/ui.errors\";\r\nimport animationPosition from \"../../animation/position\";\r\nimport {\r\n    getDefaultAlignment\r\n} from \"../../core/utils/position\";\r\nimport DropDownButton from \"./ui.drop_down_button\";\r\nimport Widget from \"../widget/ui.widget\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    addNamespace,\r\n    isCommandKeyPressed\r\n} from \"../../events/utils/index\";\r\nimport TextBox from \"../text_box\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nimport devices from \"../../core/devices\";\r\nimport {\r\n    FunctionTemplate\r\n} from \"../../core/templates/function_template\";\r\nimport Popup from \"../popup/ui.popup\";\r\nimport {\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nimport {\r\n    getElementWidth,\r\n    getSizeValue\r\n} from \"./utils\";\r\nimport {\r\n    locate,\r\n    move\r\n} from \"../../animation/translator\";\r\nvar DROP_DOWN_EDITOR_CLASS = \"dx-dropdowneditor\";\r\nvar DROP_DOWN_EDITOR_INPUT_WRAPPER = \"dx-dropdowneditor-input-wrapper\";\r\nvar DROP_DOWN_EDITOR_BUTTON_ICON = \"dx-dropdowneditor-icon\";\r\nvar DROP_DOWN_EDITOR_OVERLAY = \"dx-dropdowneditor-overlay\";\r\nvar DROP_DOWN_EDITOR_OVERLAY_FLIPPED = \"dx-dropdowneditor-overlay-flipped\";\r\nvar DROP_DOWN_EDITOR_ACTIVE = \"dx-dropdowneditor-active\";\r\nvar DROP_DOWN_EDITOR_FIELD_CLICKABLE = \"dx-dropdowneditor-field-clickable\";\r\nvar DROP_DOWN_EDITOR_FIELD_TEMPLATE_WRAPPER = \"dx-dropdowneditor-field-template-wrapper\";\r\nvar isIOs = \"ios\" === devices.current().platform;\r\nvar DropDownEditor = TextBox.inherit({\r\n    _supportedKeys: function() {\r\n        return extend({}, this.callBase(), {\r\n            tab: function(e) {\r\n                if (!this.option(\"opened\")) {\r\n                    return\r\n                }\r\n                if (\"instantly\" === this.option(\"applyValueMode\")) {\r\n                    this.close();\r\n                    return\r\n                }\r\n                var $focusableElement = e.shiftKey ? this._getLastPopupElement() : this._getFirstPopupElement();\r\n                if ($focusableElement) {\r\n                    eventsEngine.trigger($focusableElement, \"focus\");\r\n                    $focusableElement.select()\r\n                }\r\n                e.preventDefault()\r\n            },\r\n            escape: function(e) {\r\n                if (this.option(\"opened\")) {\r\n                    e.preventDefault()\r\n                }\r\n                this.close();\r\n                return true\r\n            },\r\n            upArrow: function(e) {\r\n                if (!isCommandKeyPressed(e)) {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                    if (e.altKey) {\r\n                        this.close();\r\n                        return false\r\n                    }\r\n                }\r\n                return true\r\n            },\r\n            downArrow: function(e) {\r\n                if (!isCommandKeyPressed(e)) {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                    if (e.altKey) {\r\n                        this._validatedOpening();\r\n                        return false\r\n                    }\r\n                }\r\n                return true\r\n            },\r\n            enter: function(e) {\r\n                if (this.option(\"opened\")) {\r\n                    e.preventDefault();\r\n                    this._valueChangeEventHandler(e)\r\n                }\r\n                return true\r\n            }\r\n        })\r\n    },\r\n    _getDefaultButtons: function() {\r\n        return this.callBase().concat([{\r\n            name: \"dropDown\",\r\n            Ctor: DropDownButton\r\n        }])\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            value: null,\r\n            onOpened: null,\r\n            onClosed: null,\r\n            opened: false,\r\n            acceptCustomValue: true,\r\n            applyValueMode: \"instantly\",\r\n            deferRendering: true,\r\n            activeStateEnabled: true,\r\n            dropDownButtonTemplate: \"dropDownButton\",\r\n            fieldTemplate: null,\r\n            openOnFieldClick: false,\r\n            showDropDownButton: true,\r\n            buttons: void 0,\r\n            dropDownOptions: {\r\n                showTitle: false\r\n            },\r\n            popupPosition: this._getDefaultPopupPosition(),\r\n            onPopupInitialized: null,\r\n            applyButtonText: messageLocalization.format(\"OK\"),\r\n            cancelButtonText: messageLocalization.format(\"Cancel\"),\r\n            buttonsLocation: \"default\",\r\n            useHiddenSubmitElement: false,\r\n            validationMessagePosition: \"auto\"\r\n        })\r\n    },\r\n    _useTemplates: function() {\r\n        return true\r\n    },\r\n    _getDefaultPopupPosition: function(isRtlEnabled) {\r\n        var position = getDefaultAlignment(isRtlEnabled);\r\n        return {\r\n            offset: {\r\n                h: 0,\r\n                v: -1\r\n            },\r\n            my: position + \" top\",\r\n            at: position + \" bottom\",\r\n            collision: \"flip flip\"\r\n        }\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function(_device) {\r\n                var isGeneric = \"generic\" === _device.platform;\r\n                return isGeneric\r\n            },\r\n            options: {\r\n                popupPosition: {\r\n                    offset: {\r\n                        v: 0\r\n                    }\r\n                }\r\n            }\r\n        }])\r\n    },\r\n    _inputWrapper: function() {\r\n        return this.$element().find(\".\" + DROP_DOWN_EDITOR_INPUT_WRAPPER).first()\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this._initVisibilityActions();\r\n        this._initPopupInitializedAction();\r\n        this._updatePopupPosition(this.option(\"rtlEnabled\"));\r\n        this._options.cache(\"dropDownOptions\", this.option(\"dropDownOptions\"))\r\n    },\r\n    _updatePopupPosition: function(isRtlEnabled) {\r\n        var {\r\n            my: my,\r\n            at: at\r\n        } = this._getDefaultPopupPosition(isRtlEnabled);\r\n        var currentPosition = this.option(\"popupPosition\");\r\n        this.option(\"popupPosition\", extend({}, currentPosition, {\r\n            my: my,\r\n            at: at\r\n        }))\r\n    },\r\n    _initVisibilityActions: function() {\r\n        this._openAction = this._createActionByOption(\"onOpened\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        });\r\n        this._closeAction = this._createActionByOption(\"onClosed\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        })\r\n    },\r\n    _initPopupInitializedAction: function() {\r\n        this._popupInitializedAction = this._createActionByOption(\"onPopupInitialized\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        })\r\n    },\r\n    _initMarkup: function() {\r\n        this._renderSubmitElement();\r\n        this.callBase();\r\n        this.$element().addClass(DROP_DOWN_EDITOR_CLASS);\r\n        this.setAria(\"role\", \"combobox\")\r\n    },\r\n    _render: function() {\r\n        this.callBase();\r\n        this._renderOpenHandler();\r\n        this._attachFocusOutHandler();\r\n        this._renderOpenedState()\r\n    },\r\n    _renderContentImpl: function() {\r\n        if (!this.option(\"deferRendering\")) {\r\n            this._createPopup()\r\n        }\r\n    },\r\n    _renderInput: function() {\r\n        this.callBase();\r\n        this._wrapInput();\r\n        this._setDefaultAria()\r\n    },\r\n    _wrapInput: function() {\r\n        this._$container = this.$element().wrapInner($(\"<div>\").addClass(DROP_DOWN_EDITOR_INPUT_WRAPPER)).children().eq(0)\r\n    },\r\n    _setDefaultAria: function() {\r\n        this.setAria({\r\n            haspopup: \"true\",\r\n            autocomplete: \"list\"\r\n        })\r\n    },\r\n    _readOnlyPropValue: function() {\r\n        return !this._isEditable() || this.callBase()\r\n    },\r\n    _cleanFocusState: function() {\r\n        this.callBase();\r\n        if (this.option(\"fieldTemplate\")) {\r\n            this._detachFocusEvents()\r\n        }\r\n    },\r\n    _getFieldTemplate: function() {\r\n        return this.option(\"fieldTemplate\") && this._getTemplateByOption(\"fieldTemplate\")\r\n    },\r\n    _renderMask: function() {\r\n        if (this.option(\"fieldTemplate\")) {\r\n            return\r\n        }\r\n        this.callBase()\r\n    },\r\n    _renderField: function() {\r\n        var fieldTemplate = this._getFieldTemplate();\r\n        fieldTemplate && this._renderTemplatedField(fieldTemplate, this._fieldRenderData())\r\n    },\r\n    _renderPlaceholder: function() {\r\n        var hasFieldTemplate = !!this._getFieldTemplate();\r\n        if (!hasFieldTemplate) {\r\n            this.callBase()\r\n        }\r\n    },\r\n    _renderValue: function() {\r\n        if (this.option(\"useHiddenSubmitElement\")) {\r\n            this._setSubmitValue()\r\n        }\r\n        var promise = this.callBase();\r\n        promise.always(this._renderField.bind(this))\r\n    },\r\n    _renderTemplatedField: function(fieldTemplate, data) {\r\n        var _this$_fieldRenderQue;\r\n        this._fieldRenderQueueLength = (null !== (_this$_fieldRenderQue = this._fieldRenderQueueLength) && void 0 !== _this$_fieldRenderQue ? _this$_fieldRenderQue : 0) + 1;\r\n        var isFocused = focused(this._input());\r\n        var $container = this._$container;\r\n        this._detachKeyboardEvents();\r\n        this._refreshButtonsContainer();\r\n        this._detachWrapperContent();\r\n        this._detachFocusEvents();\r\n        $container.empty();\r\n        var $templateWrapper = $(\"<div>\").addClass(DROP_DOWN_EDITOR_FIELD_TEMPLATE_WRAPPER).appendTo($container);\r\n        fieldTemplate.render({\r\n            model: data,\r\n            container: getPublicElement($templateWrapper),\r\n            onRendered: () => {\r\n                this._fieldRenderQueueLength--;\r\n                if (0 !== this._fieldRenderQueueLength) {\r\n                    return\r\n                }\r\n                var $input = this._input();\r\n                if (!$input.length) {\r\n                    throw errors.Error(\"E1010\")\r\n                }\r\n                this._integrateInput();\r\n                isFocused && eventsEngine.trigger($input, \"focus\")\r\n            }\r\n        });\r\n        this._attachWrapperContent($container)\r\n    },\r\n    _detachWrapperContent() {\r\n        var _this$_$submitElement, _this$_$beforeButtons, _this$_$afterButtonsC;\r\n        var useHiddenSubmitElement = this.option(\"useHiddenSubmitElement\");\r\n        useHiddenSubmitElement && (null === (_this$_$submitElement = this._$submitElement) || void 0 === _this$_$submitElement ? void 0 : _this$_$submitElement.detach());\r\n        var beforeButtonsContainerParent = null === (_this$_$beforeButtons = this._$beforeButtonsContainer) || void 0 === _this$_$beforeButtons ? void 0 : _this$_$beforeButtons[0].parentNode;\r\n        var afterButtonsContainerParent = null === (_this$_$afterButtonsC = this._$afterButtonsContainer) || void 0 === _this$_$afterButtonsC ? void 0 : _this$_$afterButtonsC[0].parentNode;\r\n        null === beforeButtonsContainerParent || void 0 === beforeButtonsContainerParent ? void 0 : beforeButtonsContainerParent.removeChild(this._$beforeButtonsContainer[0]);\r\n        null === afterButtonsContainerParent || void 0 === afterButtonsContainerParent ? void 0 : afterButtonsContainerParent.removeChild(this._$afterButtonsContainer[0])\r\n    },\r\n    _attachWrapperContent($container) {\r\n        var _this$_$submitElement2;\r\n        var useHiddenSubmitElement = this.option(\"useHiddenSubmitElement\");\r\n        $container.prepend(this._$beforeButtonsContainer);\r\n        useHiddenSubmitElement && (null === (_this$_$submitElement2 = this._$submitElement) || void 0 === _this$_$submitElement2 ? void 0 : _this$_$submitElement2.appendTo($container));\r\n        $container.append(this._$afterButtonsContainer)\r\n    },\r\n    _refreshButtonsContainer() {\r\n        this._$buttonsContainer = this.$element().children().eq(0)\r\n    },\r\n    _integrateInput: function() {\r\n        this._renderFocusState();\r\n        this._refreshValueChangeEvent();\r\n        this._refreshEvents();\r\n        this._refreshEmptinessEvent()\r\n    },\r\n    _refreshEmptinessEvent: function() {\r\n        eventsEngine.off(this._input(), \"input blur\", this._toggleEmptinessEventHandler);\r\n        this._renderEmptinessEvent()\r\n    },\r\n    _fieldRenderData: function() {\r\n        return this.option(\"value\")\r\n    },\r\n    _initTemplates: function() {\r\n        this._templateManager.addDefaultTemplates({\r\n            dropDownButton: new FunctionTemplate((function(options) {\r\n                var $icon = $(\"<div>\").addClass(DROP_DOWN_EDITOR_BUTTON_ICON);\r\n                $(options.container).append($icon)\r\n            }))\r\n        });\r\n        this.callBase()\r\n    },\r\n    _renderOpenHandler: function() {\r\n        var $inputWrapper = this._inputWrapper();\r\n        var eventName = addNamespace(clickEventName, this.NAME);\r\n        var openOnFieldClick = this.option(\"openOnFieldClick\");\r\n        eventsEngine.off($inputWrapper, eventName);\r\n        eventsEngine.on($inputWrapper, eventName, this._getInputClickHandler(openOnFieldClick));\r\n        this.$element().toggleClass(DROP_DOWN_EDITOR_FIELD_CLICKABLE, openOnFieldClick);\r\n        if (openOnFieldClick) {\r\n            this._openOnFieldClickAction = this._createAction(this._openHandler.bind(this))\r\n        }\r\n    },\r\n    _attachFocusOutHandler: function() {\r\n        if (isIOs) {\r\n            this._detachFocusOutEvents();\r\n            eventsEngine.on(this._inputWrapper(), addNamespace(\"focusout\", this.NAME), event => {\r\n                var newTarget = event.relatedTarget;\r\n                var popupWrapper = this.content ? $(this.content()).closest(\".\" + DROP_DOWN_EDITOR_OVERLAY) : this._$popup;\r\n                if (newTarget && this.option(\"opened\")) {\r\n                    var isNewTargetOutside = 0 === $(newTarget).closest(\".\" + DROP_DOWN_EDITOR_OVERLAY, popupWrapper).length;\r\n                    if (isNewTargetOutside) {\r\n                        this.close()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    },\r\n    _detachFocusOutEvents: function() {\r\n        isIOs && eventsEngine.off(this._inputWrapper(), addNamespace(\"focusout\", this.NAME))\r\n    },\r\n    _getInputClickHandler: function(openOnFieldClick) {\r\n        return openOnFieldClick ? e => {\r\n            this._executeOpenAction(e)\r\n        } : e => {\r\n            this._focusInput()\r\n        }\r\n    },\r\n    _openHandler: function() {\r\n        this._toggleOpenState()\r\n    },\r\n    _executeOpenAction: function(e) {\r\n        this._openOnFieldClickAction({\r\n            event: e\r\n        })\r\n    },\r\n    _keyboardEventBindingTarget: function() {\r\n        return this._input()\r\n    },\r\n    _focusInput: function() {\r\n        if (this.option(\"disabled\")) {\r\n            return false\r\n        }\r\n        if (this.option(\"focusStateEnabled\") && !focused(this._input())) {\r\n            this._resetCaretPosition();\r\n            eventsEngine.trigger(this._input(), \"focus\")\r\n        }\r\n        return true\r\n    },\r\n    _resetCaretPosition: function() {\r\n        var ignoreEditable = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : false;\r\n        var inputElement = this._input().get(0);\r\n        if (inputElement) {\r\n            var {\r\n                value: value\r\n            } = inputElement;\r\n            var caretPosition = isDefined(value) && (ignoreEditable || this._isEditable()) ? value.length : 0;\r\n            this._caret({\r\n                start: caretPosition,\r\n                end: caretPosition\r\n            }, true)\r\n        }\r\n    },\r\n    _isEditable: function() {\r\n        return this.option(\"acceptCustomValue\")\r\n    },\r\n    _toggleOpenState: function(isVisible) {\r\n        if (!this._focusInput()) {\r\n            return\r\n        }\r\n        if (!this.option(\"readOnly\")) {\r\n            isVisible = arguments.length ? isVisible : !this.option(\"opened\");\r\n            this.option(\"opened\", isVisible)\r\n        }\r\n    },\r\n    _getControlsAria() {\r\n        return this._popup && this._popupContentId\r\n    },\r\n    _renderOpenedState: function() {\r\n        var opened = this.option(\"opened\");\r\n        if (opened) {\r\n            this._createPopup()\r\n        }\r\n        this.$element().toggleClass(DROP_DOWN_EDITOR_ACTIVE, opened);\r\n        this._setPopupOption(\"visible\", opened);\r\n        var arias = {\r\n            expanded: opened,\r\n            controls: this._getControlsAria()\r\n        };\r\n        this.setAria(arias);\r\n        this.setAria(\"owns\", opened ? this._popupContentId : void 0, this.$element())\r\n    },\r\n    _createPopup: function() {\r\n        if (this._$popup) {\r\n            return\r\n        }\r\n        this._$popup = $(\"<div>\").addClass(DROP_DOWN_EDITOR_OVERLAY).appendTo(this.$element());\r\n        this._renderPopup();\r\n        this._renderPopupContent()\r\n    },\r\n    _renderPopupContent: noop,\r\n    _renderPopup: function() {\r\n        var popupConfig = extend(this._popupConfig(), this._options.cache(\"dropDownOptions\"));\r\n        delete popupConfig.closeOnOutsideClick;\r\n        if (popupConfig.elementAttr && !Object.keys(popupConfig.elementAttr).length) {\r\n            delete popupConfig.elementAttr\r\n        }\r\n        this._popup = this._createComponent(this._$popup, Popup, popupConfig);\r\n        this._popup.on({\r\n            showing: this._popupShowingHandler.bind(this),\r\n            shown: this._popupShownHandler.bind(this),\r\n            hiding: this._popupHidingHandler.bind(this),\r\n            hidden: this._popupHiddenHandler.bind(this),\r\n            contentReady: this._contentReadyHandler.bind(this)\r\n        });\r\n        this._contentReadyHandler();\r\n        this._setPopupContentId(this._popup.$content());\r\n        this._bindInnerWidgetOptions(this._popup, \"dropDownOptions\")\r\n    },\r\n    _setPopupContentId($popupContent) {\r\n        this._popupContentId = \"dx-\" + new Guid;\r\n        this.setAria(\"id\", this._popupContentId, $popupContent)\r\n    },\r\n    _contentReadyHandler: noop,\r\n    _popupConfig: function() {\r\n        return {\r\n            onInitialized: this._popupInitializedHandler(),\r\n            position: extend(this.option(\"popupPosition\"), {\r\n                of: this.$element()\r\n            }),\r\n            showTitle: this.option(\"dropDownOptions.showTitle\"),\r\n            _ignoreFunctionValueDeprecation: true,\r\n            width: () => getElementWidth(this.$element()),\r\n            height: \"auto\",\r\n            shading: false,\r\n            hideOnParentScroll: true,\r\n            hideOnOutsideClick: e => this._closeOutsideDropDownHandler(e),\r\n            animation: {\r\n                show: {\r\n                    type: \"fade\",\r\n                    duration: 0,\r\n                    from: 0,\r\n                    to: 1\r\n                },\r\n                hide: {\r\n                    type: \"fade\",\r\n                    duration: 400,\r\n                    from: 1,\r\n                    to: 0\r\n                }\r\n            },\r\n            deferRendering: false,\r\n            focusStateEnabled: false,\r\n            showCloseButton: false,\r\n            dragEnabled: false,\r\n            toolbarItems: this._getPopupToolbarItems(),\r\n            onPositioned: this._popupPositionedHandler.bind(this),\r\n            fullScreen: false,\r\n            contentTemplate: null,\r\n            _wrapperClassExternal: DROP_DOWN_EDITOR_OVERLAY\r\n        }\r\n    },\r\n    _popupInitializedHandler: function() {\r\n        if (!this.option(\"onPopupInitialized\")) {\r\n            return null\r\n        }\r\n        return e => {\r\n            this._popupInitializedAction({\r\n                popup: e.component\r\n            })\r\n        }\r\n    },\r\n    _dimensionChanged: function() {\r\n        if (hasWindow() && !this.$element().is(\":visible\")) {\r\n            this.close();\r\n            return\r\n        }\r\n        this._updatePopupWidth()\r\n    },\r\n    _updatePopupWidth: function() {\r\n        var popupWidth = getSizeValue(this.option(\"dropDownOptions.width\"));\r\n        if (void 0 === popupWidth) {\r\n            this._setPopupOption(\"width\", () => getElementWidth(this.$element()))\r\n        }\r\n    },\r\n    _popupPositionedHandler: function(e) {\r\n        var _e$position, _e$position$v;\r\n        var {\r\n            labelMode: labelMode,\r\n            stylingMode: stylingMode\r\n        } = this.option();\r\n        if (!this._popup) {\r\n            return\r\n        }\r\n        var $popupOverlayContent = this._popup.$overlayContent();\r\n        var isOverlayFlipped = null === (_e$position = e.position) || void 0 === _e$position ? void 0 : null === (_e$position$v = _e$position.v) || void 0 === _e$position$v ? void 0 : _e$position$v.flip;\r\n        var shouldIndentForLabel = \"hidden\" !== labelMode && \"outlined\" === stylingMode;\r\n        if (e.position) {\r\n            $popupOverlayContent.toggleClass(DROP_DOWN_EDITOR_OVERLAY_FLIPPED, isOverlayFlipped)\r\n        }\r\n        if (isOverlayFlipped && shouldIndentForLabel && this._label.isVisible()) {\r\n            var $label = this._label.$element();\r\n            move($popupOverlayContent, {\r\n                top: locate($popupOverlayContent).top - parseInt($label.css(\"fontSize\"))\r\n            })\r\n        }\r\n    },\r\n    _popupShowingHandler: noop,\r\n    _popupHidingHandler: function() {\r\n        this.option(\"opened\", false)\r\n    },\r\n    _popupShownHandler: function() {\r\n        var _this$_validationMess;\r\n        this._openAction();\r\n        null === (_this$_validationMess = this._validationMessage) || void 0 === _this$_validationMess ? void 0 : _this$_validationMess.option(\"positionSide\", this._getValidationMessagePositionSide())\r\n    },\r\n    _popupHiddenHandler: function() {\r\n        var _this$_validationMess2;\r\n        this._closeAction();\r\n        null === (_this$_validationMess2 = this._validationMessage) || void 0 === _this$_validationMess2 ? void 0 : _this$_validationMess2.option(\"positionSide\", this._getValidationMessagePositionSide())\r\n    },\r\n    _getValidationMessagePositionSide: function() {\r\n        var validationMessagePosition = this.option(\"validationMessagePosition\");\r\n        if (\"auto\" !== validationMessagePosition) {\r\n            return validationMessagePosition\r\n        }\r\n        var positionSide = \"bottom\";\r\n        if (this._popup && this._popup.option(\"visible\")) {\r\n            var {\r\n                top: myTop\r\n            } = animationPosition.setup(this.$element());\r\n            var {\r\n                top: popupTop\r\n            } = animationPosition.setup(this._popup.$content());\r\n            positionSide = myTop + this.option(\"popupPosition\").offset.v > popupTop ? \"bottom\" : \"top\"\r\n        }\r\n        return positionSide\r\n    },\r\n    _closeOutsideDropDownHandler: function(_ref) {\r\n        var {\r\n            target: target\r\n        } = _ref;\r\n        var $target = $(target);\r\n        var dropDownButton = this.getButton(\"dropDown\");\r\n        var $dropDownButton = dropDownButton && dropDownButton.$element();\r\n        var isInputClicked = !!$target.closest(this.$element()).length;\r\n        var isDropDownButtonClicked = !!$target.closest($dropDownButton).length;\r\n        var isOutsideClick = !isInputClicked && !isDropDownButtonClicked;\r\n        return isOutsideClick\r\n    },\r\n    _clean: function() {\r\n        delete this._openOnFieldClickAction;\r\n        if (this._$popup) {\r\n            this._$popup.remove();\r\n            delete this._$popup;\r\n            delete this._popup\r\n        }\r\n        this.callBase()\r\n    },\r\n    _setPopupOption: function(optionName, value) {\r\n        this._setWidgetOption(\"_popup\", arguments)\r\n    },\r\n    _validatedOpening: function() {\r\n        if (!this.option(\"readOnly\")) {\r\n            this._toggleOpenState(true)\r\n        }\r\n    },\r\n    _getPopupToolbarItems: function() {\r\n        return \"useButtons\" === this.option(\"applyValueMode\") ? this._popupToolbarItemsConfig() : []\r\n    },\r\n    _getFirstPopupElement: function() {\r\n        return this._popup.$wrapper().find(\".dx-popup-done.dx-button\")\r\n    },\r\n    _getLastPopupElement: function() {\r\n        return this._popup.$wrapper().find(\".dx-popup-cancel.dx-button\")\r\n    },\r\n    _popupElementTabHandler: function(e) {\r\n        var $element = $(e.currentTarget);\r\n        if (e.shiftKey && $element.is(this._getFirstPopupElement()) || !e.shiftKey && $element.is(this._getLastPopupElement())) {\r\n            eventsEngine.trigger(this._input(), \"focus\");\r\n            e.preventDefault()\r\n        }\r\n    },\r\n    _popupElementEscHandler: function() {\r\n        eventsEngine.trigger(this._input(), \"focus\");\r\n        this.close()\r\n    },\r\n    _popupButtonInitializedHandler: function(e) {\r\n        e.component.registerKeyHandler(\"tab\", this._popupElementTabHandler.bind(this));\r\n        e.component.registerKeyHandler(\"escape\", this._popupElementEscHandler.bind(this))\r\n    },\r\n    _popupToolbarItemsConfig: function() {\r\n        var buttonsConfig = [{\r\n            shortcut: \"done\",\r\n            options: {\r\n                onClick: this._applyButtonHandler.bind(this),\r\n                text: this.option(\"applyButtonText\"),\r\n                onInitialized: this._popupButtonInitializedHandler.bind(this)\r\n            }\r\n        }, {\r\n            shortcut: \"cancel\",\r\n            options: {\r\n                onClick: this._cancelButtonHandler.bind(this),\r\n                text: this.option(\"cancelButtonText\"),\r\n                onInitialized: this._popupButtonInitializedHandler.bind(this)\r\n            }\r\n        }];\r\n        return this._applyButtonsLocation(buttonsConfig)\r\n    },\r\n    _applyButtonsLocation: function(buttonsConfig) {\r\n        var buttonsLocation = this.option(\"buttonsLocation\");\r\n        var resultConfig = buttonsConfig;\r\n        if (\"default\" !== buttonsLocation) {\r\n            var position = splitPair(buttonsLocation);\r\n            each(resultConfig, (function(_, element) {\r\n                extend(element, {\r\n                    toolbar: position[0],\r\n                    location: position[1]\r\n                })\r\n            }))\r\n        }\r\n        return resultConfig\r\n    },\r\n    _applyButtonHandler: function() {\r\n        this.close();\r\n        this.option(\"focusStateEnabled\") && this.focus()\r\n    },\r\n    _cancelButtonHandler: function() {\r\n        this.close();\r\n        this.option(\"focusStateEnabled\") && this.focus()\r\n    },\r\n    _popupOptionChanged: function(args) {\r\n        var options = Widget.getOptionsFromContainer(args);\r\n        this._setPopupOption(options);\r\n        var optionsKeys = Object.keys(options);\r\n        if (-1 !== optionsKeys.indexOf(\"width\") || -1 !== optionsKeys.indexOf(\"height\")) {\r\n            this._dimensionChanged()\r\n        }\r\n    },\r\n    _renderSubmitElement: function() {\r\n        if (this.option(\"useHiddenSubmitElement\")) {\r\n            this._$submitElement = $(\"<input>\").attr(\"type\", \"hidden\").appendTo(this.$element())\r\n        }\r\n    },\r\n    _setSubmitValue: function() {\r\n        this._getSubmitElement().val(this.option(\"value\"))\r\n    },\r\n    _getSubmitElement: function() {\r\n        if (this.option(\"useHiddenSubmitElement\")) {\r\n            return this._$submitElement\r\n        } else {\r\n            return this.callBase()\r\n        }\r\n    },\r\n    _dispose: function() {\r\n        this._detachFocusOutEvents();\r\n        this.callBase()\r\n    },\r\n    _optionChanged: function(args) {\r\n        var _this$_popup;\r\n        switch (args.name) {\r\n            case \"width\":\r\n            case \"height\":\r\n                this.callBase(args);\r\n                null === (_this$_popup = this._popup) || void 0 === _this$_popup ? void 0 : _this$_popup.repaint();\r\n                break;\r\n            case \"opened\":\r\n                this._renderOpenedState();\r\n                break;\r\n            case \"onOpened\":\r\n            case \"onClosed\":\r\n                this._initVisibilityActions();\r\n                break;\r\n            case \"onPopupInitialized\":\r\n                this._initPopupInitializedAction();\r\n                break;\r\n            case \"fieldTemplate\":\r\n                if (isDefined(args.value)) {\r\n                    this._renderField()\r\n                } else {\r\n                    this._invalidate()\r\n                }\r\n                break;\r\n            case \"acceptCustomValue\":\r\n            case \"openOnFieldClick\":\r\n                this._invalidate();\r\n                break;\r\n            case \"dropDownButtonTemplate\":\r\n            case \"showDropDownButton\":\r\n                this._updateButtons([\"dropDown\"]);\r\n                break;\r\n            case \"dropDownOptions\":\r\n                this._popupOptionChanged(args);\r\n                this._options.cache(\"dropDownOptions\", this.option(\"dropDownOptions\"));\r\n                break;\r\n            case \"popupPosition\":\r\n                break;\r\n            case \"deferRendering\":\r\n                if (hasWindow()) {\r\n                    this._createPopup()\r\n                }\r\n                break;\r\n            case \"applyValueMode\":\r\n            case \"applyButtonText\":\r\n            case \"cancelButtonText\":\r\n            case \"buttonsLocation\":\r\n                this._setPopupOption(\"toolbarItems\", this._getPopupToolbarItems());\r\n                break;\r\n            case \"useHiddenSubmitElement\":\r\n                if (this._$submitElement) {\r\n                    this._$submitElement.remove();\r\n                    this._$submitElement = void 0\r\n                }\r\n                this._renderSubmitElement();\r\n                break;\r\n            case \"rtlEnabled\":\r\n                this._updatePopupPosition(args.value);\r\n                this.callBase(args);\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    open: function() {\r\n        this.option(\"opened\", true)\r\n    },\r\n    close: function() {\r\n        this.option(\"opened\", false)\r\n    },\r\n    field: function() {\r\n        return getPublicElement(this._input())\r\n    },\r\n    content: function() {\r\n        return this._popup ? this._popup.content() : null\r\n    }\r\n});\r\nregisterComponent(\"dxDropDownEditor\", DropDownEditor);\r\nexport default DropDownEditor;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}