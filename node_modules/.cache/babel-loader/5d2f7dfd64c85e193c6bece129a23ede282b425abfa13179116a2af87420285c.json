{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/drop_down_editor/ui.drop_down_list.js)\r\n * Version: 22.2.6\r\n * Build date: Tue Apr 18 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { getOuterHeight } from \"../../core/utils/size\";\nimport $ from \"../../core/renderer\";\nimport { getWindow } from \"../../core/utils/window\";\nvar window = getWindow();\nimport eventsEngine from \"../../events/core/events_engine\";\nimport Guid from \"../../core/guid\";\nimport registerComponent from \"../../core/component_registrator\";\nimport { noop, ensureDefined, grep } from \"../../core/utils/common\";\nimport { isWindow, isDefined, isObject } from \"../../core/utils/type\";\nimport { extend } from \"../../core/utils/extend\";\nimport DropDownEditor from \"./ui.drop_down_editor\";\nimport List from \"../list_light\";\nimport errors from \"../widget/ui.errors\";\nimport { addNamespace } from \"../../events/utils/index\";\nimport devices from \"../../core/devices\";\nimport dataQuery from \"../../data/query\";\nimport { each } from \"../../core/utils/iterator\";\nimport DataExpressionMixin from \"../editor/ui.data_expression\";\nimport messageLocalization from \"../../localization/message\";\nimport { ChildDefaultTemplate } from \"../../core/templates/child_default_template\";\nimport { Deferred } from \"../../core/utils/deferred\";\nimport DataConverterMixin from \"../shared/grouped_data_converter_mixin\";\nvar LIST_ITEM_SELECTOR = \".dx-list-item\";\nvar LIST_ITEM_DATA_KEY = \"dxListItemData\";\nvar DROPDOWNLIST_POPUP_WRAPPER_CLASS = \"dx-dropdownlist-popup-wrapper\";\nvar SEARCH_EVENT = \"input\";\nvar SEARCH_MODES = [\"startswith\", \"contains\", \"endwith\", \"notcontains\"];\nvar useCompositionEvents = \"android\" !== devices.real().platform;\nvar DropDownList = DropDownEditor.inherit({\n  _supportedKeys: function () {\n    var parent = this.callBase();\n    return extend({}, parent, {\n      tab: function (e) {\n        if (this._allowSelectItemByTab()) {\n          this._saveValueChangeEvent(e);\n          var $focusedItem = $(this._list.option(\"focusedElement\"));\n          $focusedItem.length && this._setSelectedElement($focusedItem);\n        }\n        parent.tab.apply(this, arguments);\n      },\n      space: noop,\n      home: noop,\n      end: noop\n    });\n  },\n  _allowSelectItemByTab: function () {\n    return this.option(\"opened\") && \"instantly\" === this.option(\"applyValueMode\");\n  },\n  _setSelectedElement: function ($element) {\n    var value = this._valueGetter(this._list._getItemData($element));\n    this._setValue(value);\n  },\n  _setValue: function (value) {\n    this.option(\"value\", value);\n  },\n  _getDefaultOptions: function () {\n    return extend(this.callBase(), extend(DataExpressionMixin._dataExpressionDefaultOptions(), {\n      displayValue: void 0,\n      searchEnabled: false,\n      searchMode: \"contains\",\n      searchTimeout: 500,\n      minSearchLength: 0,\n      searchExpr: null,\n      valueChangeEvent: \"input change keyup\",\n      selectedItem: null,\n      noDataText: messageLocalization.format(\"dxCollectionWidget-noDataText\"),\n      encodeNoDataText: false,\n      onSelectionChanged: null,\n      onItemClick: noop,\n      showDataBeforeSearch: false,\n      grouped: false,\n      groupTemplate: \"group\",\n      popupPosition: {\n        my: \"left top\",\n        at: \"left bottom\",\n        offset: {\n          h: 0,\n          v: 0\n        },\n        collision: \"flip\"\n      },\n      wrapItemText: false,\n      useItemTextAsTitle: false\n    }));\n  },\n  _defaultOptionsRules: function () {\n    return this.callBase().concat([{\n      device: {\n        platform: \"ios\"\n      },\n      options: {\n        popupPosition: {\n          offset: {\n            v: -1\n          }\n        }\n      }\n    }, {\n      device: {\n        platform: \"generic\"\n      },\n      options: {\n        buttonsLocation: \"bottom center\"\n      }\n    }]);\n  },\n  _setOptionsByReference: function () {\n    this.callBase();\n    extend(this._optionsByReference, {\n      value: true,\n      selectedItem: true,\n      displayValue: true\n    });\n  },\n  _init: function () {\n    this.callBase();\n    this._initDataExpressions();\n    this._initActions();\n    this._setListDataSource();\n    this._validateSearchMode();\n    this._clearSelectedItem();\n    this._initItems();\n  },\n  _setListFocusedElementOptionChange: function () {\n    this._list._updateParentActiveDescendant = this._updateActiveDescendant.bind(this);\n  },\n  _initItems: function () {\n    var items = this.option().items;\n    if (items && !items.length && this._dataSource) {\n      this.option().items = this._dataSource.items();\n    }\n  },\n  _initActions: function () {\n    this._initContentReadyAction();\n    this._initSelectionChangedAction();\n    this._initItemClickAction();\n  },\n  _initContentReadyAction: function () {\n    this._contentReadyAction = this._createActionByOption(\"onContentReady\", {\n      excludeValidators: [\"disabled\", \"readOnly\"]\n    });\n  },\n  _initSelectionChangedAction: function () {\n    this._selectionChangedAction = this._createActionByOption(\"onSelectionChanged\", {\n      excludeValidators: [\"disabled\", \"readOnly\"]\n    });\n  },\n  _initItemClickAction: function () {\n    this._itemClickAction = this._createActionByOption(\"onItemClick\");\n  },\n  _initTemplates: function () {\n    this.callBase();\n    this._templateManager.addDefaultTemplates({\n      item: new ChildDefaultTemplate(\"item\")\n    });\n  },\n  _isEditable: function () {\n    return this.callBase() || this.option(\"searchEnabled\");\n  },\n  _saveFocusOnWidget: function (e) {\n    if (this._list && this._list.initialOption(\"focusStateEnabled\")) {\n      this._focusInput();\n    }\n  },\n  _fitIntoRange: function (value, start, end) {\n    if (value > end) {\n      return start;\n    }\n    if (value < start) {\n      return end;\n    }\n    return value;\n  },\n  _items: function () {\n    var items = this._getPlainItems(!this._list && this._dataSource.items());\n    var availableItems = new dataQuery(items).filter(\"disabled\", \"<>\", true).toArray();\n    return availableItems;\n  },\n  _calcNextItem: function (step) {\n    var items = this._items();\n    var nextIndex = this._fitIntoRange(this._getSelectedIndex() + step, 0, items.length - 1);\n    return items[nextIndex];\n  },\n  _getSelectedIndex: function () {\n    var items = this._items();\n    var selectedItem = this.option(\"selectedItem\");\n    var result = -1;\n    each(items, function (index, item) {\n      if (this._isValueEquals(item, selectedItem)) {\n        result = index;\n        return false;\n      }\n    }.bind(this));\n    return result;\n  },\n  _createPopup: function () {\n    this.callBase();\n    this._updateCustomBoundaryContainer();\n    this._popup.$wrapper().addClass(this._popupWrapperClass());\n    var $popupContent = this._popup.$content();\n    eventsEngine.off($popupContent, \"mouseup\");\n    eventsEngine.on($popupContent, \"mouseup\", this._saveFocusOnWidget.bind(this));\n  },\n  _updateCustomBoundaryContainer: function () {\n    var customContainer = this.option(\"dropDownOptions.container\");\n    var $container = customContainer && $(customContainer);\n    if ($container && $container.length && !isWindow($container.get(0))) {\n      var $containerWithParents = [].slice.call($container.parents());\n      $containerWithParents.unshift($container.get(0));\n      each($containerWithParents, function (i, parent) {\n        if (parent === $(\"body\").get(0)) {\n          return false;\n        } else if (\"hidden\" === window.getComputedStyle(parent).overflowY) {\n          this._$customBoundaryContainer = $(parent);\n          return false;\n        }\n      }.bind(this));\n    }\n  },\n  _popupWrapperClass: function () {\n    return DROPDOWNLIST_POPUP_WRAPPER_CLASS;\n  },\n  _renderInputValue: function () {\n    var value = this._getCurrentValue();\n    this._rejectValueLoading();\n    return this._loadInputValue(value, this._setSelectedItem.bind(this)).always(this.callBase.bind(this, value));\n  },\n  _loadInputValue: function (value, callback) {\n    return this._loadItem(value).always(callback);\n  },\n  _getItemFromPlain: function (value, cache) {\n    var plainItems;\n    var selectedItem;\n    if (cache && \"object\" !== typeof value) {\n      if (!cache.itemByValue) {\n        cache.itemByValue = {};\n        plainItems = this._getPlainItems();\n        plainItems.forEach(function (item) {\n          cache.itemByValue[this._valueGetter(item)] = item;\n        }, this);\n      }\n      selectedItem = cache.itemByValue[value];\n    }\n    if (!selectedItem) {\n      plainItems = this._getPlainItems();\n      selectedItem = grep(plainItems, function (item) {\n        return this._isValueEquals(this._valueGetter(item), value);\n      }.bind(this))[0];\n    }\n    return selectedItem;\n  },\n  _loadItem: function (value, cache) {\n    var selectedItem = this._getItemFromPlain(value, cache);\n    return void 0 !== selectedItem ? new Deferred().resolve(selectedItem).promise() : this._loadValue(value);\n  },\n  _getPlainItems: function (items) {\n    var plainItems = [];\n    items = items || this.option(\"items\") || this._dataSource.items() || [];\n    for (var i = 0; i < items.length; i++) {\n      if (items[i] && items[i].items) {\n        plainItems = plainItems.concat(items[i].items);\n      } else {\n        plainItems.push(items[i]);\n      }\n    }\n    return plainItems;\n  },\n  _updateActiveDescendant() {\n    var _this$_list;\n    var opened = this.option(\"opened\");\n    var listFocusedItemId = null === (_this$_list = this._list) || void 0 === _this$_list ? void 0 : _this$_list.getFocusedItemId();\n    var isElementOnDom = $(\"#\".concat(listFocusedItemId)).length > 0;\n    var activedescendant = opened && isElementOnDom && listFocusedItemId;\n    this.setAria({\n      activedescendant: activedescendant || null\n    });\n  },\n  _setSelectedItem: function (item) {\n    var displayValue = this._displayValue(item);\n    this.option(\"selectedItem\", ensureDefined(item, null));\n    this.option(\"displayValue\", displayValue);\n  },\n  _displayValue: function (item) {\n    return this._displayGetter(item);\n  },\n  _refreshSelected: function () {\n    var cache = {};\n    this._listItemElements().each(function (_, itemElement) {\n      var $itemElement = $(itemElement);\n      var itemValue = this._valueGetter($itemElement.data(LIST_ITEM_DATA_KEY));\n      var isItemSelected = this._isSelectedValue(itemValue, cache);\n      if (isItemSelected) {\n        this._list.selectItem($itemElement);\n      } else {\n        this._list.unselectItem($itemElement);\n      }\n    }.bind(this));\n  },\n  _popupShownHandler: function () {\n    this.callBase();\n    this._setFocusPolicy();\n  },\n  _setFocusPolicy: function () {\n    if (!this.option(\"focusStateEnabled\") || !this._list) {\n      return;\n    }\n    this._list.option(\"focusedElement\", null);\n  },\n  _isSelectedValue: function (value) {\n    return this._isValueEquals(value, this.option(\"value\"));\n  },\n  _validateSearchMode: function () {\n    var searchMode = this.option(\"searchMode\");\n    var normalizedSearchMode = searchMode.toLowerCase();\n    if (!SEARCH_MODES.includes(normalizedSearchMode)) {\n      throw errors.Error(\"E1019\", searchMode);\n    }\n  },\n  _clearSelectedItem: function () {\n    this.option(\"selectedItem\", null);\n  },\n  _processDataSourceChanging: function () {\n    this._initDataController();\n    this._setListOption(\"_dataController\", this._dataController);\n    this._setListDataSource();\n    this._renderInputValue().fail(function () {\n      if (this._isCustomValueAllowed()) {\n        return;\n      }\n      this._clearSelectedItem();\n    }.bind(this));\n  },\n  _isCustomValueAllowed: function () {\n    return this.option(\"displayCustomValue\");\n  },\n  reset: function () {\n    this.callBase();\n    this._clearFilter();\n    this._clearSelectedItem();\n  },\n  _listItemElements: function () {\n    return this._$list ? this._$list.find(LIST_ITEM_SELECTOR) : $();\n  },\n  _popupConfig: function () {\n    return extend(this.callBase(), {\n      templatesRenderAsynchronously: false,\n      autoResizeEnabled: false,\n      maxHeight: this._getMaxHeight.bind(this)\n    });\n  },\n  _renderPopupContent: function () {\n    this.callBase();\n    this._renderList();\n  },\n  _getKeyboardListeners() {\n    var canListHaveFocus = this._canListHaveFocus();\n    return this.callBase().concat([!canListHaveFocus && this._list]);\n  },\n  _setAriaTargetForList: function () {\n    this._list._getAriaTarget = this._getAriaTarget.bind(this);\n  },\n  _renderList: function () {\n    this._listId = \"dx-\" + new Guid()._value;\n    var $list = this._$list = $(\"<div>\").attr(\"id\", this._listId).appendTo(this._popup.$content());\n    this._list = this._createComponent($list, List, this._listConfig());\n    this._refreshList();\n    this._setAriaTargetForList();\n    this._list.option(\"_listAttributes\", {\n      role: \"combobox\"\n    });\n    this._renderPreventBlurOnListClick();\n    this._setListFocusedElementOptionChange();\n  },\n  _renderPreventBlurOnListClick: function () {\n    var eventName = addNamespace(\"mousedown\", \"dxDropDownList\");\n    eventsEngine.off(this._$list, eventName);\n    eventsEngine.on(this._$list, eventName, e => e.preventDefault());\n  },\n  _getControlsAria() {\n    return this._list && this._listId;\n  },\n  _renderOpenedState: function () {\n    this.callBase();\n    this._list && this._updateActiveDescendant();\n    this.setAria(\"owns\", this._popup && this._popupContentId);\n  },\n  _setDefaultAria: function () {\n    this.setAria({\n      haspopup: \"listbox\",\n      autocomplete: \"list\"\n    });\n  },\n  _refreshList: function () {\n    if (this._list && this._shouldRefreshDataSource()) {\n      this._setListDataSource();\n    }\n  },\n  _shouldRefreshDataSource: function () {\n    var dataSourceProvided = !!this._list.option(\"dataSource\");\n    return dataSourceProvided !== this._needPassDataSourceToList();\n  },\n  _isDesktopDevice: function () {\n    return \"desktop\" === devices.real().deviceType;\n  },\n  _listConfig: function () {\n    var options = {\n      selectionMode: \"single\",\n      _templates: this.option(\"_templates\"),\n      templateProvider: this.option(\"templateProvider\"),\n      noDataText: this.option(\"noDataText\"),\n      encodeNoDataText: this.option(\"encodeNoDataText\"),\n      grouped: this.option(\"grouped\"),\n      wrapItemText: this.option(\"wrapItemText\"),\n      useItemTextAsTitle: this.option(\"useItemTextAsTitle\"),\n      onContentReady: this._listContentReadyHandler.bind(this),\n      itemTemplate: this.option(\"itemTemplate\"),\n      indicateLoading: false,\n      keyExpr: this._getCollectionKeyExpr(),\n      displayExpr: this._displayGetterExpr(),\n      groupTemplate: this.option(\"groupTemplate\"),\n      onItemClick: this._listItemClickAction.bind(this),\n      dataSource: this._getDataSource(),\n      _dataController: this._dataController,\n      hoverStateEnabled: this._isDesktopDevice() ? this.option(\"hoverStateEnabled\") : false,\n      focusStateEnabled: this._isDesktopDevice() ? this.option(\"focusStateEnabled\") : false\n    };\n    if (!this._canListHaveFocus()) {\n      options.tabIndex = null;\n    }\n    return options;\n  },\n  _canListHaveFocus: () => false,\n  _getDataSource: function () {\n    return this._needPassDataSourceToList() ? this._dataSource : null;\n  },\n  _dataSourceOptions: function () {\n    return {\n      paginate: false\n    };\n  },\n  _getGroupedOption: function () {\n    return this.option(\"grouped\");\n  },\n  _dataSourceFromUrlLoadMode: function () {\n    return \"raw\";\n  },\n  _listContentReadyHandler: function () {\n    this._list = this._list || this._$list.dxList(\"instance\");\n    if (!this.option(\"deferRendering\")) {\n      this._refreshSelected();\n    }\n    this._updatePopupWidth();\n    this._updateListDimensions();\n    this._contentReadyAction();\n  },\n  _setListOption: function (optionName, value) {\n    this._setWidgetOption(\"_list\", arguments);\n  },\n  _listItemClickAction: function (e) {\n    this._listItemClickHandler(e);\n    this._itemClickAction(e);\n  },\n  _listItemClickHandler: noop,\n  _setListDataSource: function () {\n    if (!this._list) {\n      return;\n    }\n    this._setListOption(\"dataSource\", this._getDataSource());\n    if (!this._needPassDataSourceToList()) {\n      this._setListOption(\"items\", []);\n    }\n  },\n  _needPassDataSourceToList: function () {\n    return this.option(\"showDataBeforeSearch\") || this._isMinSearchLengthExceeded();\n  },\n  _isMinSearchLengthExceeded: function () {\n    return this._searchValue().toString().length >= this.option(\"minSearchLength\");\n  },\n  _needClearFilter: function () {\n    return this._canKeepDataSource() ? false : this._needPassDataSourceToList();\n  },\n  _canKeepDataSource: function () {\n    var isMinSearchLengthExceeded = this._isMinSearchLengthExceeded();\n    return this._dataController.isLoaded() && this.option(\"showDataBeforeSearch\") && this.option(\"minSearchLength\") && !isMinSearchLengthExceeded && !this._isLastMinSearchLengthExceeded;\n  },\n  _searchValue: function () {\n    return this._input().val() || \"\";\n  },\n  _getSearchEvent: function () {\n    return addNamespace(SEARCH_EVENT, this.NAME + \"Search\");\n  },\n  _getCompositionStartEvent: function () {\n    return addNamespace(\"compositionstart\", this.NAME + \"CompositionStart\");\n  },\n  _getCompositionEndEvent: function () {\n    return addNamespace(\"compositionend\", this.NAME + \"CompositionEnd\");\n  },\n  _getSetFocusPolicyEvent: function () {\n    return addNamespace(\"input\", this.NAME + \"FocusPolicy\");\n  },\n  _renderEvents: function () {\n    this.callBase();\n    eventsEngine.on(this._input(), this._getSetFocusPolicyEvent(), () => {\n      this._setFocusPolicy();\n    });\n    if (this._shouldRenderSearchEvent()) {\n      eventsEngine.on(this._input(), this._getSearchEvent(), e => {\n        this._searchHandler(e);\n      });\n      if (useCompositionEvents) {\n        eventsEngine.on(this._input(), this._getCompositionStartEvent(), () => {\n          this._isTextCompositionInProgress(true);\n        });\n        eventsEngine.on(this._input(), this._getCompositionEndEvent(), e => {\n          this._isTextCompositionInProgress(void 0);\n          this._searchHandler(e, this._searchValue());\n        });\n      }\n    }\n  },\n  _shouldRenderSearchEvent: function () {\n    return this.option(\"searchEnabled\");\n  },\n  _refreshEvents: function () {\n    eventsEngine.off(this._input(), this._getSearchEvent());\n    eventsEngine.off(this._input(), this._getSetFocusPolicyEvent());\n    if (useCompositionEvents) {\n      eventsEngine.off(this._input(), this._getCompositionStartEvent());\n      eventsEngine.off(this._input(), this._getCompositionEndEvent());\n    }\n    this.callBase();\n  },\n  _isTextCompositionInProgress: function (value) {\n    if (arguments.length) {\n      this._isTextComposition = value;\n    } else {\n      return this._isTextComposition;\n    }\n  },\n  _searchHandler: function (e, searchValue) {\n    if (this._isTextCompositionInProgress()) {\n      return;\n    }\n    if (!this._isMinSearchLengthExceeded()) {\n      this._searchCanceled();\n      return;\n    }\n    var searchTimeout = this.option(\"searchTimeout\");\n    if (searchTimeout) {\n      this._clearSearchTimer();\n      this._searchTimer = setTimeout(() => {\n        this._searchDataSource(searchValue);\n      }, searchTimeout);\n    } else {\n      this._searchDataSource(searchValue);\n    }\n  },\n  _searchCanceled: function () {\n    this._clearSearchTimer();\n    if (this._needClearFilter()) {\n      this._filterDataSource(null);\n    }\n    this._refreshList();\n  },\n  _searchDataSource: function () {\n    var searchValue = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this._searchValue();\n    this._filterDataSource(searchValue);\n  },\n  _filterDataSource: function (searchValue) {\n    this._clearSearchTimer();\n    var dataController = this._dataController;\n    dataController.searchExpr(this.option(\"searchExpr\") || this._displayGetterExpr());\n    dataController.searchOperation(this.option(\"searchMode\"));\n    dataController.searchValue(searchValue);\n    dataController.load().done(this._dataSourceFiltered.bind(this, searchValue));\n  },\n  _clearFilter: function () {\n    var dataController = this._dataController;\n    dataController.searchValue() && dataController.searchValue(null);\n  },\n  _dataSourceFiltered: function () {\n    this._isLastMinSearchLengthExceeded = this._isMinSearchLengthExceeded();\n    this._refreshList();\n    this._refreshPopupVisibility();\n  },\n  _shouldOpenPopup: function () {\n    return this._hasItemsToShow();\n  },\n  _refreshPopupVisibility: function () {\n    if (this.option(\"readOnly\") || !this._searchValue()) {\n      return;\n    }\n    var shouldOpenPopup = this._shouldOpenPopup();\n    if (shouldOpenPopup && !this._isFocused()) {\n      return;\n    }\n    this.option(\"opened\", shouldOpenPopup);\n    if (shouldOpenPopup) {\n      this._updatePopupWidth();\n      this._updateListDimensions();\n    }\n  },\n  _dataSourceChangedHandler: function (newItems) {\n    if (0 === this._dataController.pageIndex()) {\n      this.option().items = newItems;\n    } else {\n      this.option().items = this.option().items.concat(newItems);\n    }\n  },\n  _hasItemsToShow: function () {\n    var dataController = this._dataController;\n    var resultItems = dataController.items() || [];\n    var resultAmount = resultItems.length;\n    var isMinSearchLengthExceeded = this._needPassDataSourceToList();\n    return !!(isMinSearchLengthExceeded && resultAmount);\n  },\n  _clearSearchTimer: function () {\n    clearTimeout(this._searchTimer);\n    delete this._searchTimer;\n  },\n  _popupShowingHandler: function () {\n    this._updatePopupWidth();\n    this._updateListDimensions();\n  },\n  _dimensionChanged: function () {\n    this.callBase();\n    this._updateListDimensions();\n  },\n  _needPopupRepaint: function () {\n    var dataController = this._dataController;\n    var currentPageIndex = dataController.pageIndex();\n    var needRepaint = isDefined(this._pageIndex) && currentPageIndex <= this._pageIndex || dataController.isLastPage() && !this._list._scrollViewIsFull();\n    this._pageIndex = currentPageIndex;\n    return needRepaint;\n  },\n  _updateListDimensions: function () {\n    if (!this._popup) {\n      return;\n    }\n    if (this._needPopupRepaint()) {\n      this._popup.repaint();\n    }\n    this._list && this._list.updateDimensions();\n  },\n  _getMaxHeight: function () {\n    var $element = this.$element();\n    var $customBoundaryContainer = this._$customBoundaryContainer;\n    var offsetTop = $element.offset().top - ($customBoundaryContainer ? $customBoundaryContainer.offset().top : 0);\n    var windowHeight = getOuterHeight(window);\n    var containerHeight = $customBoundaryContainer ? Math.min(getOuterHeight($customBoundaryContainer), windowHeight) : windowHeight;\n    var maxHeight = Math.max(offsetTop, containerHeight - offsetTop - getOuterHeight($element));\n    return Math.min(.5 * containerHeight, maxHeight);\n  },\n  _clean: function () {\n    if (this._list) {\n      delete this._list;\n    }\n    delete this._isLastMinSearchLengthExceeded;\n    this.callBase();\n  },\n  _dispose: function () {\n    this._clearSearchTimer();\n    this.callBase();\n  },\n  _setCollectionWidgetOption: function () {\n    this._setListOption.apply(this, arguments);\n  },\n  _setSubmitValue: function () {\n    var value = this.option(\"value\");\n    var submitValue = this._shouldUseDisplayValue(value) ? this._displayGetter(value) : value;\n    this._getSubmitElement().val(submitValue);\n  },\n  _shouldUseDisplayValue: function (value) {\n    return \"this\" === this.option(\"valueExpr\") && isObject(value);\n  },\n  _optionChanged: function (args) {\n    this._dataExpressionOptionChanged(args);\n    switch (args.name) {\n      case \"hoverStateEnabled\":\n      case \"focusStateEnabled\":\n        this._isDesktopDevice() && this._setListOption(args.name, args.value);\n        this.callBase(args);\n        break;\n      case \"items\":\n        if (!this.option(\"dataSource\")) {\n          this._processDataSourceChanging();\n        }\n        break;\n      case \"dataSource\":\n        this._processDataSourceChanging();\n        break;\n      case \"valueExpr\":\n        this._renderValue();\n        this._setListOption(\"keyExpr\", this._getCollectionKeyExpr());\n        break;\n      case \"displayExpr\":\n        this._renderValue();\n        this._setListOption(\"displayExpr\", this._displayGetterExpr());\n        break;\n      case \"searchMode\":\n        this._validateSearchMode();\n        break;\n      case \"minSearchLength\":\n        this._refreshList();\n        break;\n      case \"searchEnabled\":\n      case \"showDataBeforeSearch\":\n      case \"searchExpr\":\n        this._invalidate();\n        break;\n      case \"onContentReady\":\n        this._initContentReadyAction();\n        break;\n      case \"onSelectionChanged\":\n        this._initSelectionChangedAction();\n        break;\n      case \"onItemClick\":\n        this._initItemClickAction();\n        break;\n      case \"grouped\":\n      case \"groupTemplate\":\n      case \"wrapItemText\":\n      case \"noDataText\":\n      case \"encodeNoDataText\":\n      case \"useItemTextAsTitle\":\n        this._setListOption(args.name);\n        break;\n      case \"displayValue\":\n        this.option(\"text\", args.value);\n        break;\n      case \"itemTemplate\":\n      case \"searchTimeout\":\n        break;\n      case \"selectedItem\":\n        if (args.previousValue !== args.value) {\n          this._selectionChangedAction({\n            selectedItem: args.value\n          });\n        }\n        break;\n      default:\n        this.callBase(args);\n    }\n  }\n}).include(DataExpressionMixin, DataConverterMixin);\nregisterComponent(\"dxDropDownList\", DropDownList);\nexport default DropDownList;","map":{"version":3,"names":["getOuterHeight","$","getWindow","window","eventsEngine","Guid","registerComponent","noop","ensureDefined","grep","isWindow","isDefined","isObject","extend","DropDownEditor","List","errors","addNamespace","devices","dataQuery","each","DataExpressionMixin","messageLocalization","ChildDefaultTemplate","Deferred","DataConverterMixin","LIST_ITEM_SELECTOR","LIST_ITEM_DATA_KEY","DROPDOWNLIST_POPUP_WRAPPER_CLASS","SEARCH_EVENT","SEARCH_MODES","useCompositionEvents","real","platform","DropDownList","inherit","_supportedKeys","parent","callBase","tab","e","_allowSelectItemByTab","_saveValueChangeEvent","$focusedItem","_list","option","length","_setSelectedElement","apply","arguments","space","home","end","$element","value","_valueGetter","_getItemData","_setValue","_getDefaultOptions","_dataExpressionDefaultOptions","displayValue","searchEnabled","searchMode","searchTimeout","minSearchLength","searchExpr","valueChangeEvent","selectedItem","noDataText","format","encodeNoDataText","onSelectionChanged","onItemClick","showDataBeforeSearch","grouped","groupTemplate","popupPosition","my","at","offset","h","v","collision","wrapItemText","useItemTextAsTitle","_defaultOptionsRules","concat","device","options","buttonsLocation","_setOptionsByReference","_optionsByReference","_init","_initDataExpressions","_initActions","_setListDataSource","_validateSearchMode","_clearSelectedItem","_initItems","_setListFocusedElementOptionChange","_updateParentActiveDescendant","_updateActiveDescendant","bind","items","_dataSource","_initContentReadyAction","_initSelectionChangedAction","_initItemClickAction","_contentReadyAction","_createActionByOption","excludeValidators","_selectionChangedAction","_itemClickAction","_initTemplates","_templateManager","addDefaultTemplates","item","_isEditable","_saveFocusOnWidget","initialOption","_focusInput","_fitIntoRange","start","_items","_getPlainItems","availableItems","filter","toArray","_calcNextItem","step","nextIndex","_getSelectedIndex","result","index","_isValueEquals","_createPopup","_updateCustomBoundaryContainer","_popup","$wrapper","addClass","_popupWrapperClass","$popupContent","$content","off","on","customContainer","$container","get","$containerWithParents","slice","call","parents","unshift","i","getComputedStyle","overflowY","_$customBoundaryContainer","_renderInputValue","_getCurrentValue","_rejectValueLoading","_loadInputValue","_setSelectedItem","always","callback","_loadItem","_getItemFromPlain","cache","plainItems","itemByValue","forEach","resolve","promise","_loadValue","push","_this$_list","opened","listFocusedItemId","getFocusedItemId","isElementOnDom","activedescendant","setAria","_displayValue","_displayGetter","_refreshSelected","_listItemElements","_","itemElement","$itemElement","itemValue","data","isItemSelected","_isSelectedValue","selectItem","unselectItem","_popupShownHandler","_setFocusPolicy","normalizedSearchMode","toLowerCase","includes","Error","_processDataSourceChanging","_initDataController","_setListOption","_dataController","fail","_isCustomValueAllowed","reset","_clearFilter","_$list","find","_popupConfig","templatesRenderAsynchronously","autoResizeEnabled","maxHeight","_getMaxHeight","_renderPopupContent","_renderList","_getKeyboardListeners","canListHaveFocus","_canListHaveFocus","_setAriaTargetForList","_getAriaTarget","_listId","_value","$list","attr","appendTo","_createComponent","_listConfig","_refreshList","role","_renderPreventBlurOnListClick","eventName","preventDefault","_getControlsAria","_renderOpenedState","_popupContentId","_setDefaultAria","haspopup","autocomplete","_shouldRefreshDataSource","dataSourceProvided","_needPassDataSourceToList","_isDesktopDevice","deviceType","selectionMode","_templates","templateProvider","onContentReady","_listContentReadyHandler","itemTemplate","indicateLoading","keyExpr","_getCollectionKeyExpr","displayExpr","_displayGetterExpr","_listItemClickAction","dataSource","_getDataSource","hoverStateEnabled","focusStateEnabled","tabIndex","_dataSourceOptions","paginate","_getGroupedOption","_dataSourceFromUrlLoadMode","dxList","_updatePopupWidth","_updateListDimensions","optionName","_setWidgetOption","_listItemClickHandler","_isMinSearchLengthExceeded","_searchValue","toString","_needClearFilter","_canKeepDataSource","isMinSearchLengthExceeded","isLoaded","_isLastMinSearchLengthExceeded","_input","val","_getSearchEvent","NAME","_getCompositionStartEvent","_getCompositionEndEvent","_getSetFocusPolicyEvent","_renderEvents","_shouldRenderSearchEvent","_searchHandler","_isTextCompositionInProgress","_refreshEvents","_isTextComposition","searchValue","_searchCanceled","_clearSearchTimer","_searchTimer","setTimeout","_searchDataSource","_filterDataSource","dataController","searchOperation","load","done","_dataSourceFiltered","_refreshPopupVisibility","_shouldOpenPopup","_hasItemsToShow","shouldOpenPopup","_isFocused","_dataSourceChangedHandler","newItems","pageIndex","resultItems","resultAmount","clearTimeout","_popupShowingHandler","_dimensionChanged","_needPopupRepaint","currentPageIndex","needRepaint","_pageIndex","isLastPage","_scrollViewIsFull","repaint","updateDimensions","$customBoundaryContainer","offsetTop","top","windowHeight","containerHeight","Math","min","max","_clean","_dispose","_setCollectionWidgetOption","_setSubmitValue","submitValue","_shouldUseDisplayValue","_getSubmitElement","_optionChanged","args","_dataExpressionOptionChanged","name","_renderValue","_invalidate","previousValue","include"],"sources":["C:/Users/ninad/OneDrive/Radna površina/zavrsni/client/node_modules/devextreme/esm/ui/drop_down_editor/ui.drop_down_list.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/drop_down_editor/ui.drop_down_list.js)\r\n * Version: 22.2.6\r\n * Build date: Tue Apr 18 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getOuterHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    getWindow\r\n} from \"../../core/utils/window\";\r\nvar window = getWindow();\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport Guid from \"../../core/guid\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport {\r\n    noop,\r\n    ensureDefined,\r\n    grep\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    isWindow,\r\n    isDefined,\r\n    isObject\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport DropDownEditor from \"./ui.drop_down_editor\";\r\nimport List from \"../list_light\";\r\nimport errors from \"../widget/ui.errors\";\r\nimport {\r\n    addNamespace\r\n} from \"../../events/utils/index\";\r\nimport devices from \"../../core/devices\";\r\nimport dataQuery from \"../../data/query\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport DataExpressionMixin from \"../editor/ui.data_expression\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    ChildDefaultTemplate\r\n} from \"../../core/templates/child_default_template\";\r\nimport {\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport DataConverterMixin from \"../shared/grouped_data_converter_mixin\";\r\nvar LIST_ITEM_SELECTOR = \".dx-list-item\";\r\nvar LIST_ITEM_DATA_KEY = \"dxListItemData\";\r\nvar DROPDOWNLIST_POPUP_WRAPPER_CLASS = \"dx-dropdownlist-popup-wrapper\";\r\nvar SEARCH_EVENT = \"input\";\r\nvar SEARCH_MODES = [\"startswith\", \"contains\", \"endwith\", \"notcontains\"];\r\nvar useCompositionEvents = \"android\" !== devices.real().platform;\r\nvar DropDownList = DropDownEditor.inherit({\r\n    _supportedKeys: function() {\r\n        var parent = this.callBase();\r\n        return extend({}, parent, {\r\n            tab: function(e) {\r\n                if (this._allowSelectItemByTab()) {\r\n                    this._saveValueChangeEvent(e);\r\n                    var $focusedItem = $(this._list.option(\"focusedElement\"));\r\n                    $focusedItem.length && this._setSelectedElement($focusedItem)\r\n                }\r\n                parent.tab.apply(this, arguments)\r\n            },\r\n            space: noop,\r\n            home: noop,\r\n            end: noop\r\n        })\r\n    },\r\n    _allowSelectItemByTab: function() {\r\n        return this.option(\"opened\") && \"instantly\" === this.option(\"applyValueMode\")\r\n    },\r\n    _setSelectedElement: function($element) {\r\n        var value = this._valueGetter(this._list._getItemData($element));\r\n        this._setValue(value)\r\n    },\r\n    _setValue: function(value) {\r\n        this.option(\"value\", value)\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), extend(DataExpressionMixin._dataExpressionDefaultOptions(), {\r\n            displayValue: void 0,\r\n            searchEnabled: false,\r\n            searchMode: \"contains\",\r\n            searchTimeout: 500,\r\n            minSearchLength: 0,\r\n            searchExpr: null,\r\n            valueChangeEvent: \"input change keyup\",\r\n            selectedItem: null,\r\n            noDataText: messageLocalization.format(\"dxCollectionWidget-noDataText\"),\r\n            encodeNoDataText: false,\r\n            onSelectionChanged: null,\r\n            onItemClick: noop,\r\n            showDataBeforeSearch: false,\r\n            grouped: false,\r\n            groupTemplate: \"group\",\r\n            popupPosition: {\r\n                my: \"left top\",\r\n                at: \"left bottom\",\r\n                offset: {\r\n                    h: 0,\r\n                    v: 0\r\n                },\r\n                collision: \"flip\"\r\n            },\r\n            wrapItemText: false,\r\n            useItemTextAsTitle: false\r\n        }))\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: {\r\n                platform: \"ios\"\r\n            },\r\n            options: {\r\n                popupPosition: {\r\n                    offset: {\r\n                        v: -1\r\n                    }\r\n                }\r\n            }\r\n        }, {\r\n            device: {\r\n                platform: \"generic\"\r\n            },\r\n            options: {\r\n                buttonsLocation: \"bottom center\"\r\n            }\r\n        }])\r\n    },\r\n    _setOptionsByReference: function() {\r\n        this.callBase();\r\n        extend(this._optionsByReference, {\r\n            value: true,\r\n            selectedItem: true,\r\n            displayValue: true\r\n        })\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this._initDataExpressions();\r\n        this._initActions();\r\n        this._setListDataSource();\r\n        this._validateSearchMode();\r\n        this._clearSelectedItem();\r\n        this._initItems()\r\n    },\r\n    _setListFocusedElementOptionChange: function() {\r\n        this._list._updateParentActiveDescendant = this._updateActiveDescendant.bind(this)\r\n    },\r\n    _initItems: function() {\r\n        var items = this.option().items;\r\n        if (items && !items.length && this._dataSource) {\r\n            this.option().items = this._dataSource.items()\r\n        }\r\n    },\r\n    _initActions: function() {\r\n        this._initContentReadyAction();\r\n        this._initSelectionChangedAction();\r\n        this._initItemClickAction()\r\n    },\r\n    _initContentReadyAction: function() {\r\n        this._contentReadyAction = this._createActionByOption(\"onContentReady\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        })\r\n    },\r\n    _initSelectionChangedAction: function() {\r\n        this._selectionChangedAction = this._createActionByOption(\"onSelectionChanged\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        })\r\n    },\r\n    _initItemClickAction: function() {\r\n        this._itemClickAction = this._createActionByOption(\"onItemClick\")\r\n    },\r\n    _initTemplates: function() {\r\n        this.callBase();\r\n        this._templateManager.addDefaultTemplates({\r\n            item: new ChildDefaultTemplate(\"item\")\r\n        })\r\n    },\r\n    _isEditable: function() {\r\n        return this.callBase() || this.option(\"searchEnabled\")\r\n    },\r\n    _saveFocusOnWidget: function(e) {\r\n        if (this._list && this._list.initialOption(\"focusStateEnabled\")) {\r\n            this._focusInput()\r\n        }\r\n    },\r\n    _fitIntoRange: function(value, start, end) {\r\n        if (value > end) {\r\n            return start\r\n        }\r\n        if (value < start) {\r\n            return end\r\n        }\r\n        return value\r\n    },\r\n    _items: function() {\r\n        var items = this._getPlainItems(!this._list && this._dataSource.items());\r\n        var availableItems = new dataQuery(items).filter(\"disabled\", \"<>\", true).toArray();\r\n        return availableItems\r\n    },\r\n    _calcNextItem: function(step) {\r\n        var items = this._items();\r\n        var nextIndex = this._fitIntoRange(this._getSelectedIndex() + step, 0, items.length - 1);\r\n        return items[nextIndex]\r\n    },\r\n    _getSelectedIndex: function() {\r\n        var items = this._items();\r\n        var selectedItem = this.option(\"selectedItem\");\r\n        var result = -1;\r\n        each(items, function(index, item) {\r\n            if (this._isValueEquals(item, selectedItem)) {\r\n                result = index;\r\n                return false\r\n            }\r\n        }.bind(this));\r\n        return result\r\n    },\r\n    _createPopup: function() {\r\n        this.callBase();\r\n        this._updateCustomBoundaryContainer();\r\n        this._popup.$wrapper().addClass(this._popupWrapperClass());\r\n        var $popupContent = this._popup.$content();\r\n        eventsEngine.off($popupContent, \"mouseup\");\r\n        eventsEngine.on($popupContent, \"mouseup\", this._saveFocusOnWidget.bind(this))\r\n    },\r\n    _updateCustomBoundaryContainer: function() {\r\n        var customContainer = this.option(\"dropDownOptions.container\");\r\n        var $container = customContainer && $(customContainer);\r\n        if ($container && $container.length && !isWindow($container.get(0))) {\r\n            var $containerWithParents = [].slice.call($container.parents());\r\n            $containerWithParents.unshift($container.get(0));\r\n            each($containerWithParents, function(i, parent) {\r\n                if (parent === $(\"body\").get(0)) {\r\n                    return false\r\n                } else if (\"hidden\" === window.getComputedStyle(parent).overflowY) {\r\n                    this._$customBoundaryContainer = $(parent);\r\n                    return false\r\n                }\r\n            }.bind(this))\r\n        }\r\n    },\r\n    _popupWrapperClass: function() {\r\n        return DROPDOWNLIST_POPUP_WRAPPER_CLASS\r\n    },\r\n    _renderInputValue: function() {\r\n        var value = this._getCurrentValue();\r\n        this._rejectValueLoading();\r\n        return this._loadInputValue(value, this._setSelectedItem.bind(this)).always(this.callBase.bind(this, value))\r\n    },\r\n    _loadInputValue: function(value, callback) {\r\n        return this._loadItem(value).always(callback)\r\n    },\r\n    _getItemFromPlain: function(value, cache) {\r\n        var plainItems;\r\n        var selectedItem;\r\n        if (cache && \"object\" !== typeof value) {\r\n            if (!cache.itemByValue) {\r\n                cache.itemByValue = {};\r\n                plainItems = this._getPlainItems();\r\n                plainItems.forEach((function(item) {\r\n                    cache.itemByValue[this._valueGetter(item)] = item\r\n                }), this)\r\n            }\r\n            selectedItem = cache.itemByValue[value]\r\n        }\r\n        if (!selectedItem) {\r\n            plainItems = this._getPlainItems();\r\n            selectedItem = grep(plainItems, function(item) {\r\n                return this._isValueEquals(this._valueGetter(item), value)\r\n            }.bind(this))[0]\r\n        }\r\n        return selectedItem\r\n    },\r\n    _loadItem: function(value, cache) {\r\n        var selectedItem = this._getItemFromPlain(value, cache);\r\n        return void 0 !== selectedItem ? (new Deferred).resolve(selectedItem).promise() : this._loadValue(value)\r\n    },\r\n    _getPlainItems: function(items) {\r\n        var plainItems = [];\r\n        items = items || this.option(\"items\") || this._dataSource.items() || [];\r\n        for (var i = 0; i < items.length; i++) {\r\n            if (items[i] && items[i].items) {\r\n                plainItems = plainItems.concat(items[i].items)\r\n            } else {\r\n                plainItems.push(items[i])\r\n            }\r\n        }\r\n        return plainItems\r\n    },\r\n    _updateActiveDescendant() {\r\n        var _this$_list;\r\n        var opened = this.option(\"opened\");\r\n        var listFocusedItemId = null === (_this$_list = this._list) || void 0 === _this$_list ? void 0 : _this$_list.getFocusedItemId();\r\n        var isElementOnDom = $(\"#\".concat(listFocusedItemId)).length > 0;\r\n        var activedescendant = opened && isElementOnDom && listFocusedItemId;\r\n        this.setAria({\r\n            activedescendant: activedescendant || null\r\n        })\r\n    },\r\n    _setSelectedItem: function(item) {\r\n        var displayValue = this._displayValue(item);\r\n        this.option(\"selectedItem\", ensureDefined(item, null));\r\n        this.option(\"displayValue\", displayValue)\r\n    },\r\n    _displayValue: function(item) {\r\n        return this._displayGetter(item)\r\n    },\r\n    _refreshSelected: function() {\r\n        var cache = {};\r\n        this._listItemElements().each(function(_, itemElement) {\r\n            var $itemElement = $(itemElement);\r\n            var itemValue = this._valueGetter($itemElement.data(LIST_ITEM_DATA_KEY));\r\n            var isItemSelected = this._isSelectedValue(itemValue, cache);\r\n            if (isItemSelected) {\r\n                this._list.selectItem($itemElement)\r\n            } else {\r\n                this._list.unselectItem($itemElement)\r\n            }\r\n        }.bind(this))\r\n    },\r\n    _popupShownHandler: function() {\r\n        this.callBase();\r\n        this._setFocusPolicy()\r\n    },\r\n    _setFocusPolicy: function() {\r\n        if (!this.option(\"focusStateEnabled\") || !this._list) {\r\n            return\r\n        }\r\n        this._list.option(\"focusedElement\", null)\r\n    },\r\n    _isSelectedValue: function(value) {\r\n        return this._isValueEquals(value, this.option(\"value\"))\r\n    },\r\n    _validateSearchMode: function() {\r\n        var searchMode = this.option(\"searchMode\");\r\n        var normalizedSearchMode = searchMode.toLowerCase();\r\n        if (!SEARCH_MODES.includes(normalizedSearchMode)) {\r\n            throw errors.Error(\"E1019\", searchMode)\r\n        }\r\n    },\r\n    _clearSelectedItem: function() {\r\n        this.option(\"selectedItem\", null)\r\n    },\r\n    _processDataSourceChanging: function() {\r\n        this._initDataController();\r\n        this._setListOption(\"_dataController\", this._dataController);\r\n        this._setListDataSource();\r\n        this._renderInputValue().fail(function() {\r\n            if (this._isCustomValueAllowed()) {\r\n                return\r\n            }\r\n            this._clearSelectedItem()\r\n        }.bind(this))\r\n    },\r\n    _isCustomValueAllowed: function() {\r\n        return this.option(\"displayCustomValue\")\r\n    },\r\n    reset: function() {\r\n        this.callBase();\r\n        this._clearFilter();\r\n        this._clearSelectedItem()\r\n    },\r\n    _listItemElements: function() {\r\n        return this._$list ? this._$list.find(LIST_ITEM_SELECTOR) : $()\r\n    },\r\n    _popupConfig: function() {\r\n        return extend(this.callBase(), {\r\n            templatesRenderAsynchronously: false,\r\n            autoResizeEnabled: false,\r\n            maxHeight: this._getMaxHeight.bind(this)\r\n        })\r\n    },\r\n    _renderPopupContent: function() {\r\n        this.callBase();\r\n        this._renderList()\r\n    },\r\n    _getKeyboardListeners() {\r\n        var canListHaveFocus = this._canListHaveFocus();\r\n        return this.callBase().concat([!canListHaveFocus && this._list])\r\n    },\r\n    _setAriaTargetForList: function() {\r\n        this._list._getAriaTarget = this._getAriaTarget.bind(this)\r\n    },\r\n    _renderList: function() {\r\n        this._listId = \"dx-\" + (new Guid)._value;\r\n        var $list = this._$list = $(\"<div>\").attr(\"id\", this._listId).appendTo(this._popup.$content());\r\n        this._list = this._createComponent($list, List, this._listConfig());\r\n        this._refreshList();\r\n        this._setAriaTargetForList();\r\n        this._list.option(\"_listAttributes\", {\r\n            role: \"combobox\"\r\n        });\r\n        this._renderPreventBlurOnListClick();\r\n        this._setListFocusedElementOptionChange()\r\n    },\r\n    _renderPreventBlurOnListClick: function() {\r\n        var eventName = addNamespace(\"mousedown\", \"dxDropDownList\");\r\n        eventsEngine.off(this._$list, eventName);\r\n        eventsEngine.on(this._$list, eventName, e => e.preventDefault())\r\n    },\r\n    _getControlsAria() {\r\n        return this._list && this._listId\r\n    },\r\n    _renderOpenedState: function() {\r\n        this.callBase();\r\n        this._list && this._updateActiveDescendant();\r\n        this.setAria(\"owns\", this._popup && this._popupContentId)\r\n    },\r\n    _setDefaultAria: function() {\r\n        this.setAria({\r\n            haspopup: \"listbox\",\r\n            autocomplete: \"list\"\r\n        })\r\n    },\r\n    _refreshList: function() {\r\n        if (this._list && this._shouldRefreshDataSource()) {\r\n            this._setListDataSource()\r\n        }\r\n    },\r\n    _shouldRefreshDataSource: function() {\r\n        var dataSourceProvided = !!this._list.option(\"dataSource\");\r\n        return dataSourceProvided !== this._needPassDataSourceToList()\r\n    },\r\n    _isDesktopDevice: function() {\r\n        return \"desktop\" === devices.real().deviceType\r\n    },\r\n    _listConfig: function() {\r\n        var options = {\r\n            selectionMode: \"single\",\r\n            _templates: this.option(\"_templates\"),\r\n            templateProvider: this.option(\"templateProvider\"),\r\n            noDataText: this.option(\"noDataText\"),\r\n            encodeNoDataText: this.option(\"encodeNoDataText\"),\r\n            grouped: this.option(\"grouped\"),\r\n            wrapItemText: this.option(\"wrapItemText\"),\r\n            useItemTextAsTitle: this.option(\"useItemTextAsTitle\"),\r\n            onContentReady: this._listContentReadyHandler.bind(this),\r\n            itemTemplate: this.option(\"itemTemplate\"),\r\n            indicateLoading: false,\r\n            keyExpr: this._getCollectionKeyExpr(),\r\n            displayExpr: this._displayGetterExpr(),\r\n            groupTemplate: this.option(\"groupTemplate\"),\r\n            onItemClick: this._listItemClickAction.bind(this),\r\n            dataSource: this._getDataSource(),\r\n            _dataController: this._dataController,\r\n            hoverStateEnabled: this._isDesktopDevice() ? this.option(\"hoverStateEnabled\") : false,\r\n            focusStateEnabled: this._isDesktopDevice() ? this.option(\"focusStateEnabled\") : false\r\n        };\r\n        if (!this._canListHaveFocus()) {\r\n            options.tabIndex = null\r\n        }\r\n        return options\r\n    },\r\n    _canListHaveFocus: () => false,\r\n    _getDataSource: function() {\r\n        return this._needPassDataSourceToList() ? this._dataSource : null\r\n    },\r\n    _dataSourceOptions: function() {\r\n        return {\r\n            paginate: false\r\n        }\r\n    },\r\n    _getGroupedOption: function() {\r\n        return this.option(\"grouped\")\r\n    },\r\n    _dataSourceFromUrlLoadMode: function() {\r\n        return \"raw\"\r\n    },\r\n    _listContentReadyHandler: function() {\r\n        this._list = this._list || this._$list.dxList(\"instance\");\r\n        if (!this.option(\"deferRendering\")) {\r\n            this._refreshSelected()\r\n        }\r\n        this._updatePopupWidth();\r\n        this._updateListDimensions();\r\n        this._contentReadyAction()\r\n    },\r\n    _setListOption: function(optionName, value) {\r\n        this._setWidgetOption(\"_list\", arguments)\r\n    },\r\n    _listItemClickAction: function(e) {\r\n        this._listItemClickHandler(e);\r\n        this._itemClickAction(e)\r\n    },\r\n    _listItemClickHandler: noop,\r\n    _setListDataSource: function() {\r\n        if (!this._list) {\r\n            return\r\n        }\r\n        this._setListOption(\"dataSource\", this._getDataSource());\r\n        if (!this._needPassDataSourceToList()) {\r\n            this._setListOption(\"items\", [])\r\n        }\r\n    },\r\n    _needPassDataSourceToList: function() {\r\n        return this.option(\"showDataBeforeSearch\") || this._isMinSearchLengthExceeded()\r\n    },\r\n    _isMinSearchLengthExceeded: function() {\r\n        return this._searchValue().toString().length >= this.option(\"minSearchLength\")\r\n    },\r\n    _needClearFilter: function() {\r\n        return this._canKeepDataSource() ? false : this._needPassDataSourceToList()\r\n    },\r\n    _canKeepDataSource: function() {\r\n        var isMinSearchLengthExceeded = this._isMinSearchLengthExceeded();\r\n        return this._dataController.isLoaded() && this.option(\"showDataBeforeSearch\") && this.option(\"minSearchLength\") && !isMinSearchLengthExceeded && !this._isLastMinSearchLengthExceeded\r\n    },\r\n    _searchValue: function() {\r\n        return this._input().val() || \"\"\r\n    },\r\n    _getSearchEvent: function() {\r\n        return addNamespace(SEARCH_EVENT, this.NAME + \"Search\")\r\n    },\r\n    _getCompositionStartEvent: function() {\r\n        return addNamespace(\"compositionstart\", this.NAME + \"CompositionStart\")\r\n    },\r\n    _getCompositionEndEvent: function() {\r\n        return addNamespace(\"compositionend\", this.NAME + \"CompositionEnd\")\r\n    },\r\n    _getSetFocusPolicyEvent: function() {\r\n        return addNamespace(\"input\", this.NAME + \"FocusPolicy\")\r\n    },\r\n    _renderEvents: function() {\r\n        this.callBase();\r\n        eventsEngine.on(this._input(), this._getSetFocusPolicyEvent(), () => {\r\n            this._setFocusPolicy()\r\n        });\r\n        if (this._shouldRenderSearchEvent()) {\r\n            eventsEngine.on(this._input(), this._getSearchEvent(), e => {\r\n                this._searchHandler(e)\r\n            });\r\n            if (useCompositionEvents) {\r\n                eventsEngine.on(this._input(), this._getCompositionStartEvent(), () => {\r\n                    this._isTextCompositionInProgress(true)\r\n                });\r\n                eventsEngine.on(this._input(), this._getCompositionEndEvent(), e => {\r\n                    this._isTextCompositionInProgress(void 0);\r\n                    this._searchHandler(e, this._searchValue())\r\n                })\r\n            }\r\n        }\r\n    },\r\n    _shouldRenderSearchEvent: function() {\r\n        return this.option(\"searchEnabled\")\r\n    },\r\n    _refreshEvents: function() {\r\n        eventsEngine.off(this._input(), this._getSearchEvent());\r\n        eventsEngine.off(this._input(), this._getSetFocusPolicyEvent());\r\n        if (useCompositionEvents) {\r\n            eventsEngine.off(this._input(), this._getCompositionStartEvent());\r\n            eventsEngine.off(this._input(), this._getCompositionEndEvent())\r\n        }\r\n        this.callBase()\r\n    },\r\n    _isTextCompositionInProgress: function(value) {\r\n        if (arguments.length) {\r\n            this._isTextComposition = value\r\n        } else {\r\n            return this._isTextComposition\r\n        }\r\n    },\r\n    _searchHandler: function(e, searchValue) {\r\n        if (this._isTextCompositionInProgress()) {\r\n            return\r\n        }\r\n        if (!this._isMinSearchLengthExceeded()) {\r\n            this._searchCanceled();\r\n            return\r\n        }\r\n        var searchTimeout = this.option(\"searchTimeout\");\r\n        if (searchTimeout) {\r\n            this._clearSearchTimer();\r\n            this._searchTimer = setTimeout(() => {\r\n                this._searchDataSource(searchValue)\r\n            }, searchTimeout)\r\n        } else {\r\n            this._searchDataSource(searchValue)\r\n        }\r\n    },\r\n    _searchCanceled: function() {\r\n        this._clearSearchTimer();\r\n        if (this._needClearFilter()) {\r\n            this._filterDataSource(null)\r\n        }\r\n        this._refreshList()\r\n    },\r\n    _searchDataSource: function() {\r\n        var searchValue = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this._searchValue();\r\n        this._filterDataSource(searchValue)\r\n    },\r\n    _filterDataSource: function(searchValue) {\r\n        this._clearSearchTimer();\r\n        var dataController = this._dataController;\r\n        dataController.searchExpr(this.option(\"searchExpr\") || this._displayGetterExpr());\r\n        dataController.searchOperation(this.option(\"searchMode\"));\r\n        dataController.searchValue(searchValue);\r\n        dataController.load().done(this._dataSourceFiltered.bind(this, searchValue))\r\n    },\r\n    _clearFilter: function() {\r\n        var dataController = this._dataController;\r\n        dataController.searchValue() && dataController.searchValue(null)\r\n    },\r\n    _dataSourceFiltered: function() {\r\n        this._isLastMinSearchLengthExceeded = this._isMinSearchLengthExceeded();\r\n        this._refreshList();\r\n        this._refreshPopupVisibility()\r\n    },\r\n    _shouldOpenPopup: function() {\r\n        return this._hasItemsToShow()\r\n    },\r\n    _refreshPopupVisibility: function() {\r\n        if (this.option(\"readOnly\") || !this._searchValue()) {\r\n            return\r\n        }\r\n        var shouldOpenPopup = this._shouldOpenPopup();\r\n        if (shouldOpenPopup && !this._isFocused()) {\r\n            return\r\n        }\r\n        this.option(\"opened\", shouldOpenPopup);\r\n        if (shouldOpenPopup) {\r\n            this._updatePopupWidth();\r\n            this._updateListDimensions()\r\n        }\r\n    },\r\n    _dataSourceChangedHandler: function(newItems) {\r\n        if (0 === this._dataController.pageIndex()) {\r\n            this.option().items = newItems\r\n        } else {\r\n            this.option().items = this.option().items.concat(newItems)\r\n        }\r\n    },\r\n    _hasItemsToShow: function() {\r\n        var dataController = this._dataController;\r\n        var resultItems = dataController.items() || [];\r\n        var resultAmount = resultItems.length;\r\n        var isMinSearchLengthExceeded = this._needPassDataSourceToList();\r\n        return !!(isMinSearchLengthExceeded && resultAmount)\r\n    },\r\n    _clearSearchTimer: function() {\r\n        clearTimeout(this._searchTimer);\r\n        delete this._searchTimer\r\n    },\r\n    _popupShowingHandler: function() {\r\n        this._updatePopupWidth();\r\n        this._updateListDimensions()\r\n    },\r\n    _dimensionChanged: function() {\r\n        this.callBase();\r\n        this._updateListDimensions()\r\n    },\r\n    _needPopupRepaint: function() {\r\n        var dataController = this._dataController;\r\n        var currentPageIndex = dataController.pageIndex();\r\n        var needRepaint = isDefined(this._pageIndex) && currentPageIndex <= this._pageIndex || dataController.isLastPage() && !this._list._scrollViewIsFull();\r\n        this._pageIndex = currentPageIndex;\r\n        return needRepaint\r\n    },\r\n    _updateListDimensions: function() {\r\n        if (!this._popup) {\r\n            return\r\n        }\r\n        if (this._needPopupRepaint()) {\r\n            this._popup.repaint()\r\n        }\r\n        this._list && this._list.updateDimensions()\r\n    },\r\n    _getMaxHeight: function() {\r\n        var $element = this.$element();\r\n        var $customBoundaryContainer = this._$customBoundaryContainer;\r\n        var offsetTop = $element.offset().top - ($customBoundaryContainer ? $customBoundaryContainer.offset().top : 0);\r\n        var windowHeight = getOuterHeight(window);\r\n        var containerHeight = $customBoundaryContainer ? Math.min(getOuterHeight($customBoundaryContainer), windowHeight) : windowHeight;\r\n        var maxHeight = Math.max(offsetTop, containerHeight - offsetTop - getOuterHeight($element));\r\n        return Math.min(.5 * containerHeight, maxHeight)\r\n    },\r\n    _clean: function() {\r\n        if (this._list) {\r\n            delete this._list\r\n        }\r\n        delete this._isLastMinSearchLengthExceeded;\r\n        this.callBase()\r\n    },\r\n    _dispose: function() {\r\n        this._clearSearchTimer();\r\n        this.callBase()\r\n    },\r\n    _setCollectionWidgetOption: function() {\r\n        this._setListOption.apply(this, arguments)\r\n    },\r\n    _setSubmitValue: function() {\r\n        var value = this.option(\"value\");\r\n        var submitValue = this._shouldUseDisplayValue(value) ? this._displayGetter(value) : value;\r\n        this._getSubmitElement().val(submitValue)\r\n    },\r\n    _shouldUseDisplayValue: function(value) {\r\n        return \"this\" === this.option(\"valueExpr\") && isObject(value)\r\n    },\r\n    _optionChanged: function(args) {\r\n        this._dataExpressionOptionChanged(args);\r\n        switch (args.name) {\r\n            case \"hoverStateEnabled\":\r\n            case \"focusStateEnabled\":\r\n                this._isDesktopDevice() && this._setListOption(args.name, args.value);\r\n                this.callBase(args);\r\n                break;\r\n            case \"items\":\r\n                if (!this.option(\"dataSource\")) {\r\n                    this._processDataSourceChanging()\r\n                }\r\n                break;\r\n            case \"dataSource\":\r\n                this._processDataSourceChanging();\r\n                break;\r\n            case \"valueExpr\":\r\n                this._renderValue();\r\n                this._setListOption(\"keyExpr\", this._getCollectionKeyExpr());\r\n                break;\r\n            case \"displayExpr\":\r\n                this._renderValue();\r\n                this._setListOption(\"displayExpr\", this._displayGetterExpr());\r\n                break;\r\n            case \"searchMode\":\r\n                this._validateSearchMode();\r\n                break;\r\n            case \"minSearchLength\":\r\n                this._refreshList();\r\n                break;\r\n            case \"searchEnabled\":\r\n            case \"showDataBeforeSearch\":\r\n            case \"searchExpr\":\r\n                this._invalidate();\r\n                break;\r\n            case \"onContentReady\":\r\n                this._initContentReadyAction();\r\n                break;\r\n            case \"onSelectionChanged\":\r\n                this._initSelectionChangedAction();\r\n                break;\r\n            case \"onItemClick\":\r\n                this._initItemClickAction();\r\n                break;\r\n            case \"grouped\":\r\n            case \"groupTemplate\":\r\n            case \"wrapItemText\":\r\n            case \"noDataText\":\r\n            case \"encodeNoDataText\":\r\n            case \"useItemTextAsTitle\":\r\n                this._setListOption(args.name);\r\n                break;\r\n            case \"displayValue\":\r\n                this.option(\"text\", args.value);\r\n                break;\r\n            case \"itemTemplate\":\r\n            case \"searchTimeout\":\r\n                break;\r\n            case \"selectedItem\":\r\n                if (args.previousValue !== args.value) {\r\n                    this._selectionChangedAction({\r\n                        selectedItem: args.value\r\n                    })\r\n                }\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n}).include(DataExpressionMixin, DataConverterMixin);\r\nregisterComponent(\"dxDropDownList\", DropDownList);\r\nexport default DropDownList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}