{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/collection/ui.collection_widget.base.js)\r\n * Version: 22.2.6\r\n * Build date: Tue Apr 18 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { getOuterWidth } from \"../../core/utils/size\";\nimport $ from \"../../core/renderer\";\nimport eventsEngine from \"../../events/core/events_engine\";\nimport { ensureDefined, deferRenderer, noop } from \"../../core/utils/common\";\nimport { findTemplates } from \"../../core/utils/template_manager\";\nimport { getPublicElement } from \"../../core/element\";\nimport domAdapter from \"../../core/dom_adapter\";\nimport { isPlainObject, isFunction, isDefined } from \"../../core/utils/type\";\nimport { when } from \"../../core/utils/deferred\";\nimport { extend } from \"../../core/utils/extend\";\nimport { each } from \"../../core/utils/iterator\";\nimport Action from \"../../core/action\";\nimport Guid from \"../../core/guid\";\nimport Widget from \"../widget/ui.widget\";\nimport { addNamespace, isCommandKeyPressed } from \"../../events/utils/index\";\nimport pointerEvents from \"../../events/pointer\";\nimport DataHelperMixin from \"../../data_helper\";\nimport CollectionWidgetItem from \"./item\";\nimport { focusable } from \"../widget/selectors\";\nimport messageLocalization from \"../../localization/message\";\nimport holdEvent from \"../../events/hold\";\nimport { compileGetter } from \"../../core/utils/data\";\nimport { name as clickEventName } from \"../../events/click\";\nimport { name as contextMenuEventName } from \"../../events/contextmenu\";\nimport { BindableTemplate } from \"../../core/templates/bindable_template\";\nvar COLLECTION_CLASS = \"dx-collection\";\nvar ITEM_CLASS = \"dx-item\";\nvar CONTENT_CLASS_POSTFIX = \"-content\";\nvar ITEM_CONTENT_PLACEHOLDER_CLASS = \"dx-item-content-placeholder\";\nvar ITEM_DATA_KEY = \"dxItemData\";\nvar ITEM_INDEX_KEY = \"dxItemIndex\";\nvar ITEM_TEMPLATE_ID_PREFIX = \"tmpl-\";\nvar ITEMS_OPTIONS_NAME = \"dxItem\";\nvar SELECTED_ITEM_CLASS = \"dx-item-selected\";\nvar ITEM_RESPONSE_WAIT_CLASS = \"dx-item-response-wait\";\nvar EMPTY_COLLECTION = \"dx-empty-collection\";\nvar TEMPLATE_WRAPPER_CLASS = \"dx-template-wrapper\";\nvar ITEM_PATH_REGEX = /^([^.]+\\[\\d+\\]\\.)+([\\w.]+)$/;\nvar ANONYMOUS_TEMPLATE_NAME = \"item\";\nvar FOCUS_UP = \"up\";\nvar FOCUS_DOWN = \"down\";\nvar FOCUS_LEFT = \"left\";\nvar FOCUS_RIGHT = \"right\";\nvar FOCUS_PAGE_UP = \"pageup\";\nvar FOCUS_PAGE_DOWN = \"pagedown\";\nvar FOCUS_LAST = \"last\";\nvar FOCUS_FIRST = \"first\";\nvar CollectionWidget = Widget.inherit({\n  _activeStateUnit: \".\" + ITEM_CLASS,\n  _supportedKeys: function () {\n    var enter = function (e) {\n      var $itemElement = $(this.option(\"focusedElement\"));\n      if (!$itemElement.length) {\n        return;\n      }\n      this._itemClickHandler(extend({}, e, {\n        target: $itemElement.get(0),\n        currentTarget: $itemElement.get(0)\n      }));\n    };\n    var move = function (location, e) {\n      if (!isCommandKeyPressed(e)) {\n        e.preventDefault();\n        e.stopPropagation();\n        this._moveFocus(location, e);\n      }\n    };\n    return extend(this.callBase(), {\n      space: function (e) {\n        e.preventDefault();\n        enter.call(this, e);\n      },\n      enter: enter,\n      leftArrow: move.bind(this, FOCUS_LEFT),\n      rightArrow: move.bind(this, FOCUS_RIGHT),\n      upArrow: move.bind(this, FOCUS_UP),\n      downArrow: move.bind(this, FOCUS_DOWN),\n      pageUp: move.bind(this, FOCUS_UP),\n      pageDown: move.bind(this, FOCUS_DOWN),\n      home: move.bind(this, FOCUS_FIRST),\n      end: move.bind(this, FOCUS_LAST)\n    });\n  },\n  _getDefaultOptions: function () {\n    return extend(this.callBase(), {\n      selectOnFocus: false,\n      loopItemFocus: true,\n      items: [],\n      itemTemplate: \"item\",\n      onItemRendered: null,\n      onItemClick: null,\n      onItemHold: null,\n      itemHoldTimeout: 750,\n      onItemContextMenu: null,\n      onFocusedItemChanged: null,\n      noDataText: messageLocalization.format(\"dxCollectionWidget-noDataText\"),\n      encodeNoDataText: false,\n      dataSource: null,\n      _dataController: null,\n      _itemAttributes: {},\n      itemTemplateProperty: \"template\",\n      focusOnSelectedItem: true,\n      focusedElement: null,\n      displayExpr: void 0,\n      disabledExpr: function (data) {\n        return data ? data.disabled : void 0;\n      },\n      visibleExpr: function (data) {\n        return data ? data.visible : void 0;\n      }\n    });\n  },\n  _init: function () {\n    this._compileDisplayGetter();\n    this._initDataController();\n    this.callBase();\n    this._cleanRenderedItems();\n    this._refreshDataSource();\n  },\n  _compileDisplayGetter: function () {\n    var displayExpr = this.option(\"displayExpr\");\n    this._displayGetter = displayExpr ? compileGetter(this.option(\"displayExpr\")) : void 0;\n  },\n  _initTemplates: function () {\n    this._initItemsFromMarkup();\n    this._initDefaultItemTemplate();\n    this.callBase();\n  },\n  _getAnonymousTemplateName: function () {\n    return ANONYMOUS_TEMPLATE_NAME;\n  },\n  _initDefaultItemTemplate: function () {\n    var fieldsMap = this._getFieldsMap();\n    this._templateManager.addDefaultTemplates({\n      item: new BindableTemplate(function ($container, data) {\n        if (isPlainObject(data)) {\n          this._prepareDefaultItemTemplate(data, $container);\n        } else {\n          if (fieldsMap && isFunction(fieldsMap.text)) {\n            data = fieldsMap.text(data);\n          }\n          $container.text(String(ensureDefined(data, \"\")));\n        }\n      }.bind(this), this._getBindableFields(), this.option(\"integrationOptions.watchMethod\"), fieldsMap)\n    });\n  },\n  _getBindableFields: function () {\n    return [\"text\", \"html\"];\n  },\n  _getFieldsMap: function () {\n    if (this._displayGetter) {\n      return {\n        text: this._displayGetter\n      };\n    }\n  },\n  _prepareDefaultItemTemplate: function (data, $container) {\n    if (isDefined(data.text)) {\n      $container.text(data.text);\n    }\n    if (isDefined(data.html)) {\n      $container.html(data.html);\n    }\n  },\n  _initItemsFromMarkup: function () {\n    var rawItems = findTemplates(this.$element(), ITEMS_OPTIONS_NAME);\n    if (!rawItems.length || this.option(\"items\").length) {\n      return;\n    }\n    var items = rawItems.map(_ref => {\n      var {\n        element: element,\n        options: options\n      } = _ref;\n      var isTemplateRequired = /\\S/.test(element.innerHTML) && !options.template;\n      if (isTemplateRequired) {\n        options.template = this._prepareItemTemplate(element);\n      } else {\n        $(element).remove();\n      }\n      return options;\n    });\n    this.option(\"items\", items);\n  },\n  _prepareItemTemplate: function (item) {\n    var templateId = ITEM_TEMPLATE_ID_PREFIX + new Guid();\n    var $template = $(item).detach().clone().removeAttr(\"data-options\").addClass(TEMPLATE_WRAPPER_CLASS);\n    this._saveTemplate(templateId, $template);\n    return templateId;\n  },\n  _dataSourceOptions: function () {\n    return {\n      paginate: false\n    };\n  },\n  _cleanRenderedItems: function () {\n    this._renderedItemsCount = 0;\n  },\n  _focusTarget: function () {\n    return this.$element();\n  },\n  _focusInHandler: function (e) {\n    this.callBase.apply(this, arguments);\n    if (!this._isFocusTarget(e.target)) {\n      return;\n    }\n    var $focusedElement = $(this.option(\"focusedElement\"));\n    if ($focusedElement.length) {\n      this._setFocusedItem($focusedElement);\n    } else {\n      var $activeItem = this._getActiveItem();\n      if ($activeItem.length) {\n        this.option(\"focusedElement\", getPublicElement($activeItem));\n      }\n    }\n  },\n  _focusOutHandler: function () {\n    this.callBase.apply(this, arguments);\n    var $target = $(this.option(\"focusedElement\"));\n    this._updateFocusedItemState($target, false);\n  },\n  _getActiveItem: function (last) {\n    var $focusedElement = $(this.option(\"focusedElement\"));\n    if ($focusedElement.length) {\n      return $focusedElement;\n    }\n    var index = this.option(\"focusOnSelectedItem\") ? this.option(\"selectedIndex\") : 0;\n    var activeElements = this._getActiveElement();\n    var lastIndex = activeElements.length - 1;\n    if (index < 0) {\n      index = last ? lastIndex : 0;\n    }\n    return activeElements.eq(index);\n  },\n  _moveFocus: function (location) {\n    var $items = this._getAvailableItems();\n    var $newTarget;\n    switch (location) {\n      case FOCUS_PAGE_UP:\n      case FOCUS_UP:\n        $newTarget = this._prevItem($items);\n        break;\n      case FOCUS_PAGE_DOWN:\n      case FOCUS_DOWN:\n        $newTarget = this._nextItem($items);\n        break;\n      case FOCUS_RIGHT:\n        $newTarget = this.option(\"rtlEnabled\") ? this._prevItem($items) : this._nextItem($items);\n        break;\n      case FOCUS_LEFT:\n        $newTarget = this.option(\"rtlEnabled\") ? this._nextItem($items) : this._prevItem($items);\n        break;\n      case FOCUS_FIRST:\n        $newTarget = $items.first();\n        break;\n      case FOCUS_LAST:\n        $newTarget = $items.last();\n        break;\n      default:\n        return false;\n    }\n    if (0 !== $newTarget.length) {\n      this.option(\"focusedElement\", getPublicElement($newTarget));\n    }\n  },\n  _getVisibleItems: function ($itemElements) {\n    $itemElements = $itemElements || this._itemElements();\n    return $itemElements.filter(\":visible\");\n  },\n  _getAvailableItems: function ($itemElements) {\n    return this._getVisibleItems($itemElements).not(\".dx-state-disabled\");\n  },\n  _prevItem: function ($items) {\n    var $target = this._getActiveItem();\n    var targetIndex = $items.index($target);\n    var $last = $items.last();\n    var $item = $($items[targetIndex - 1]);\n    var loop = this.option(\"loopItemFocus\");\n    if (0 === $item.length && loop) {\n      $item = $last;\n    }\n    return $item;\n  },\n  _nextItem: function ($items) {\n    var $target = this._getActiveItem(true);\n    var targetIndex = $items.index($target);\n    var $first = $items.first();\n    var $item = $($items[targetIndex + 1]);\n    var loop = this.option(\"loopItemFocus\");\n    if (0 === $item.length && loop) {\n      $item = $first;\n    }\n    return $item;\n  },\n  _selectFocusedItem: function ($target) {\n    this.selectItem($target);\n  },\n  _updateFocusedItemState: function (target, isFocused, needCleanItemId) {\n    var $target = $(target);\n    if ($target.length) {\n      this._refreshActiveDescendant();\n      this._refreshItemId($target, needCleanItemId);\n      this._toggleFocusClass(isFocused, $target);\n    }\n    this._updateParentActiveDescendant();\n  },\n  _refreshActiveDescendant: function ($target) {\n    this.setAria(\"activedescendant\", isDefined(this.option(\"focusedElement\")) ? this.getFocusedItemId() : null, $target);\n  },\n  _refreshItemId: function ($target, needCleanItemId) {\n    if (!needCleanItemId && this.option(\"focusedElement\")) {\n      this.setAria(\"id\", this.getFocusedItemId(), $target);\n    } else {\n      this.setAria(\"id\", null, $target);\n    }\n  },\n  _setFocusedItem: function ($target) {\n    if (!$target || !$target.length) {\n      return;\n    }\n    this._updateFocusedItemState($target, true);\n    this.onFocusedItemChanged(this.getFocusedItemId());\n    if (this.option(\"selectOnFocus\")) {\n      this._selectFocusedItem($target);\n    }\n  },\n  _findItemElementByItem: function (item) {\n    var result = $();\n    var that = this;\n    this.itemElements().each(function () {\n      var $item = $(this);\n      if ($item.data(that._itemDataKey()) === item) {\n        result = $item;\n        return false;\n      }\n    });\n    return result;\n  },\n  _getIndexByItem: function (item) {\n    return this.option(\"items\").indexOf(item);\n  },\n  _itemOptionChanged: function (item, property, value, oldValue) {\n    var $item = this._findItemElementByItem(item);\n    if (!$item.length) {\n      return;\n    }\n    if (!this.constructor.ItemClass.getInstance($item).setDataField(property, value)) {\n      this._refreshItem($item, item);\n    }\n    var isDisabling = \"disabled\" === property && value;\n    if (isDisabling) {\n      this._resetItemFocus($item);\n    }\n  },\n  _resetItemFocus($item) {\n    if ($item.is(this.option(\"focusedElement\"))) {\n      this.option(\"focusedElement\", null);\n    }\n  },\n  _refreshItem: function ($item) {\n    var itemData = this._getItemData($item);\n    var index = $item.data(this._itemIndexKey());\n    this._renderItem(this._renderedItemsCount + index, itemData, null, $item);\n  },\n  _updateParentActiveDescendant: noop,\n  _optionChanged: function (args) {\n    if (\"items\" === args.name) {\n      var matches = args.fullName.match(ITEM_PATH_REGEX);\n      if (matches && matches.length) {\n        var property = matches[matches.length - 1];\n        var itemPath = args.fullName.replace(\".\" + property, \"\");\n        var item = this.option(itemPath);\n        this._itemOptionChanged(item, property, args.value, args.previousValue);\n        return;\n      }\n    }\n    switch (args.name) {\n      case \"items\":\n      case \"_itemAttributes\":\n      case \"itemTemplateProperty\":\n      case \"useItemTextAsTitle\":\n        this._cleanRenderedItems();\n        this._invalidate();\n        break;\n      case \"dataSource\":\n        this._refreshDataSource();\n        this._renderEmptyMessage();\n        break;\n      case \"noDataText\":\n      case \"encodeNoDataText\":\n        this._renderEmptyMessage();\n        break;\n      case \"itemTemplate\":\n        this._invalidate();\n        break;\n      case \"onItemRendered\":\n        this._createItemRenderAction();\n        break;\n      case \"onItemClick\":\n        break;\n      case \"onItemHold\":\n      case \"itemHoldTimeout\":\n        this._attachHoldEvent();\n        break;\n      case \"onItemContextMenu\":\n        this._attachContextMenuEvent();\n        break;\n      case \"onFocusedItemChanged\":\n        this.onFocusedItemChanged = this._createActionByOption(\"onFocusedItemChanged\");\n        break;\n      case \"selectOnFocus\":\n      case \"loopItemFocus\":\n      case \"focusOnSelectedItem\":\n        break;\n      case \"focusedElement\":\n        this._updateFocusedItemState(args.previousValue, false, true);\n        this._setFocusedItem($(args.value));\n        break;\n      case \"displayExpr\":\n        this._compileDisplayGetter();\n        this._initDefaultItemTemplate();\n        this._invalidate();\n        break;\n      case \"visibleExpr\":\n      case \"disabledExpr\":\n        this._invalidate();\n        break;\n      default:\n        this.callBase(args);\n    }\n  },\n  _invalidate: function () {\n    this.option(\"focusedElement\", null);\n    return this.callBase.apply(this, arguments);\n  },\n  _loadNextPage: function () {\n    this._expectNextPageLoading();\n    return this._dataController.loadNextPage();\n  },\n  _expectNextPageLoading: function () {\n    this._startIndexForAppendedItems = 0;\n  },\n  _expectLastItemLoading: function () {\n    this._startIndexForAppendedItems = -1;\n  },\n  _forgetNextPageLoading: function () {\n    this._startIndexForAppendedItems = null;\n  },\n  _dataSourceChangedHandler: function (newItems) {\n    var items = this.option(\"items\");\n    if (this._initialized && items && this._shouldAppendItems()) {\n      this._renderedItemsCount = items.length;\n      if (!this._isLastPage() || -1 !== this._startIndexForAppendedItems) {\n        this.option().items = items.concat(newItems.slice(this._startIndexForAppendedItems));\n      }\n      this._forgetNextPageLoading();\n      this._refreshContent();\n    } else {\n      this.option(\"items\", newItems.slice());\n    }\n  },\n  _refreshContent: function () {\n    this._prepareContent();\n    this._renderContent();\n  },\n  _dataSourceLoadErrorHandler: function () {\n    this._forgetNextPageLoading();\n    this.option(\"items\", this.option(\"items\"));\n  },\n  _shouldAppendItems: function () {\n    return null != this._startIndexForAppendedItems && this._allowDynamicItemsAppend();\n  },\n  _allowDynamicItemsAppend: function () {\n    return false;\n  },\n  _clean: function () {\n    this._cleanFocusState();\n    this._cleanItemContainer();\n    this._inkRipple && delete this._inkRipple;\n    this._resetActiveState();\n  },\n  _cleanItemContainer: function () {\n    $(this._itemContainer()).empty();\n  },\n  _dispose: function () {\n    this.callBase();\n    clearTimeout(this._itemFocusTimeout);\n  },\n  _refresh: function () {\n    this._cleanRenderedItems();\n    this.callBase.apply(this, arguments);\n  },\n  _itemContainer: function () {\n    return this.$element();\n  },\n  _itemClass: function () {\n    return ITEM_CLASS;\n  },\n  _itemContentClass: function () {\n    return this._itemClass() + CONTENT_CLASS_POSTFIX;\n  },\n  _selectedItemClass: function () {\n    return SELECTED_ITEM_CLASS;\n  },\n  _itemResponseWaitClass: function () {\n    return ITEM_RESPONSE_WAIT_CLASS;\n  },\n  _itemSelector: function () {\n    return \".\" + this._itemClass();\n  },\n  _itemDataKey: function () {\n    return ITEM_DATA_KEY;\n  },\n  _itemIndexKey: function () {\n    return ITEM_INDEX_KEY;\n  },\n  _itemElements: function () {\n    return this._itemContainer().find(this._itemSelector());\n  },\n  _initMarkup: function () {\n    this.callBase();\n    this.onFocusedItemChanged = this._createActionByOption(\"onFocusedItemChanged\");\n    this.$element().addClass(COLLECTION_CLASS);\n    this._prepareContent();\n  },\n  _prepareContent: deferRenderer(function () {\n    this._renderContentImpl();\n  }),\n  _renderContent: function () {\n    this._fireContentReadyAction();\n  },\n  _render: function () {\n    this.callBase();\n    this._attachClickEvent();\n    this._attachHoldEvent();\n    this._attachContextMenuEvent();\n  },\n  _attachClickEvent: function () {\n    var itemSelector = this._itemSelector();\n    var clickEventNamespace = addNamespace(clickEventName, this.NAME);\n    var pointerDownEventNamespace = addNamespace(pointerEvents.down, this.NAME);\n    var that = this;\n    var pointerDownAction = new Action(function (args) {\n      var event = args.event;\n      that._itemPointerDownHandler(event);\n    });\n    eventsEngine.off(this._itemContainer(), clickEventNamespace, itemSelector);\n    eventsEngine.off(this._itemContainer(), pointerDownEventNamespace, itemSelector);\n    eventsEngine.on(this._itemContainer(), clickEventNamespace, itemSelector, function (e) {\n      this._itemClickHandler(e);\n    }.bind(this));\n    eventsEngine.on(this._itemContainer(), pointerDownEventNamespace, itemSelector, function (e) {\n      pointerDownAction.execute({\n        element: $(e.target),\n        event: e\n      });\n    });\n  },\n  _itemClickHandler: function (e, args, config) {\n    this._itemDXEventHandler(e, \"onItemClick\", args, config);\n  },\n  _itemPointerDownHandler: function (e) {\n    if (!this.option(\"focusStateEnabled\")) {\n      return;\n    }\n    this._itemFocusHandler = function () {\n      clearTimeout(this._itemFocusTimeout);\n      this._itemFocusHandler = null;\n      if (e.isDefaultPrevented()) {\n        return;\n      }\n      var $target = $(e.target);\n      var $closestItem = $target.closest(this._itemElements());\n      var $closestFocusable = this._closestFocusable($target);\n      if ($closestItem.length && this._isFocusTarget(null === $closestFocusable || void 0 === $closestFocusable ? void 0 : $closestFocusable.get(0))) {\n        this.option(\"focusedElement\", getPublicElement($closestItem));\n      }\n    }.bind(this);\n    this._itemFocusTimeout = setTimeout(this._forcePointerDownFocus.bind(this));\n  },\n  _closestFocusable: function ($target) {\n    if ($target.is(focusable)) {\n      return $target;\n    } else {\n      $target = $target.parent();\n      while ($target.length && !domAdapter.isDocument($target.get(0)) && !domAdapter.isDocumentFragment($target.get(0))) {\n        if ($target.is(focusable)) {\n          return $target;\n        }\n        $target = $target.parent();\n      }\n    }\n  },\n  _forcePointerDownFocus: function () {\n    this._itemFocusHandler && this._itemFocusHandler();\n  },\n  _updateFocusState: function () {\n    this.callBase.apply(this, arguments);\n    this._forcePointerDownFocus();\n  },\n  _attachHoldEvent: function () {\n    var $itemContainer = this._itemContainer();\n    var itemSelector = this._itemSelector();\n    var eventName = addNamespace(holdEvent.name, this.NAME);\n    eventsEngine.off($itemContainer, eventName, itemSelector);\n    eventsEngine.on($itemContainer, eventName, itemSelector, {\n      timeout: this._getHoldTimeout()\n    }, this._itemHoldHandler.bind(this));\n  },\n  _getHoldTimeout: function () {\n    return this.option(\"itemHoldTimeout\");\n  },\n  _shouldFireHoldEvent: function () {\n    return this.hasActionSubscription(\"onItemHold\");\n  },\n  _itemHoldHandler: function (e) {\n    if (this._shouldFireHoldEvent()) {\n      this._itemDXEventHandler(e, \"onItemHold\");\n    } else {\n      e.cancel = true;\n    }\n  },\n  _attachContextMenuEvent: function () {\n    var $itemContainer = this._itemContainer();\n    var itemSelector = this._itemSelector();\n    var eventName = addNamespace(contextMenuEventName, this.NAME);\n    eventsEngine.off($itemContainer, eventName, itemSelector);\n    eventsEngine.on($itemContainer, eventName, itemSelector, this._itemContextMenuHandler.bind(this));\n  },\n  _shouldFireContextMenuEvent: function () {\n    return this.hasActionSubscription(\"onItemContextMenu\");\n  },\n  _itemContextMenuHandler: function (e) {\n    if (this._shouldFireContextMenuEvent()) {\n      this._itemDXEventHandler(e, \"onItemContextMenu\");\n    } else {\n      e.cancel = true;\n    }\n  },\n  _renderContentImpl: function () {\n    var items = this.option(\"items\") || [];\n    if (this._renderedItemsCount) {\n      this._renderItems(items.slice(this._renderedItemsCount));\n    } else {\n      this._renderItems(items);\n    }\n  },\n  _renderItems: function (items) {\n    if (items.length) {\n      each(items, function (index, itemData) {\n        this._renderItem(this._renderedItemsCount + index, itemData);\n      }.bind(this));\n    }\n    this._renderEmptyMessage();\n  },\n  _renderItem: function (index, itemData, $container, $itemToReplace) {\n    var _index$item;\n    var itemIndex = null !== (_index$item = null === index || void 0 === index ? void 0 : index.item) && void 0 !== _index$item ? _index$item : index;\n    $container = $container || this._itemContainer();\n    var $itemFrame = this._renderItemFrame(itemIndex, itemData, $container, $itemToReplace);\n    this._setElementData($itemFrame, itemData, itemIndex);\n    $itemFrame.attr(this.option(\"_itemAttributes\"));\n    this._attachItemClickEvent(itemData, $itemFrame);\n    var $itemContent = this._getItemContent($itemFrame);\n    var renderContentPromise = this._renderItemContent({\n      index: itemIndex,\n      itemData: itemData,\n      container: getPublicElement($itemContent),\n      contentClass: this._itemContentClass(),\n      defaultTemplateName: this.option(\"itemTemplate\")\n    });\n    var that = this;\n    when(renderContentPromise).done(function ($itemContent) {\n      that._postprocessRenderItem({\n        itemElement: $itemFrame,\n        itemContent: $itemContent,\n        itemData: itemData,\n        itemIndex: itemIndex\n      });\n      that._executeItemRenderAction(index, itemData, getPublicElement($itemFrame));\n    });\n    return $itemFrame;\n  },\n  _getItemContent: function ($itemFrame) {\n    var $itemContent = $itemFrame.find(\".\" + ITEM_CONTENT_PLACEHOLDER_CLASS);\n    $itemContent.removeClass(ITEM_CONTENT_PLACEHOLDER_CLASS);\n    return $itemContent;\n  },\n  _attachItemClickEvent: function (itemData, $itemElement) {\n    if (!itemData || !itemData.onClick) {\n      return;\n    }\n    eventsEngine.on($itemElement, clickEventName, function (e) {\n      this._itemEventHandlerByHandler($itemElement, itemData.onClick, {\n        event: e\n      });\n    }.bind(this));\n  },\n  _renderItemContent: function (args) {\n    var itemTemplateName = this._getItemTemplateName(args);\n    var itemTemplate = this._getTemplate(itemTemplateName);\n    this._addItemContentClasses(args);\n    var $templateResult = $(this._createItemByTemplate(itemTemplate, args));\n    if (!$templateResult.hasClass(TEMPLATE_WRAPPER_CLASS)) {\n      return args.container;\n    }\n    return this._renderItemContentByNode(args, $templateResult);\n  },\n  _renderItemContentByNode: function (args, $node) {\n    $(args.container).replaceWith($node);\n    args.container = getPublicElement($node);\n    this._addItemContentClasses(args);\n    return $node;\n  },\n  _addItemContentClasses: function (args) {\n    var classes = [ITEM_CLASS + CONTENT_CLASS_POSTFIX, args.contentClass];\n    $(args.container).addClass(classes.join(\" \"));\n  },\n  _appendItemToContainer: function ($container, $itemFrame, index) {\n    $itemFrame.appendTo($container);\n  },\n  _renderItemFrame: function (index, itemData, $container, $itemToReplace) {\n    var $itemFrame = $(\"<div>\");\n    new this.constructor.ItemClass($itemFrame, this._itemOptions(), itemData || {});\n    if ($itemToReplace && $itemToReplace.length) {\n      $itemToReplace.replaceWith($itemFrame);\n    } else {\n      this._appendItemToContainer.call(this, $container, $itemFrame, index);\n    }\n    if (this.option(\"useItemTextAsTitle\")) {\n      var displayValue = this._displayGetter ? this._displayGetter(itemData) : itemData;\n      $itemFrame.attr(\"title\", displayValue);\n    }\n    return $itemFrame;\n  },\n  _itemOptions: function () {\n    var that = this;\n    return {\n      watchMethod: function () {\n        return that.option(\"integrationOptions.watchMethod\");\n      },\n      owner: that,\n      fieldGetter: function (field) {\n        var expr = that.option(field + \"Expr\");\n        var getter = compileGetter(expr);\n        return getter;\n      }\n    };\n  },\n  _postprocessRenderItem: noop,\n  _executeItemRenderAction: function (index, itemData, itemElement) {\n    this._getItemRenderAction()({\n      itemElement: itemElement,\n      itemIndex: index,\n      itemData: itemData\n    });\n  },\n  _setElementData: function (element, data, index) {\n    element.addClass([ITEM_CLASS, this._itemClass()].join(\" \")).data(this._itemDataKey(), data).data(this._itemIndexKey(), index);\n  },\n  _createItemRenderAction: function () {\n    return this._itemRenderAction = this._createActionByOption(\"onItemRendered\", {\n      element: this.element(),\n      excludeValidators: [\"disabled\", \"readOnly\"],\n      category: \"rendering\"\n    });\n  },\n  _getItemRenderAction: function () {\n    return this._itemRenderAction || this._createItemRenderAction();\n  },\n  _getItemTemplateName: function (args) {\n    var data = args.itemData;\n    var templateProperty = args.templateProperty || this.option(\"itemTemplateProperty\");\n    var template = data && data[templateProperty];\n    return template || args.defaultTemplateName;\n  },\n  _createItemByTemplate: function (itemTemplate, renderArgs) {\n    return itemTemplate.render({\n      model: renderArgs.itemData,\n      container: renderArgs.container,\n      index: renderArgs.index,\n      onRendered: this._onItemTemplateRendered(itemTemplate, renderArgs)\n    });\n  },\n  _onItemTemplateRendered: function () {\n    return noop;\n  },\n  _emptyMessageContainer: function () {\n    return this._itemContainer();\n  },\n  _renderEmptyMessage: function (items) {\n    items = items || this.option(\"items\");\n    var noDataText = this.option(\"noDataText\");\n    var hideNoData = !noDataText || items && items.length || this._dataController.isLoading();\n    if (hideNoData && this._$noData) {\n      this._$noData.remove();\n      this._$noData = null;\n      this.setAria(\"label\", void 0);\n    }\n    if (!hideNoData) {\n      this._$noData = this._$noData || $(\"<div>\").addClass(\"dx-empty-message\");\n      this._$noData.appendTo(this._emptyMessageContainer());\n      if (this.option(\"encodeNoDataText\")) {\n        this._$noData.text(noDataText);\n      } else {\n        this._$noData.html(noDataText);\n      }\n      this.setAria(\"label\", noDataText);\n    }\n    this.$element().toggleClass(EMPTY_COLLECTION, !hideNoData);\n  },\n  _itemDXEventHandler: function (dxEvent, handlerOptionName, actionArgs, actionConfig) {\n    this._itemEventHandler(dxEvent.target, handlerOptionName, extend(actionArgs, {\n      event: dxEvent\n    }), actionConfig);\n  },\n  _itemEventHandler: function (initiator, handlerOptionName, actionArgs, actionConfig) {\n    var action = this._createActionByOption(handlerOptionName, extend({\n      validatingTargetName: \"itemElement\"\n    }, actionConfig));\n    return this._itemEventHandlerImpl(initiator, action, actionArgs);\n  },\n  _itemEventHandlerByHandler: function (initiator, handler, actionArgs, actionConfig) {\n    var action = this._createAction(handler, extend({\n      validatingTargetName: \"itemElement\"\n    }, actionConfig));\n    return this._itemEventHandlerImpl(initiator, action, actionArgs);\n  },\n  _itemEventHandlerImpl: function (initiator, action, actionArgs) {\n    var $itemElement = this._closestItemElement($(initiator));\n    var args = extend({}, actionArgs);\n    return action(extend(actionArgs, this._extendActionArgs($itemElement), args));\n  },\n  _extendActionArgs: function ($itemElement) {\n    return {\n      itemElement: getPublicElement($itemElement),\n      itemIndex: this._itemElements().index($itemElement),\n      itemData: this._getItemData($itemElement)\n    };\n  },\n  _closestItemElement: function ($element) {\n    return $($element).closest(this._itemSelector());\n  },\n  _getItemData: function (itemElement) {\n    return $(itemElement).data(this._itemDataKey());\n  },\n  _getSummaryItemsWidth: function (items, includeMargin) {\n    var result = 0;\n    if (items) {\n      each(items, function (_, item) {\n        result += getOuterWidth(item, includeMargin || false);\n      });\n    }\n    return result;\n  },\n  getFocusedItemId: function () {\n    if (!this._focusedItemId) {\n      this._focusedItemId = \"dx-\" + new Guid();\n    }\n    return this._focusedItemId;\n  },\n  itemElements: function () {\n    return this._itemElements();\n  },\n  itemsContainer: function () {\n    return this._itemContainer();\n  }\n}).include(DataHelperMixin);\nCollectionWidget.ItemClass = CollectionWidgetItem;\nexport default CollectionWidget;","map":{"version":3,"names":["getOuterWidth","$","eventsEngine","ensureDefined","deferRenderer","noop","findTemplates","getPublicElement","domAdapter","isPlainObject","isFunction","isDefined","when","extend","each","Action","Guid","Widget","addNamespace","isCommandKeyPressed","pointerEvents","DataHelperMixin","CollectionWidgetItem","focusable","messageLocalization","holdEvent","compileGetter","name","clickEventName","contextMenuEventName","BindableTemplate","COLLECTION_CLASS","ITEM_CLASS","CONTENT_CLASS_POSTFIX","ITEM_CONTENT_PLACEHOLDER_CLASS","ITEM_DATA_KEY","ITEM_INDEX_KEY","ITEM_TEMPLATE_ID_PREFIX","ITEMS_OPTIONS_NAME","SELECTED_ITEM_CLASS","ITEM_RESPONSE_WAIT_CLASS","EMPTY_COLLECTION","TEMPLATE_WRAPPER_CLASS","ITEM_PATH_REGEX","ANONYMOUS_TEMPLATE_NAME","FOCUS_UP","FOCUS_DOWN","FOCUS_LEFT","FOCUS_RIGHT","FOCUS_PAGE_UP","FOCUS_PAGE_DOWN","FOCUS_LAST","FOCUS_FIRST","CollectionWidget","inherit","_activeStateUnit","_supportedKeys","enter","e","$itemElement","option","length","_itemClickHandler","target","get","currentTarget","move","location","preventDefault","stopPropagation","_moveFocus","callBase","space","call","leftArrow","bind","rightArrow","upArrow","downArrow","pageUp","pageDown","home","end","_getDefaultOptions","selectOnFocus","loopItemFocus","items","itemTemplate","onItemRendered","onItemClick","onItemHold","itemHoldTimeout","onItemContextMenu","onFocusedItemChanged","noDataText","format","encodeNoDataText","dataSource","_dataController","_itemAttributes","itemTemplateProperty","focusOnSelectedItem","focusedElement","displayExpr","disabledExpr","data","disabled","visibleExpr","visible","_init","_compileDisplayGetter","_initDataController","_cleanRenderedItems","_refreshDataSource","_displayGetter","_initTemplates","_initItemsFromMarkup","_initDefaultItemTemplate","_getAnonymousTemplateName","fieldsMap","_getFieldsMap","_templateManager","addDefaultTemplates","item","$container","_prepareDefaultItemTemplate","text","String","_getBindableFields","html","rawItems","$element","map","_ref","element","options","isTemplateRequired","test","innerHTML","template","_prepareItemTemplate","remove","templateId","$template","detach","clone","removeAttr","addClass","_saveTemplate","_dataSourceOptions","paginate","_renderedItemsCount","_focusTarget","_focusInHandler","apply","arguments","_isFocusTarget","$focusedElement","_setFocusedItem","$activeItem","_getActiveItem","_focusOutHandler","$target","_updateFocusedItemState","last","index","activeElements","_getActiveElement","lastIndex","eq","$items","_getAvailableItems","$newTarget","_prevItem","_nextItem","first","_getVisibleItems","$itemElements","_itemElements","filter","not","targetIndex","$last","$item","loop","$first","_selectFocusedItem","selectItem","isFocused","needCleanItemId","_refreshActiveDescendant","_refreshItemId","_toggleFocusClass","_updateParentActiveDescendant","setAria","getFocusedItemId","_findItemElementByItem","result","that","itemElements","_itemDataKey","_getIndexByItem","indexOf","_itemOptionChanged","property","value","oldValue","constructor","ItemClass","getInstance","setDataField","_refreshItem","isDisabling","_resetItemFocus","is","itemData","_getItemData","_itemIndexKey","_renderItem","_optionChanged","args","matches","fullName","match","itemPath","replace","previousValue","_invalidate","_renderEmptyMessage","_createItemRenderAction","_attachHoldEvent","_attachContextMenuEvent","_createActionByOption","_loadNextPage","_expectNextPageLoading","loadNextPage","_startIndexForAppendedItems","_expectLastItemLoading","_forgetNextPageLoading","_dataSourceChangedHandler","newItems","_initialized","_shouldAppendItems","_isLastPage","concat","slice","_refreshContent","_prepareContent","_renderContent","_dataSourceLoadErrorHandler","_allowDynamicItemsAppend","_clean","_cleanFocusState","_cleanItemContainer","_inkRipple","_resetActiveState","_itemContainer","empty","_dispose","clearTimeout","_itemFocusTimeout","_refresh","_itemClass","_itemContentClass","_selectedItemClass","_itemResponseWaitClass","_itemSelector","find","_initMarkup","_renderContentImpl","_fireContentReadyAction","_render","_attachClickEvent","itemSelector","clickEventNamespace","NAME","pointerDownEventNamespace","down","pointerDownAction","event","_itemPointerDownHandler","off","on","execute","config","_itemDXEventHandler","_itemFocusHandler","isDefaultPrevented","$closestItem","closest","$closestFocusable","_closestFocusable","setTimeout","_forcePointerDownFocus","parent","isDocument","isDocumentFragment","_updateFocusState","$itemContainer","eventName","timeout","_getHoldTimeout","_itemHoldHandler","_shouldFireHoldEvent","hasActionSubscription","cancel","_itemContextMenuHandler","_shouldFireContextMenuEvent","_renderItems","$itemToReplace","_index$item","itemIndex","$itemFrame","_renderItemFrame","_setElementData","attr","_attachItemClickEvent","$itemContent","_getItemContent","renderContentPromise","_renderItemContent","container","contentClass","defaultTemplateName","done","_postprocessRenderItem","itemElement","itemContent","_executeItemRenderAction","removeClass","onClick","_itemEventHandlerByHandler","itemTemplateName","_getItemTemplateName","_getTemplate","_addItemContentClasses","$templateResult","_createItemByTemplate","hasClass","_renderItemContentByNode","$node","replaceWith","classes","join","_appendItemToContainer","appendTo","_itemOptions","displayValue","watchMethod","owner","fieldGetter","field","expr","getter","_getItemRenderAction","_itemRenderAction","excludeValidators","category","templateProperty","renderArgs","render","model","onRendered","_onItemTemplateRendered","_emptyMessageContainer","hideNoData","isLoading","_$noData","toggleClass","dxEvent","handlerOptionName","actionArgs","actionConfig","_itemEventHandler","initiator","action","validatingTargetName","_itemEventHandlerImpl","handler","_createAction","_closestItemElement","_extendActionArgs","_getSummaryItemsWidth","includeMargin","_","_focusedItemId","itemsContainer","include"],"sources":["C:/Users/ninad/OneDrive/Radna povrÅ¡ina/zavrsni/client/node_modules/devextreme/esm/ui/collection/ui.collection_widget.base.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/collection/ui.collection_widget.base.js)\r\n * Version: 22.2.6\r\n * Build date: Tue Apr 18 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getOuterWidth\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    ensureDefined,\r\n    deferRenderer,\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    findTemplates\r\n} from \"../../core/utils/template_manager\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../core/element\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport {\r\n    isPlainObject,\r\n    isFunction,\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    when\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport Action from \"../../core/action\";\r\nimport Guid from \"../../core/guid\";\r\nimport Widget from \"../widget/ui.widget\";\r\nimport {\r\n    addNamespace,\r\n    isCommandKeyPressed\r\n} from \"../../events/utils/index\";\r\nimport pointerEvents from \"../../events/pointer\";\r\nimport DataHelperMixin from \"../../data_helper\";\r\nimport CollectionWidgetItem from \"./item\";\r\nimport {\r\n    focusable\r\n} from \"../widget/selectors\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport holdEvent from \"../../events/hold\";\r\nimport {\r\n    compileGetter\r\n} from \"../../core/utils/data\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nimport {\r\n    name as contextMenuEventName\r\n} from \"../../events/contextmenu\";\r\nimport {\r\n    BindableTemplate\r\n} from \"../../core/templates/bindable_template\";\r\nvar COLLECTION_CLASS = \"dx-collection\";\r\nvar ITEM_CLASS = \"dx-item\";\r\nvar CONTENT_CLASS_POSTFIX = \"-content\";\r\nvar ITEM_CONTENT_PLACEHOLDER_CLASS = \"dx-item-content-placeholder\";\r\nvar ITEM_DATA_KEY = \"dxItemData\";\r\nvar ITEM_INDEX_KEY = \"dxItemIndex\";\r\nvar ITEM_TEMPLATE_ID_PREFIX = \"tmpl-\";\r\nvar ITEMS_OPTIONS_NAME = \"dxItem\";\r\nvar SELECTED_ITEM_CLASS = \"dx-item-selected\";\r\nvar ITEM_RESPONSE_WAIT_CLASS = \"dx-item-response-wait\";\r\nvar EMPTY_COLLECTION = \"dx-empty-collection\";\r\nvar TEMPLATE_WRAPPER_CLASS = \"dx-template-wrapper\";\r\nvar ITEM_PATH_REGEX = /^([^.]+\\[\\d+\\]\\.)+([\\w.]+)$/;\r\nvar ANONYMOUS_TEMPLATE_NAME = \"item\";\r\nvar FOCUS_UP = \"up\";\r\nvar FOCUS_DOWN = \"down\";\r\nvar FOCUS_LEFT = \"left\";\r\nvar FOCUS_RIGHT = \"right\";\r\nvar FOCUS_PAGE_UP = \"pageup\";\r\nvar FOCUS_PAGE_DOWN = \"pagedown\";\r\nvar FOCUS_LAST = \"last\";\r\nvar FOCUS_FIRST = \"first\";\r\nvar CollectionWidget = Widget.inherit({\r\n    _activeStateUnit: \".\" + ITEM_CLASS,\r\n    _supportedKeys: function() {\r\n        var enter = function(e) {\r\n            var $itemElement = $(this.option(\"focusedElement\"));\r\n            if (!$itemElement.length) {\r\n                return\r\n            }\r\n            this._itemClickHandler(extend({}, e, {\r\n                target: $itemElement.get(0),\r\n                currentTarget: $itemElement.get(0)\r\n            }))\r\n        };\r\n        var move = function(location, e) {\r\n            if (!isCommandKeyPressed(e)) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                this._moveFocus(location, e)\r\n            }\r\n        };\r\n        return extend(this.callBase(), {\r\n            space: function(e) {\r\n                e.preventDefault();\r\n                enter.call(this, e)\r\n            },\r\n            enter: enter,\r\n            leftArrow: move.bind(this, FOCUS_LEFT),\r\n            rightArrow: move.bind(this, FOCUS_RIGHT),\r\n            upArrow: move.bind(this, FOCUS_UP),\r\n            downArrow: move.bind(this, FOCUS_DOWN),\r\n            pageUp: move.bind(this, FOCUS_UP),\r\n            pageDown: move.bind(this, FOCUS_DOWN),\r\n            home: move.bind(this, FOCUS_FIRST),\r\n            end: move.bind(this, FOCUS_LAST)\r\n        })\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            selectOnFocus: false,\r\n            loopItemFocus: true,\r\n            items: [],\r\n            itemTemplate: \"item\",\r\n            onItemRendered: null,\r\n            onItemClick: null,\r\n            onItemHold: null,\r\n            itemHoldTimeout: 750,\r\n            onItemContextMenu: null,\r\n            onFocusedItemChanged: null,\r\n            noDataText: messageLocalization.format(\"dxCollectionWidget-noDataText\"),\r\n            encodeNoDataText: false,\r\n            dataSource: null,\r\n            _dataController: null,\r\n            _itemAttributes: {},\r\n            itemTemplateProperty: \"template\",\r\n            focusOnSelectedItem: true,\r\n            focusedElement: null,\r\n            displayExpr: void 0,\r\n            disabledExpr: function(data) {\r\n                return data ? data.disabled : void 0\r\n            },\r\n            visibleExpr: function(data) {\r\n                return data ? data.visible : void 0\r\n            }\r\n        })\r\n    },\r\n    _init: function() {\r\n        this._compileDisplayGetter();\r\n        this._initDataController();\r\n        this.callBase();\r\n        this._cleanRenderedItems();\r\n        this._refreshDataSource()\r\n    },\r\n    _compileDisplayGetter: function() {\r\n        var displayExpr = this.option(\"displayExpr\");\r\n        this._displayGetter = displayExpr ? compileGetter(this.option(\"displayExpr\")) : void 0\r\n    },\r\n    _initTemplates: function() {\r\n        this._initItemsFromMarkup();\r\n        this._initDefaultItemTemplate();\r\n        this.callBase()\r\n    },\r\n    _getAnonymousTemplateName: function() {\r\n        return ANONYMOUS_TEMPLATE_NAME\r\n    },\r\n    _initDefaultItemTemplate: function() {\r\n        var fieldsMap = this._getFieldsMap();\r\n        this._templateManager.addDefaultTemplates({\r\n            item: new BindableTemplate(function($container, data) {\r\n                if (isPlainObject(data)) {\r\n                    this._prepareDefaultItemTemplate(data, $container)\r\n                } else {\r\n                    if (fieldsMap && isFunction(fieldsMap.text)) {\r\n                        data = fieldsMap.text(data)\r\n                    }\r\n                    $container.text(String(ensureDefined(data, \"\")))\r\n                }\r\n            }.bind(this), this._getBindableFields(), this.option(\"integrationOptions.watchMethod\"), fieldsMap)\r\n        })\r\n    },\r\n    _getBindableFields: function() {\r\n        return [\"text\", \"html\"]\r\n    },\r\n    _getFieldsMap: function() {\r\n        if (this._displayGetter) {\r\n            return {\r\n                text: this._displayGetter\r\n            }\r\n        }\r\n    },\r\n    _prepareDefaultItemTemplate: function(data, $container) {\r\n        if (isDefined(data.text)) {\r\n            $container.text(data.text)\r\n        }\r\n        if (isDefined(data.html)) {\r\n            $container.html(data.html)\r\n        }\r\n    },\r\n    _initItemsFromMarkup: function() {\r\n        var rawItems = findTemplates(this.$element(), ITEMS_OPTIONS_NAME);\r\n        if (!rawItems.length || this.option(\"items\").length) {\r\n            return\r\n        }\r\n        var items = rawItems.map(_ref => {\r\n            var {\r\n                element: element,\r\n                options: options\r\n            } = _ref;\r\n            var isTemplateRequired = /\\S/.test(element.innerHTML) && !options.template;\r\n            if (isTemplateRequired) {\r\n                options.template = this._prepareItemTemplate(element)\r\n            } else {\r\n                $(element).remove()\r\n            }\r\n            return options\r\n        });\r\n        this.option(\"items\", items)\r\n    },\r\n    _prepareItemTemplate: function(item) {\r\n        var templateId = ITEM_TEMPLATE_ID_PREFIX + new Guid;\r\n        var $template = $(item).detach().clone().removeAttr(\"data-options\").addClass(TEMPLATE_WRAPPER_CLASS);\r\n        this._saveTemplate(templateId, $template);\r\n        return templateId\r\n    },\r\n    _dataSourceOptions: function() {\r\n        return {\r\n            paginate: false\r\n        }\r\n    },\r\n    _cleanRenderedItems: function() {\r\n        this._renderedItemsCount = 0\r\n    },\r\n    _focusTarget: function() {\r\n        return this.$element()\r\n    },\r\n    _focusInHandler: function(e) {\r\n        this.callBase.apply(this, arguments);\r\n        if (!this._isFocusTarget(e.target)) {\r\n            return\r\n        }\r\n        var $focusedElement = $(this.option(\"focusedElement\"));\r\n        if ($focusedElement.length) {\r\n            this._setFocusedItem($focusedElement)\r\n        } else {\r\n            var $activeItem = this._getActiveItem();\r\n            if ($activeItem.length) {\r\n                this.option(\"focusedElement\", getPublicElement($activeItem))\r\n            }\r\n        }\r\n    },\r\n    _focusOutHandler: function() {\r\n        this.callBase.apply(this, arguments);\r\n        var $target = $(this.option(\"focusedElement\"));\r\n        this._updateFocusedItemState($target, false)\r\n    },\r\n    _getActiveItem: function(last) {\r\n        var $focusedElement = $(this.option(\"focusedElement\"));\r\n        if ($focusedElement.length) {\r\n            return $focusedElement\r\n        }\r\n        var index = this.option(\"focusOnSelectedItem\") ? this.option(\"selectedIndex\") : 0;\r\n        var activeElements = this._getActiveElement();\r\n        var lastIndex = activeElements.length - 1;\r\n        if (index < 0) {\r\n            index = last ? lastIndex : 0\r\n        }\r\n        return activeElements.eq(index)\r\n    },\r\n    _moveFocus: function(location) {\r\n        var $items = this._getAvailableItems();\r\n        var $newTarget;\r\n        switch (location) {\r\n            case FOCUS_PAGE_UP:\r\n            case FOCUS_UP:\r\n                $newTarget = this._prevItem($items);\r\n                break;\r\n            case FOCUS_PAGE_DOWN:\r\n            case FOCUS_DOWN:\r\n                $newTarget = this._nextItem($items);\r\n                break;\r\n            case FOCUS_RIGHT:\r\n                $newTarget = this.option(\"rtlEnabled\") ? this._prevItem($items) : this._nextItem($items);\r\n                break;\r\n            case FOCUS_LEFT:\r\n                $newTarget = this.option(\"rtlEnabled\") ? this._nextItem($items) : this._prevItem($items);\r\n                break;\r\n            case FOCUS_FIRST:\r\n                $newTarget = $items.first();\r\n                break;\r\n            case FOCUS_LAST:\r\n                $newTarget = $items.last();\r\n                break;\r\n            default:\r\n                return false\r\n        }\r\n        if (0 !== $newTarget.length) {\r\n            this.option(\"focusedElement\", getPublicElement($newTarget))\r\n        }\r\n    },\r\n    _getVisibleItems: function($itemElements) {\r\n        $itemElements = $itemElements || this._itemElements();\r\n        return $itemElements.filter(\":visible\")\r\n    },\r\n    _getAvailableItems: function($itemElements) {\r\n        return this._getVisibleItems($itemElements).not(\".dx-state-disabled\")\r\n    },\r\n    _prevItem: function($items) {\r\n        var $target = this._getActiveItem();\r\n        var targetIndex = $items.index($target);\r\n        var $last = $items.last();\r\n        var $item = $($items[targetIndex - 1]);\r\n        var loop = this.option(\"loopItemFocus\");\r\n        if (0 === $item.length && loop) {\r\n            $item = $last\r\n        }\r\n        return $item\r\n    },\r\n    _nextItem: function($items) {\r\n        var $target = this._getActiveItem(true);\r\n        var targetIndex = $items.index($target);\r\n        var $first = $items.first();\r\n        var $item = $($items[targetIndex + 1]);\r\n        var loop = this.option(\"loopItemFocus\");\r\n        if (0 === $item.length && loop) {\r\n            $item = $first\r\n        }\r\n        return $item\r\n    },\r\n    _selectFocusedItem: function($target) {\r\n        this.selectItem($target)\r\n    },\r\n    _updateFocusedItemState: function(target, isFocused, needCleanItemId) {\r\n        var $target = $(target);\r\n        if ($target.length) {\r\n            this._refreshActiveDescendant();\r\n            this._refreshItemId($target, needCleanItemId);\r\n            this._toggleFocusClass(isFocused, $target)\r\n        }\r\n        this._updateParentActiveDescendant()\r\n    },\r\n    _refreshActiveDescendant: function($target) {\r\n        this.setAria(\"activedescendant\", isDefined(this.option(\"focusedElement\")) ? this.getFocusedItemId() : null, $target)\r\n    },\r\n    _refreshItemId: function($target, needCleanItemId) {\r\n        if (!needCleanItemId && this.option(\"focusedElement\")) {\r\n            this.setAria(\"id\", this.getFocusedItemId(), $target)\r\n        } else {\r\n            this.setAria(\"id\", null, $target)\r\n        }\r\n    },\r\n    _setFocusedItem: function($target) {\r\n        if (!$target || !$target.length) {\r\n            return\r\n        }\r\n        this._updateFocusedItemState($target, true);\r\n        this.onFocusedItemChanged(this.getFocusedItemId());\r\n        if (this.option(\"selectOnFocus\")) {\r\n            this._selectFocusedItem($target)\r\n        }\r\n    },\r\n    _findItemElementByItem: function(item) {\r\n        var result = $();\r\n        var that = this;\r\n        this.itemElements().each((function() {\r\n            var $item = $(this);\r\n            if ($item.data(that._itemDataKey()) === item) {\r\n                result = $item;\r\n                return false\r\n            }\r\n        }));\r\n        return result\r\n    },\r\n    _getIndexByItem: function(item) {\r\n        return this.option(\"items\").indexOf(item)\r\n    },\r\n    _itemOptionChanged: function(item, property, value, oldValue) {\r\n        var $item = this._findItemElementByItem(item);\r\n        if (!$item.length) {\r\n            return\r\n        }\r\n        if (!this.constructor.ItemClass.getInstance($item).setDataField(property, value)) {\r\n            this._refreshItem($item, item)\r\n        }\r\n        var isDisabling = \"disabled\" === property && value;\r\n        if (isDisabling) {\r\n            this._resetItemFocus($item)\r\n        }\r\n    },\r\n    _resetItemFocus($item) {\r\n        if ($item.is(this.option(\"focusedElement\"))) {\r\n            this.option(\"focusedElement\", null)\r\n        }\r\n    },\r\n    _refreshItem: function($item) {\r\n        var itemData = this._getItemData($item);\r\n        var index = $item.data(this._itemIndexKey());\r\n        this._renderItem(this._renderedItemsCount + index, itemData, null, $item)\r\n    },\r\n    _updateParentActiveDescendant: noop,\r\n    _optionChanged: function(args) {\r\n        if (\"items\" === args.name) {\r\n            var matches = args.fullName.match(ITEM_PATH_REGEX);\r\n            if (matches && matches.length) {\r\n                var property = matches[matches.length - 1];\r\n                var itemPath = args.fullName.replace(\".\" + property, \"\");\r\n                var item = this.option(itemPath);\r\n                this._itemOptionChanged(item, property, args.value, args.previousValue);\r\n                return\r\n            }\r\n        }\r\n        switch (args.name) {\r\n            case \"items\":\r\n            case \"_itemAttributes\":\r\n            case \"itemTemplateProperty\":\r\n            case \"useItemTextAsTitle\":\r\n                this._cleanRenderedItems();\r\n                this._invalidate();\r\n                break;\r\n            case \"dataSource\":\r\n                this._refreshDataSource();\r\n                this._renderEmptyMessage();\r\n                break;\r\n            case \"noDataText\":\r\n            case \"encodeNoDataText\":\r\n                this._renderEmptyMessage();\r\n                break;\r\n            case \"itemTemplate\":\r\n                this._invalidate();\r\n                break;\r\n            case \"onItemRendered\":\r\n                this._createItemRenderAction();\r\n                break;\r\n            case \"onItemClick\":\r\n                break;\r\n            case \"onItemHold\":\r\n            case \"itemHoldTimeout\":\r\n                this._attachHoldEvent();\r\n                break;\r\n            case \"onItemContextMenu\":\r\n                this._attachContextMenuEvent();\r\n                break;\r\n            case \"onFocusedItemChanged\":\r\n                this.onFocusedItemChanged = this._createActionByOption(\"onFocusedItemChanged\");\r\n                break;\r\n            case \"selectOnFocus\":\r\n            case \"loopItemFocus\":\r\n            case \"focusOnSelectedItem\":\r\n                break;\r\n            case \"focusedElement\":\r\n                this._updateFocusedItemState(args.previousValue, false, true);\r\n                this._setFocusedItem($(args.value));\r\n                break;\r\n            case \"displayExpr\":\r\n                this._compileDisplayGetter();\r\n                this._initDefaultItemTemplate();\r\n                this._invalidate();\r\n                break;\r\n            case \"visibleExpr\":\r\n            case \"disabledExpr\":\r\n                this._invalidate();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _invalidate: function() {\r\n        this.option(\"focusedElement\", null);\r\n        return this.callBase.apply(this, arguments)\r\n    },\r\n    _loadNextPage: function() {\r\n        this._expectNextPageLoading();\r\n        return this._dataController.loadNextPage()\r\n    },\r\n    _expectNextPageLoading: function() {\r\n        this._startIndexForAppendedItems = 0\r\n    },\r\n    _expectLastItemLoading: function() {\r\n        this._startIndexForAppendedItems = -1\r\n    },\r\n    _forgetNextPageLoading: function() {\r\n        this._startIndexForAppendedItems = null\r\n    },\r\n    _dataSourceChangedHandler: function(newItems) {\r\n        var items = this.option(\"items\");\r\n        if (this._initialized && items && this._shouldAppendItems()) {\r\n            this._renderedItemsCount = items.length;\r\n            if (!this._isLastPage() || -1 !== this._startIndexForAppendedItems) {\r\n                this.option().items = items.concat(newItems.slice(this._startIndexForAppendedItems))\r\n            }\r\n            this._forgetNextPageLoading();\r\n            this._refreshContent()\r\n        } else {\r\n            this.option(\"items\", newItems.slice())\r\n        }\r\n    },\r\n    _refreshContent: function() {\r\n        this._prepareContent();\r\n        this._renderContent()\r\n    },\r\n    _dataSourceLoadErrorHandler: function() {\r\n        this._forgetNextPageLoading();\r\n        this.option(\"items\", this.option(\"items\"))\r\n    },\r\n    _shouldAppendItems: function() {\r\n        return null != this._startIndexForAppendedItems && this._allowDynamicItemsAppend()\r\n    },\r\n    _allowDynamicItemsAppend: function() {\r\n        return false\r\n    },\r\n    _clean: function() {\r\n        this._cleanFocusState();\r\n        this._cleanItemContainer();\r\n        this._inkRipple && delete this._inkRipple;\r\n        this._resetActiveState()\r\n    },\r\n    _cleanItemContainer: function() {\r\n        $(this._itemContainer()).empty()\r\n    },\r\n    _dispose: function() {\r\n        this.callBase();\r\n        clearTimeout(this._itemFocusTimeout)\r\n    },\r\n    _refresh: function() {\r\n        this._cleanRenderedItems();\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _itemContainer: function() {\r\n        return this.$element()\r\n    },\r\n    _itemClass: function() {\r\n        return ITEM_CLASS\r\n    },\r\n    _itemContentClass: function() {\r\n        return this._itemClass() + CONTENT_CLASS_POSTFIX\r\n    },\r\n    _selectedItemClass: function() {\r\n        return SELECTED_ITEM_CLASS\r\n    },\r\n    _itemResponseWaitClass: function() {\r\n        return ITEM_RESPONSE_WAIT_CLASS\r\n    },\r\n    _itemSelector: function() {\r\n        return \".\" + this._itemClass()\r\n    },\r\n    _itemDataKey: function() {\r\n        return ITEM_DATA_KEY\r\n    },\r\n    _itemIndexKey: function() {\r\n        return ITEM_INDEX_KEY\r\n    },\r\n    _itemElements: function() {\r\n        return this._itemContainer().find(this._itemSelector())\r\n    },\r\n    _initMarkup: function() {\r\n        this.callBase();\r\n        this.onFocusedItemChanged = this._createActionByOption(\"onFocusedItemChanged\");\r\n        this.$element().addClass(COLLECTION_CLASS);\r\n        this._prepareContent()\r\n    },\r\n    _prepareContent: deferRenderer((function() {\r\n        this._renderContentImpl()\r\n    })),\r\n    _renderContent: function() {\r\n        this._fireContentReadyAction()\r\n    },\r\n    _render: function() {\r\n        this.callBase();\r\n        this._attachClickEvent();\r\n        this._attachHoldEvent();\r\n        this._attachContextMenuEvent()\r\n    },\r\n    _attachClickEvent: function() {\r\n        var itemSelector = this._itemSelector();\r\n        var clickEventNamespace = addNamespace(clickEventName, this.NAME);\r\n        var pointerDownEventNamespace = addNamespace(pointerEvents.down, this.NAME);\r\n        var that = this;\r\n        var pointerDownAction = new Action((function(args) {\r\n            var event = args.event;\r\n            that._itemPointerDownHandler(event)\r\n        }));\r\n        eventsEngine.off(this._itemContainer(), clickEventNamespace, itemSelector);\r\n        eventsEngine.off(this._itemContainer(), pointerDownEventNamespace, itemSelector);\r\n        eventsEngine.on(this._itemContainer(), clickEventNamespace, itemSelector, function(e) {\r\n            this._itemClickHandler(e)\r\n        }.bind(this));\r\n        eventsEngine.on(this._itemContainer(), pointerDownEventNamespace, itemSelector, (function(e) {\r\n            pointerDownAction.execute({\r\n                element: $(e.target),\r\n                event: e\r\n            })\r\n        }))\r\n    },\r\n    _itemClickHandler: function(e, args, config) {\r\n        this._itemDXEventHandler(e, \"onItemClick\", args, config)\r\n    },\r\n    _itemPointerDownHandler: function(e) {\r\n        if (!this.option(\"focusStateEnabled\")) {\r\n            return\r\n        }\r\n        this._itemFocusHandler = function() {\r\n            clearTimeout(this._itemFocusTimeout);\r\n            this._itemFocusHandler = null;\r\n            if (e.isDefaultPrevented()) {\r\n                return\r\n            }\r\n            var $target = $(e.target);\r\n            var $closestItem = $target.closest(this._itemElements());\r\n            var $closestFocusable = this._closestFocusable($target);\r\n            if ($closestItem.length && this._isFocusTarget(null === $closestFocusable || void 0 === $closestFocusable ? void 0 : $closestFocusable.get(0))) {\r\n                this.option(\"focusedElement\", getPublicElement($closestItem))\r\n            }\r\n        }.bind(this);\r\n        this._itemFocusTimeout = setTimeout(this._forcePointerDownFocus.bind(this))\r\n    },\r\n    _closestFocusable: function($target) {\r\n        if ($target.is(focusable)) {\r\n            return $target\r\n        } else {\r\n            $target = $target.parent();\r\n            while ($target.length && !domAdapter.isDocument($target.get(0)) && !domAdapter.isDocumentFragment($target.get(0))) {\r\n                if ($target.is(focusable)) {\r\n                    return $target\r\n                }\r\n                $target = $target.parent()\r\n            }\r\n        }\r\n    },\r\n    _forcePointerDownFocus: function() {\r\n        this._itemFocusHandler && this._itemFocusHandler()\r\n    },\r\n    _updateFocusState: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._forcePointerDownFocus()\r\n    },\r\n    _attachHoldEvent: function() {\r\n        var $itemContainer = this._itemContainer();\r\n        var itemSelector = this._itemSelector();\r\n        var eventName = addNamespace(holdEvent.name, this.NAME);\r\n        eventsEngine.off($itemContainer, eventName, itemSelector);\r\n        eventsEngine.on($itemContainer, eventName, itemSelector, {\r\n            timeout: this._getHoldTimeout()\r\n        }, this._itemHoldHandler.bind(this))\r\n    },\r\n    _getHoldTimeout: function() {\r\n        return this.option(\"itemHoldTimeout\")\r\n    },\r\n    _shouldFireHoldEvent: function() {\r\n        return this.hasActionSubscription(\"onItemHold\")\r\n    },\r\n    _itemHoldHandler: function(e) {\r\n        if (this._shouldFireHoldEvent()) {\r\n            this._itemDXEventHandler(e, \"onItemHold\")\r\n        } else {\r\n            e.cancel = true\r\n        }\r\n    },\r\n    _attachContextMenuEvent: function() {\r\n        var $itemContainer = this._itemContainer();\r\n        var itemSelector = this._itemSelector();\r\n        var eventName = addNamespace(contextMenuEventName, this.NAME);\r\n        eventsEngine.off($itemContainer, eventName, itemSelector);\r\n        eventsEngine.on($itemContainer, eventName, itemSelector, this._itemContextMenuHandler.bind(this))\r\n    },\r\n    _shouldFireContextMenuEvent: function() {\r\n        return this.hasActionSubscription(\"onItemContextMenu\")\r\n    },\r\n    _itemContextMenuHandler: function(e) {\r\n        if (this._shouldFireContextMenuEvent()) {\r\n            this._itemDXEventHandler(e, \"onItemContextMenu\")\r\n        } else {\r\n            e.cancel = true\r\n        }\r\n    },\r\n    _renderContentImpl: function() {\r\n        var items = this.option(\"items\") || [];\r\n        if (this._renderedItemsCount) {\r\n            this._renderItems(items.slice(this._renderedItemsCount))\r\n        } else {\r\n            this._renderItems(items)\r\n        }\r\n    },\r\n    _renderItems: function(items) {\r\n        if (items.length) {\r\n            each(items, function(index, itemData) {\r\n                this._renderItem(this._renderedItemsCount + index, itemData)\r\n            }.bind(this))\r\n        }\r\n        this._renderEmptyMessage()\r\n    },\r\n    _renderItem: function(index, itemData, $container, $itemToReplace) {\r\n        var _index$item;\r\n        var itemIndex = null !== (_index$item = null === index || void 0 === index ? void 0 : index.item) && void 0 !== _index$item ? _index$item : index;\r\n        $container = $container || this._itemContainer();\r\n        var $itemFrame = this._renderItemFrame(itemIndex, itemData, $container, $itemToReplace);\r\n        this._setElementData($itemFrame, itemData, itemIndex);\r\n        $itemFrame.attr(this.option(\"_itemAttributes\"));\r\n        this._attachItemClickEvent(itemData, $itemFrame);\r\n        var $itemContent = this._getItemContent($itemFrame);\r\n        var renderContentPromise = this._renderItemContent({\r\n            index: itemIndex,\r\n            itemData: itemData,\r\n            container: getPublicElement($itemContent),\r\n            contentClass: this._itemContentClass(),\r\n            defaultTemplateName: this.option(\"itemTemplate\")\r\n        });\r\n        var that = this;\r\n        when(renderContentPromise).done((function($itemContent) {\r\n            that._postprocessRenderItem({\r\n                itemElement: $itemFrame,\r\n                itemContent: $itemContent,\r\n                itemData: itemData,\r\n                itemIndex: itemIndex\r\n            });\r\n            that._executeItemRenderAction(index, itemData, getPublicElement($itemFrame))\r\n        }));\r\n        return $itemFrame\r\n    },\r\n    _getItemContent: function($itemFrame) {\r\n        var $itemContent = $itemFrame.find(\".\" + ITEM_CONTENT_PLACEHOLDER_CLASS);\r\n        $itemContent.removeClass(ITEM_CONTENT_PLACEHOLDER_CLASS);\r\n        return $itemContent\r\n    },\r\n    _attachItemClickEvent: function(itemData, $itemElement) {\r\n        if (!itemData || !itemData.onClick) {\r\n            return\r\n        }\r\n        eventsEngine.on($itemElement, clickEventName, function(e) {\r\n            this._itemEventHandlerByHandler($itemElement, itemData.onClick, {\r\n                event: e\r\n            })\r\n        }.bind(this))\r\n    },\r\n    _renderItemContent: function(args) {\r\n        var itemTemplateName = this._getItemTemplateName(args);\r\n        var itemTemplate = this._getTemplate(itemTemplateName);\r\n        this._addItemContentClasses(args);\r\n        var $templateResult = $(this._createItemByTemplate(itemTemplate, args));\r\n        if (!$templateResult.hasClass(TEMPLATE_WRAPPER_CLASS)) {\r\n            return args.container\r\n        }\r\n        return this._renderItemContentByNode(args, $templateResult)\r\n    },\r\n    _renderItemContentByNode: function(args, $node) {\r\n        $(args.container).replaceWith($node);\r\n        args.container = getPublicElement($node);\r\n        this._addItemContentClasses(args);\r\n        return $node\r\n    },\r\n    _addItemContentClasses: function(args) {\r\n        var classes = [ITEM_CLASS + CONTENT_CLASS_POSTFIX, args.contentClass];\r\n        $(args.container).addClass(classes.join(\" \"))\r\n    },\r\n    _appendItemToContainer: function($container, $itemFrame, index) {\r\n        $itemFrame.appendTo($container)\r\n    },\r\n    _renderItemFrame: function(index, itemData, $container, $itemToReplace) {\r\n        var $itemFrame = $(\"<div>\");\r\n        new this.constructor.ItemClass($itemFrame, this._itemOptions(), itemData || {});\r\n        if ($itemToReplace && $itemToReplace.length) {\r\n            $itemToReplace.replaceWith($itemFrame)\r\n        } else {\r\n            this._appendItemToContainer.call(this, $container, $itemFrame, index)\r\n        }\r\n        if (this.option(\"useItemTextAsTitle\")) {\r\n            var displayValue = this._displayGetter ? this._displayGetter(itemData) : itemData;\r\n            $itemFrame.attr(\"title\", displayValue)\r\n        }\r\n        return $itemFrame\r\n    },\r\n    _itemOptions: function() {\r\n        var that = this;\r\n        return {\r\n            watchMethod: function() {\r\n                return that.option(\"integrationOptions.watchMethod\")\r\n            },\r\n            owner: that,\r\n            fieldGetter: function(field) {\r\n                var expr = that.option(field + \"Expr\");\r\n                var getter = compileGetter(expr);\r\n                return getter\r\n            }\r\n        }\r\n    },\r\n    _postprocessRenderItem: noop,\r\n    _executeItemRenderAction: function(index, itemData, itemElement) {\r\n        this._getItemRenderAction()({\r\n            itemElement: itemElement,\r\n            itemIndex: index,\r\n            itemData: itemData\r\n        })\r\n    },\r\n    _setElementData: function(element, data, index) {\r\n        element.addClass([ITEM_CLASS, this._itemClass()].join(\" \")).data(this._itemDataKey(), data).data(this._itemIndexKey(), index)\r\n    },\r\n    _createItemRenderAction: function() {\r\n        return this._itemRenderAction = this._createActionByOption(\"onItemRendered\", {\r\n            element: this.element(),\r\n            excludeValidators: [\"disabled\", \"readOnly\"],\r\n            category: \"rendering\"\r\n        })\r\n    },\r\n    _getItemRenderAction: function() {\r\n        return this._itemRenderAction || this._createItemRenderAction()\r\n    },\r\n    _getItemTemplateName: function(args) {\r\n        var data = args.itemData;\r\n        var templateProperty = args.templateProperty || this.option(\"itemTemplateProperty\");\r\n        var template = data && data[templateProperty];\r\n        return template || args.defaultTemplateName\r\n    },\r\n    _createItemByTemplate: function(itemTemplate, renderArgs) {\r\n        return itemTemplate.render({\r\n            model: renderArgs.itemData,\r\n            container: renderArgs.container,\r\n            index: renderArgs.index,\r\n            onRendered: this._onItemTemplateRendered(itemTemplate, renderArgs)\r\n        })\r\n    },\r\n    _onItemTemplateRendered: function() {\r\n        return noop\r\n    },\r\n    _emptyMessageContainer: function() {\r\n        return this._itemContainer()\r\n    },\r\n    _renderEmptyMessage: function(items) {\r\n        items = items || this.option(\"items\");\r\n        var noDataText = this.option(\"noDataText\");\r\n        var hideNoData = !noDataText || items && items.length || this._dataController.isLoading();\r\n        if (hideNoData && this._$noData) {\r\n            this._$noData.remove();\r\n            this._$noData = null;\r\n            this.setAria(\"label\", void 0)\r\n        }\r\n        if (!hideNoData) {\r\n            this._$noData = this._$noData || $(\"<div>\").addClass(\"dx-empty-message\");\r\n            this._$noData.appendTo(this._emptyMessageContainer());\r\n            if (this.option(\"encodeNoDataText\")) {\r\n                this._$noData.text(noDataText)\r\n            } else {\r\n                this._$noData.html(noDataText)\r\n            }\r\n            this.setAria(\"label\", noDataText)\r\n        }\r\n        this.$element().toggleClass(EMPTY_COLLECTION, !hideNoData)\r\n    },\r\n    _itemDXEventHandler: function(dxEvent, handlerOptionName, actionArgs, actionConfig) {\r\n        this._itemEventHandler(dxEvent.target, handlerOptionName, extend(actionArgs, {\r\n            event: dxEvent\r\n        }), actionConfig)\r\n    },\r\n    _itemEventHandler: function(initiator, handlerOptionName, actionArgs, actionConfig) {\r\n        var action = this._createActionByOption(handlerOptionName, extend({\r\n            validatingTargetName: \"itemElement\"\r\n        }, actionConfig));\r\n        return this._itemEventHandlerImpl(initiator, action, actionArgs)\r\n    },\r\n    _itemEventHandlerByHandler: function(initiator, handler, actionArgs, actionConfig) {\r\n        var action = this._createAction(handler, extend({\r\n            validatingTargetName: \"itemElement\"\r\n        }, actionConfig));\r\n        return this._itemEventHandlerImpl(initiator, action, actionArgs)\r\n    },\r\n    _itemEventHandlerImpl: function(initiator, action, actionArgs) {\r\n        var $itemElement = this._closestItemElement($(initiator));\r\n        var args = extend({}, actionArgs);\r\n        return action(extend(actionArgs, this._extendActionArgs($itemElement), args))\r\n    },\r\n    _extendActionArgs: function($itemElement) {\r\n        return {\r\n            itemElement: getPublicElement($itemElement),\r\n            itemIndex: this._itemElements().index($itemElement),\r\n            itemData: this._getItemData($itemElement)\r\n        }\r\n    },\r\n    _closestItemElement: function($element) {\r\n        return $($element).closest(this._itemSelector())\r\n    },\r\n    _getItemData: function(itemElement) {\r\n        return $(itemElement).data(this._itemDataKey())\r\n    },\r\n    _getSummaryItemsWidth: function(items, includeMargin) {\r\n        var result = 0;\r\n        if (items) {\r\n            each(items, (function(_, item) {\r\n                result += getOuterWidth(item, includeMargin || false)\r\n            }))\r\n        }\r\n        return result\r\n    },\r\n    getFocusedItemId: function() {\r\n        if (!this._focusedItemId) {\r\n            this._focusedItemId = \"dx-\" + new Guid\r\n        }\r\n        return this._focusedItemId\r\n    },\r\n    itemElements: function() {\r\n        return this._itemElements()\r\n    },\r\n    itemsContainer: function() {\r\n        return this._itemContainer()\r\n    }\r\n}).include(DataHelperMixin);\r\nCollectionWidget.ItemClass = CollectionWidgetItem;\r\nexport default CollectionWidget;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}