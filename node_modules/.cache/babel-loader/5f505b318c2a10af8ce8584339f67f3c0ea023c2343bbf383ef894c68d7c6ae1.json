{"ast":null,"code":"/**\r\n * DevExtreme (esm/core/utils/deferred.js)\r\n * Version: 22.2.6\r\n * Build date: Tue Apr 18 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { isDeferred, isDefined, isPromise } from \"../utils/type\";\nimport { extend } from \"../utils/extend\";\nimport Callbacks from \"../utils/callbacks\";\nvar deferredConfig = [{\n  method: \"resolve\",\n  handler: \"done\",\n  state: \"resolved\"\n}, {\n  method: \"reject\",\n  handler: \"fail\",\n  state: \"rejected\"\n}, {\n  method: \"notify\",\n  handler: \"progress\"\n}];\nvar _DeferredObj = function () {\n  var that = this;\n  this._state = \"pending\";\n  this._promise = {};\n  deferredConfig.forEach(function (config) {\n    var methodName = config.method;\n    this[methodName + \"Callbacks\"] = Callbacks();\n    this[methodName] = function () {\n      return this[methodName + \"With\"](this._promise, arguments);\n    }.bind(this);\n    this._promise[config.handler] = function (handler) {\n      if (!handler) {\n        return this;\n      }\n      var callbacks = that[methodName + \"Callbacks\"];\n      if (callbacks.fired()) {\n        handler.apply(that[methodName + \"Context\"], that[methodName + \"Args\"]);\n      } else {\n        callbacks.add(function (context, args) {\n          handler.apply(context, args);\n        }.bind(this));\n      }\n      return this;\n    };\n  }.bind(this));\n  this._promise.always = function (handler) {\n    return this.done(handler).fail(handler);\n  };\n  this._promise.catch = function (handler) {\n    return this.then(null, handler);\n  };\n  this._promise.then = function (resolve, reject) {\n    var result = new _DeferredObj();\n    [\"done\", \"fail\"].forEach(function (method) {\n      var callback = \"done\" === method ? resolve : reject;\n      this[method](function () {\n        if (!callback) {\n          result[\"done\" === method ? \"resolve\" : \"reject\"].apply(this, arguments);\n          return;\n        }\n        var callbackResult = callback && callback.apply(this, arguments);\n        if (isDeferred(callbackResult)) {\n          callbackResult.done(result.resolve).fail(result.reject);\n        } else if (isPromise(callbackResult)) {\n          callbackResult.then(result.resolve, result.reject);\n        } else {\n          result.resolve.apply(this, isDefined(callbackResult) ? [callbackResult] : arguments);\n        }\n      });\n    }.bind(this));\n    return result.promise();\n  };\n  this._promise.state = function () {\n    return that._state;\n  };\n  this._promise.promise = function (args) {\n    return args ? extend(args, that._promise) : that._promise;\n  };\n  this._promise.promise(this);\n};\ndeferredConfig.forEach(function (config) {\n  var methodName = config.method;\n  var state = config.state;\n  _DeferredObj.prototype[methodName + \"With\"] = function (context, args) {\n    var callbacks = this[methodName + \"Callbacks\"];\n    if (\"pending\" === this.state()) {\n      this[methodName + \"Args\"] = args;\n      this[methodName + \"Context\"] = context;\n      if (state) {\n        this._state = state;\n      }\n      callbacks.fire(context, args);\n    }\n    return this;\n  };\n});\nexport function fromPromise(promise, context) {\n  if (isDeferred(promise)) {\n    return promise;\n  } else if (isPromise(promise)) {\n    var d = new _DeferredObj();\n    promise.then(function () {\n      d.resolveWith.apply(d, [context].concat([[].slice.call(arguments)]));\n    }, function () {\n      d.rejectWith.apply(d, [context].concat([[].slice.call(arguments)]));\n    });\n    return d;\n  }\n  return new _DeferredObj().resolveWith(context, [promise]);\n}\nvar whenFunc = function () {\n  if (1 === arguments.length) {\n    return fromPromise(arguments[0]);\n  }\n  var values = [].slice.call(arguments);\n  var contexts = [];\n  var resolvedCount = 0;\n  var deferred = new _DeferredObj();\n  var updateState = function (i) {\n    return function (value) {\n      contexts[i] = this;\n      values[i] = arguments.length > 1 ? [].slice.call(arguments) : value;\n      resolvedCount++;\n      if (resolvedCount === values.length) {\n        deferred.resolveWith(contexts, values);\n      }\n    };\n  };\n  for (var i = 0; i < values.length; i++) {\n    if (isDeferred(values[i])) {\n      values[i].promise().done(updateState(i)).fail(deferred.reject);\n    } else {\n      resolvedCount++;\n    }\n  }\n  if (resolvedCount === values.length) {\n    deferred.resolveWith(contexts, values);\n  }\n  return deferred.promise();\n};\nexport function setStrategy(value) {\n  _DeferredObj = value.Deferred;\n  whenFunc = value.when;\n}\nexport function Deferred() {\n  return new _DeferredObj();\n}\nexport function when() {\n  return whenFunc.apply(this, arguments);\n}","map":{"version":3,"names":["isDeferred","isDefined","isPromise","extend","Callbacks","deferredConfig","method","handler","state","_DeferredObj","that","_state","_promise","forEach","config","methodName","arguments","bind","callbacks","fired","apply","add","context","args","always","done","fail","catch","then","resolve","reject","result","callback","callbackResult","promise","prototype","fire","fromPromise","d","resolveWith","concat","slice","call","rejectWith","whenFunc","length","values","contexts","resolvedCount","deferred","updateState","i","value","setStrategy","Deferred","when"],"sources":["C:/Users/ninad/OneDrive/Radna povrÅ¡ina/zavrsni/client/node_modules/devextreme/esm/core/utils/deferred.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/core/utils/deferred.js)\r\n * Version: 22.2.6\r\n * Build date: Tue Apr 18 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isDeferred,\r\n    isDefined,\r\n    isPromise\r\n} from \"../utils/type\";\r\nimport {\r\n    extend\r\n} from \"../utils/extend\";\r\nimport Callbacks from \"../utils/callbacks\";\r\nvar deferredConfig = [{\r\n    method: \"resolve\",\r\n    handler: \"done\",\r\n    state: \"resolved\"\r\n}, {\r\n    method: \"reject\",\r\n    handler: \"fail\",\r\n    state: \"rejected\"\r\n}, {\r\n    method: \"notify\",\r\n    handler: \"progress\"\r\n}];\r\nvar _DeferredObj = function() {\r\n    var that = this;\r\n    this._state = \"pending\";\r\n    this._promise = {};\r\n    deferredConfig.forEach(function(config) {\r\n        var methodName = config.method;\r\n        this[methodName + \"Callbacks\"] = Callbacks();\r\n        this[methodName] = function() {\r\n            return this[methodName + \"With\"](this._promise, arguments)\r\n        }.bind(this);\r\n        this._promise[config.handler] = function(handler) {\r\n            if (!handler) {\r\n                return this\r\n            }\r\n            var callbacks = that[methodName + \"Callbacks\"];\r\n            if (callbacks.fired()) {\r\n                handler.apply(that[methodName + \"Context\"], that[methodName + \"Args\"])\r\n            } else {\r\n                callbacks.add(function(context, args) {\r\n                    handler.apply(context, args)\r\n                }.bind(this))\r\n            }\r\n            return this\r\n        }\r\n    }.bind(this));\r\n    this._promise.always = function(handler) {\r\n        return this.done(handler).fail(handler)\r\n    };\r\n    this._promise.catch = function(handler) {\r\n        return this.then(null, handler)\r\n    };\r\n    this._promise.then = function(resolve, reject) {\r\n        var result = new _DeferredObj;\r\n        [\"done\", \"fail\"].forEach(function(method) {\r\n            var callback = \"done\" === method ? resolve : reject;\r\n            this[method]((function() {\r\n                if (!callback) {\r\n                    result[\"done\" === method ? \"resolve\" : \"reject\"].apply(this, arguments);\r\n                    return\r\n                }\r\n                var callbackResult = callback && callback.apply(this, arguments);\r\n                if (isDeferred(callbackResult)) {\r\n                    callbackResult.done(result.resolve).fail(result.reject)\r\n                } else if (isPromise(callbackResult)) {\r\n                    callbackResult.then(result.resolve, result.reject)\r\n                } else {\r\n                    result.resolve.apply(this, isDefined(callbackResult) ? [callbackResult] : arguments)\r\n                }\r\n            }))\r\n        }.bind(this));\r\n        return result.promise()\r\n    };\r\n    this._promise.state = function() {\r\n        return that._state\r\n    };\r\n    this._promise.promise = function(args) {\r\n        return args ? extend(args, that._promise) : that._promise\r\n    };\r\n    this._promise.promise(this)\r\n};\r\ndeferredConfig.forEach((function(config) {\r\n    var methodName = config.method;\r\n    var state = config.state;\r\n    _DeferredObj.prototype[methodName + \"With\"] = function(context, args) {\r\n        var callbacks = this[methodName + \"Callbacks\"];\r\n        if (\"pending\" === this.state()) {\r\n            this[methodName + \"Args\"] = args;\r\n            this[methodName + \"Context\"] = context;\r\n            if (state) {\r\n                this._state = state\r\n            }\r\n            callbacks.fire(context, args)\r\n        }\r\n        return this\r\n    }\r\n}));\r\nexport function fromPromise(promise, context) {\r\n    if (isDeferred(promise)) {\r\n        return promise\r\n    } else if (isPromise(promise)) {\r\n        var d = new _DeferredObj;\r\n        promise.then((function() {\r\n            d.resolveWith.apply(d, [context].concat([\r\n                [].slice.call(arguments)\r\n            ]))\r\n        }), (function() {\r\n            d.rejectWith.apply(d, [context].concat([\r\n                [].slice.call(arguments)\r\n            ]))\r\n        }));\r\n        return d\r\n    }\r\n    return (new _DeferredObj).resolveWith(context, [promise])\r\n}\r\nvar whenFunc = function() {\r\n    if (1 === arguments.length) {\r\n        return fromPromise(arguments[0])\r\n    }\r\n    var values = [].slice.call(arguments);\r\n    var contexts = [];\r\n    var resolvedCount = 0;\r\n    var deferred = new _DeferredObj;\r\n    var updateState = function(i) {\r\n        return function(value) {\r\n            contexts[i] = this;\r\n            values[i] = arguments.length > 1 ? [].slice.call(arguments) : value;\r\n            resolvedCount++;\r\n            if (resolvedCount === values.length) {\r\n                deferred.resolveWith(contexts, values)\r\n            }\r\n        }\r\n    };\r\n    for (var i = 0; i < values.length; i++) {\r\n        if (isDeferred(values[i])) {\r\n            values[i].promise().done(updateState(i)).fail(deferred.reject)\r\n        } else {\r\n            resolvedCount++\r\n        }\r\n    }\r\n    if (resolvedCount === values.length) {\r\n        deferred.resolveWith(contexts, values)\r\n    }\r\n    return deferred.promise()\r\n};\r\nexport function setStrategy(value) {\r\n    _DeferredObj = value.Deferred;\r\n    whenFunc = value.when\r\n}\r\nexport function Deferred() {\r\n    return new _DeferredObj\r\n}\r\nexport function when() {\r\n    return whenFunc.apply(this, arguments)\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}