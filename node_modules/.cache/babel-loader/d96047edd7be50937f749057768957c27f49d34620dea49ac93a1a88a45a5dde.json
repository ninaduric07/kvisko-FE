{"ast":null,"code":"/**\r\n * DevExtreme (esm/exporter/file_saver.js)\r\n * Version: 22.2.6\r\n * Build date: Tue Apr 18 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport domAdapter from \"../core/dom_adapter\";\nimport { getWindow, getNavigator } from \"../core/utils/window\";\nimport errors from \"../ui/widget/ui.errors\";\nimport { isDefined, isFunction } from \"../core/utils/type\";\nimport { logger } from \"../core/utils/console\";\nvar window = getWindow();\nvar navigator = getNavigator();\nvar FILE_EXTESIONS = {\n  EXCEL: \"xlsx\",\n  CSS: \"css\",\n  PNG: \"png\",\n  JPEG: \"jpeg\",\n  GIF: \"gif\",\n  SVG: \"svg\",\n  PDF: \"pdf\"\n};\nexport var MIME_TYPES = {\n  CSS: \"text/css\",\n  EXCEL: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\n  PNG: \"image/png\",\n  JPEG: \"image/jpeg\",\n  GIF: \"image/gif\",\n  SVG: \"image/svg+xml\",\n  PDF: \"application/pdf\"\n};\nexport var fileSaver = {\n  _revokeObjectURLTimeout: 3e4,\n  _getDataUri: function (format, data) {\n    var mimeType = this._getMimeType(format);\n    return \"data:\".concat(mimeType, \";base64,\").concat(data);\n  },\n  _getMimeType: function (format) {\n    return MIME_TYPES[format] || \"application/octet-stream\";\n  },\n  _linkDownloader: function (fileName, href) {\n    var exportLinkElement = domAdapter.createElement(\"a\");\n    exportLinkElement.download = fileName;\n    exportLinkElement.href = href;\n    exportLinkElement.target = \"_blank\";\n    return exportLinkElement;\n  },\n  _winJSBlobSave: function (blob, fileName, format) {\n    var savePicker = new Windows.Storage.Pickers.FileSavePicker();\n    savePicker.suggestedStartLocation = Windows.Storage.Pickers.PickerLocationId.documentsLibrary;\n    var fileExtension = FILE_EXTESIONS[format];\n    if (fileExtension) {\n      var mimeType = this._getMimeType(format);\n      savePicker.fileTypeChoices.insert(mimeType, [\".\" + fileExtension]);\n    }\n    savePicker.suggestedFileName = fileName;\n    savePicker.pickSaveFileAsync().then(function (file) {\n      if (file) {\n        file.openAsync(Windows.Storage.FileAccessMode.readWrite).then(function (outputStream) {\n          var inputStream = blob.msDetachStream();\n          Windows.Storage.Streams.RandomAccessStream.copyAsync(inputStream, outputStream).then(function () {\n            outputStream.flushAsync().done(function () {\n              inputStream.close();\n              outputStream.close();\n            });\n          });\n        });\n      }\n    });\n  },\n  _click: function (link) {\n    try {\n      link.dispatchEvent(new MouseEvent(\"click\", {\n        cancelable: true\n      }));\n    } catch (e) {\n      var event = domAdapter.getDocument().createEvent(\"MouseEvents\");\n      event.initMouseEvent(\"click\", true, true, window, 0, 0, 0, 80, 20, false, false, false, false, 0, null);\n      link.dispatchEvent(event);\n    }\n  },\n  _saveBlobAs: function (fileName, format, data) {\n    this._blobSaved = false;\n    if (isDefined(navigator.msSaveOrOpenBlob)) {\n      navigator.msSaveOrOpenBlob(data, fileName);\n      this._blobSaved = true;\n    } else if (isDefined(window.WinJS)) {\n      this._winJSBlobSave(data, fileName, format);\n      this._blobSaved = true;\n    } else {\n      var URL = window.URL || window.webkitURL || window.mozURL || window.msURL || window.oURL;\n      if (isDefined(URL)) {\n        var objectURL = URL.createObjectURL(data);\n        var downloadLink = this._linkDownloader(fileName, objectURL);\n        setTimeout(() => {\n          URL.revokeObjectURL(objectURL);\n          this._objectUrlRevoked = true;\n        }, this._revokeObjectURLTimeout);\n        this._click(downloadLink);\n      } else {\n        logger.warn(\"window.URL || window.webkitURL || window.mozURL || window.msURL || window.oURL is not defined\");\n      }\n    }\n  },\n  saveAs: function (fileName, format, data) {\n    var fileExtension = FILE_EXTESIONS[format];\n    if (fileExtension) {\n      fileName += \".\" + fileExtension;\n    }\n    if (isFunction(window.Blob)) {\n      this._saveBlobAs(fileName, format, data);\n    } else {\n      if (!isDefined(navigator.userAgent.match(/iPad/i))) {\n        errors.log(\"E1034\");\n      }\n      var downloadLink = this._linkDownloader(fileName, this._getDataUri(format, data));\n      this._click(downloadLink);\n    }\n  }\n};","map":{"version":3,"names":["domAdapter","getWindow","getNavigator","errors","isDefined","isFunction","logger","window","navigator","FILE_EXTESIONS","EXCEL","CSS","PNG","JPEG","GIF","SVG","PDF","MIME_TYPES","fileSaver","_revokeObjectURLTimeout","_getDataUri","format","data","mimeType","_getMimeType","concat","_linkDownloader","fileName","href","exportLinkElement","createElement","download","target","_winJSBlobSave","blob","savePicker","Windows","Storage","Pickers","FileSavePicker","suggestedStartLocation","PickerLocationId","documentsLibrary","fileExtension","fileTypeChoices","insert","suggestedFileName","pickSaveFileAsync","then","file","openAsync","FileAccessMode","readWrite","outputStream","inputStream","msDetachStream","Streams","RandomAccessStream","copyAsync","flushAsync","done","close","_click","link","dispatchEvent","MouseEvent","cancelable","e","event","getDocument","createEvent","initMouseEvent","_saveBlobAs","_blobSaved","msSaveOrOpenBlob","WinJS","URL","webkitURL","mozURL","msURL","oURL","objectURL","createObjectURL","downloadLink","setTimeout","revokeObjectURL","_objectUrlRevoked","warn","saveAs","Blob","userAgent","match","log"],"sources":["C:/Users/ninad/OneDrive/Radna povrÅ¡ina/zavrsni/client/node_modules/devextreme/esm/exporter/file_saver.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/exporter/file_saver.js)\r\n * Version: 22.2.6\r\n * Build date: Tue Apr 18 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport domAdapter from \"../core/dom_adapter\";\r\nimport {\r\n    getWindow,\r\n    getNavigator\r\n} from \"../core/utils/window\";\r\nimport errors from \"../ui/widget/ui.errors\";\r\nimport {\r\n    isDefined,\r\n    isFunction\r\n} from \"../core/utils/type\";\r\nimport {\r\n    logger\r\n} from \"../core/utils/console\";\r\nvar window = getWindow();\r\nvar navigator = getNavigator();\r\nvar FILE_EXTESIONS = {\r\n    EXCEL: \"xlsx\",\r\n    CSS: \"css\",\r\n    PNG: \"png\",\r\n    JPEG: \"jpeg\",\r\n    GIF: \"gif\",\r\n    SVG: \"svg\",\r\n    PDF: \"pdf\"\r\n};\r\nexport var MIME_TYPES = {\r\n    CSS: \"text/css\",\r\n    EXCEL: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\r\n    PNG: \"image/png\",\r\n    JPEG: \"image/jpeg\",\r\n    GIF: \"image/gif\",\r\n    SVG: \"image/svg+xml\",\r\n    PDF: \"application/pdf\"\r\n};\r\nexport var fileSaver = {\r\n    _revokeObjectURLTimeout: 3e4,\r\n    _getDataUri: function(format, data) {\r\n        var mimeType = this._getMimeType(format);\r\n        return \"data:\".concat(mimeType, \";base64,\").concat(data)\r\n    },\r\n    _getMimeType: function(format) {\r\n        return MIME_TYPES[format] || \"application/octet-stream\"\r\n    },\r\n    _linkDownloader: function(fileName, href) {\r\n        var exportLinkElement = domAdapter.createElement(\"a\");\r\n        exportLinkElement.download = fileName;\r\n        exportLinkElement.href = href;\r\n        exportLinkElement.target = \"_blank\";\r\n        return exportLinkElement\r\n    },\r\n    _winJSBlobSave: function(blob, fileName, format) {\r\n        var savePicker = new Windows.Storage.Pickers.FileSavePicker;\r\n        savePicker.suggestedStartLocation = Windows.Storage.Pickers.PickerLocationId.documentsLibrary;\r\n        var fileExtension = FILE_EXTESIONS[format];\r\n        if (fileExtension) {\r\n            var mimeType = this._getMimeType(format);\r\n            savePicker.fileTypeChoices.insert(mimeType, [\".\" + fileExtension])\r\n        }\r\n        savePicker.suggestedFileName = fileName;\r\n        savePicker.pickSaveFileAsync().then((function(file) {\r\n            if (file) {\r\n                file.openAsync(Windows.Storage.FileAccessMode.readWrite).then((function(outputStream) {\r\n                    var inputStream = blob.msDetachStream();\r\n                    Windows.Storage.Streams.RandomAccessStream.copyAsync(inputStream, outputStream).then((function() {\r\n                        outputStream.flushAsync().done((function() {\r\n                            inputStream.close();\r\n                            outputStream.close()\r\n                        }))\r\n                    }))\r\n                }))\r\n            }\r\n        }))\r\n    },\r\n    _click: function(link) {\r\n        try {\r\n            link.dispatchEvent(new MouseEvent(\"click\", {\r\n                cancelable: true\r\n            }))\r\n        } catch (e) {\r\n            var event = domAdapter.getDocument().createEvent(\"MouseEvents\");\r\n            event.initMouseEvent(\"click\", true, true, window, 0, 0, 0, 80, 20, false, false, false, false, 0, null);\r\n            link.dispatchEvent(event)\r\n        }\r\n    },\r\n    _saveBlobAs: function(fileName, format, data) {\r\n        this._blobSaved = false;\r\n        if (isDefined(navigator.msSaveOrOpenBlob)) {\r\n            navigator.msSaveOrOpenBlob(data, fileName);\r\n            this._blobSaved = true\r\n        } else if (isDefined(window.WinJS)) {\r\n            this._winJSBlobSave(data, fileName, format);\r\n            this._blobSaved = true\r\n        } else {\r\n            var URL = window.URL || window.webkitURL || window.mozURL || window.msURL || window.oURL;\r\n            if (isDefined(URL)) {\r\n                var objectURL = URL.createObjectURL(data);\r\n                var downloadLink = this._linkDownloader(fileName, objectURL);\r\n                setTimeout(() => {\r\n                    URL.revokeObjectURL(objectURL);\r\n                    this._objectUrlRevoked = true\r\n                }, this._revokeObjectURLTimeout);\r\n                this._click(downloadLink)\r\n            } else {\r\n                logger.warn(\"window.URL || window.webkitURL || window.mozURL || window.msURL || window.oURL is not defined\")\r\n            }\r\n        }\r\n    },\r\n    saveAs: function(fileName, format, data) {\r\n        var fileExtension = FILE_EXTESIONS[format];\r\n        if (fileExtension) {\r\n            fileName += \".\" + fileExtension\r\n        }\r\n        if (isFunction(window.Blob)) {\r\n            this._saveBlobAs(fileName, format, data)\r\n        } else {\r\n            if (!isDefined(navigator.userAgent.match(/iPad/i))) {\r\n                errors.log(\"E1034\")\r\n            }\r\n            var downloadLink = this._linkDownloader(fileName, this._getDataUri(format, data));\r\n            this._click(downloadLink)\r\n        }\r\n    }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}