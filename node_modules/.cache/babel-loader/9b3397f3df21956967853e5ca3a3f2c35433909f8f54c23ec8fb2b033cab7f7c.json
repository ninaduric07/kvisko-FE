{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/responsive_box.js)\r\n * Version: 22.2.6\r\n * Build date: Tue Apr 18 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { getWidth } from \"../core/utils/size\";\nimport $ from \"../core/renderer\";\nimport { grep, noop } from \"../core/utils/common\";\nimport { isDefined, isPlainObject, isEmptyObject } from \"../core/utils/type\";\nimport errors from \"./widget/ui.errors\";\nimport { getWindow, defaultScreenFactorFunc, hasWindow } from \"../core/utils/window\";\nimport { each, map } from \"../core/utils/iterator\";\nimport { extend } from \"../core/utils/extend\";\nimport registerComponent from \"../core/component_registrator\";\nimport Box from \"./box\";\nimport CollectionWidget from \"./collection/ui.collection_widget.edit\";\nvar RESPONSIVE_BOX_CLASS = \"dx-responsivebox\";\nvar SCREEN_SIZE_CLASS_PREFIX = RESPONSIVE_BOX_CLASS + \"-screen-\";\nvar BOX_ITEM_CLASS = \"dx-box-item\";\nvar BOX_ITEM_DATA_KEY = \"dxBoxItemData\";\nvar HD_SCREEN_WIDTH = 1920;\nvar ResponsiveBox = CollectionWidget.inherit({\n  _getDefaultOptions: function () {\n    return extend(this.callBase(), {\n      rows: [],\n      cols: [],\n      screenByWidth: null,\n      singleColumnScreen: \"\",\n      height: \"100%\",\n      width: \"100%\",\n      activeStateEnabled: false,\n      focusStateEnabled: false,\n      onItemStateChanged: void 0,\n      onLayoutChanged: null,\n      currentScreenFactor: void 0\n    });\n  },\n  _init: function () {\n    if (!this.option(\"screenByWidth\")) {\n      this._options.silent(\"screenByWidth\", defaultScreenFactorFunc);\n    }\n    this.callBase();\n    this._initLayoutChangedAction();\n  },\n  _initLayoutChangedAction: function () {\n    this._layoutChangedAction = this._createActionByOption(\"onLayoutChanged\", {\n      excludeValidators: [\"disabled\", \"readonly\"]\n    });\n  },\n  _itemClass: function () {\n    return BOX_ITEM_CLASS;\n  },\n  _itemDataKey: function () {\n    return BOX_ITEM_DATA_KEY;\n  },\n  _initMarkup: function () {\n    this.callBase();\n    this.$element().addClass(RESPONSIVE_BOX_CLASS);\n  },\n  _renderItems: function () {\n    this._setScreenSize();\n    this._screenItems = this._itemsByScreen();\n    this._prepareGrid();\n    this._spreadItems();\n    this._layoutItems();\n    this._linkNodeToItem();\n  },\n  _itemOptionChanged: function (item) {\n    var $item = this._findItemElementByItem(item);\n    if (!$item.length) {\n      return;\n    }\n    this._refreshItem($item, item);\n    this._clearItemNodeTemplates();\n    this._update(true);\n  },\n  _setScreenSize: function () {\n    var currentScreen = this._getCurrentScreen();\n    this._removeScreenSizeClass();\n    this.$element().addClass(SCREEN_SIZE_CLASS_PREFIX + currentScreen);\n    this.option(\"currentScreenFactor\", currentScreen);\n  },\n  _removeScreenSizeClass: function () {\n    var currentScreenFactor = this.option(\"currentScreenFactor\");\n    currentScreenFactor && this.$element().removeClass(SCREEN_SIZE_CLASS_PREFIX + currentScreenFactor);\n  },\n  _prepareGrid: function () {\n    var grid = this._grid = [];\n    this._prepareRowsAndCols();\n    each(this._rows, function () {\n      var row = [];\n      grid.push(row);\n      each(this._cols, function () {\n        row.push(this._createEmptyCell());\n      }.bind(this));\n    }.bind(this));\n  },\n  getSingleColumnRows: function () {\n    var rows = this.option(\"rows\");\n    var screenItemsLength = this._screenItems.length;\n    if (rows.length) {\n      var filteredRows = this._filterByScreen(rows);\n      var result = [];\n      for (var i = 0; i < screenItemsLength; i++) {\n        var sizeConfig = this._defaultSizeConfig();\n        if (i < filteredRows.length && isDefined(filteredRows[i].shrink)) {\n          sizeConfig.shrink = filteredRows[i].shrink;\n        }\n        result.push(sizeConfig);\n      }\n      return result;\n    } else {\n      return this._defaultSizeConfig(screenItemsLength);\n    }\n  },\n  _prepareRowsAndCols: function () {\n    if (this._isSingleColumnScreen()) {\n      this._prepareSingleColumnScreenItems();\n      this._rows = this.getSingleColumnRows();\n      this._cols = this._defaultSizeConfig(1);\n    } else {\n      this._rows = this._sizesByScreen(this.option(\"rows\"));\n      this._cols = this._sizesByScreen(this.option(\"cols\"));\n    }\n  },\n  _isSingleColumnScreen: function () {\n    return this._screenRegExp().test(this.option(\"singleColumnScreen\")) || !this.option(\"rows\").length || !this.option(\"cols\").length;\n  },\n  _prepareSingleColumnScreenItems: function () {\n    this._screenItems.sort(function (item1, item2) {\n      return item1.location.row - item2.location.row || item1.location.col - item2.location.col;\n    });\n    each(this._screenItems, function (index, item) {\n      extend(item.location, {\n        row: index,\n        col: 0,\n        rowspan: 1,\n        colspan: 1\n      });\n    });\n  },\n  _sizesByScreen: function (sizeConfigs) {\n    return map(this._filterByScreen(sizeConfigs), function (sizeConfig) {\n      return extend(this._defaultSizeConfig(), sizeConfig);\n    }.bind(this));\n  },\n  _createDefaultSizeConfig: function () {\n    return {\n      ratio: 1,\n      baseSize: 0,\n      minSize: 0,\n      maxSize: 0\n    };\n  },\n  _defaultSizeConfig: function (size) {\n    var defaultSizeConfig = this._createDefaultSizeConfig();\n    if (!arguments.length) {\n      return defaultSizeConfig;\n    }\n    var result = [];\n    for (var i = 0; i < size; i++) {\n      result.push(defaultSizeConfig);\n    }\n    return result;\n  },\n  _filterByScreen: function (items) {\n    var screenRegExp = this._screenRegExp();\n    return grep(items, function (item) {\n      return !item.screen || screenRegExp.test(item.screen);\n    });\n  },\n  _screenRegExp: function () {\n    var screen = this._getCurrentScreen();\n    return new RegExp(\"(^|\\\\s)\" + screen + \"($|\\\\s)\", \"i\");\n  },\n  _getCurrentScreen: function () {\n    var width = this._screenWidth();\n    return this.option(\"screenByWidth\")(width);\n  },\n  _screenWidth: function () {\n    return hasWindow() ? getWidth(getWindow()) : HD_SCREEN_WIDTH;\n  },\n  _createEmptyCell: function () {\n    return {\n      item: {},\n      location: {\n        colspan: 1,\n        rowspan: 1\n      }\n    };\n  },\n  _spreadItems: function () {\n    each(this._screenItems, function (_, itemInfo) {\n      var location = itemInfo.location || {};\n      var itemCol = location.col;\n      var itemRow = location.row;\n      var row = this._grid[itemRow];\n      var itemCell = row && row[itemCol];\n      this._occupyCells(itemCell, itemInfo);\n    }.bind(this));\n  },\n  _itemsByScreen: function () {\n    return this.option(\"items\").reduce((result, item) => {\n      var locations = item.location || {};\n      locations = isPlainObject(locations) ? [locations] : locations;\n      this._filterByScreen(locations).forEach(location => {\n        result.push({\n          item: item,\n          location: extend({\n            rowspan: 1,\n            colspan: 1\n          }, location)\n        });\n      });\n      return result;\n    }, []);\n  },\n  _occupyCells: function (itemCell, itemInfo) {\n    if (!itemCell || this._isItemCellOccupied(itemCell, itemInfo)) {\n      return;\n    }\n    extend(itemCell, itemInfo);\n    this._markSpanningCell(itemCell);\n  },\n  _isItemCellOccupied: function (itemCell, itemInfo) {\n    if (!isEmptyObject(itemCell.item)) {\n      return true;\n    }\n    var result = false;\n    this._loopOverSpanning(itemInfo.location, function (cell) {\n      result = result || !isEmptyObject(cell.item);\n    });\n    return result;\n  },\n  _loopOverSpanning: function (location, callback) {\n    var rowEnd = location.row + location.rowspan - 1;\n    var colEnd = location.col + location.colspan - 1;\n    var boundRowEnd = Math.min(rowEnd, this._rows.length - 1);\n    var boundColEnd = Math.min(colEnd, this._cols.length - 1);\n    location.rowspan -= rowEnd - boundRowEnd;\n    location.colspan -= colEnd - boundColEnd;\n    for (var rowIndex = location.row; rowIndex <= boundRowEnd; rowIndex++) {\n      for (var colIndex = location.col; colIndex <= boundColEnd; colIndex++) {\n        if (rowIndex !== location.row || colIndex !== location.col) {\n          callback(this._grid[rowIndex][colIndex]);\n        }\n      }\n    }\n  },\n  _markSpanningCell: function (itemCell) {\n    this._loopOverSpanning(itemCell.location, function (cell) {\n      extend(cell, {\n        item: itemCell.item,\n        spanningCell: itemCell\n      });\n    });\n  },\n  _linkNodeToItem: function () {\n    each(this._itemElements(), function (_, itemNode) {\n      var $item = $(itemNode);\n      var item = $item.data(BOX_ITEM_DATA_KEY);\n      if (!item.box) {\n        item.node = $item.children();\n      }\n    });\n  },\n  _layoutItems: function () {\n    var rowsCount = this._grid.length;\n    var colsCount = rowsCount && this._grid[0].length;\n    if (!rowsCount && !colsCount) {\n      return;\n    }\n    var result = this._layoutBlock({\n      direction: \"col\",\n      row: {\n        start: 0,\n        end: rowsCount - 1\n      },\n      col: {\n        start: 0,\n        end: colsCount - 1\n      }\n    });\n    var rootBox = this._prepareBoxConfig(result.box || {\n      direction: \"row\",\n      items: [extend(result, {\n        ratio: 1\n      })]\n    });\n    extend(rootBox, this._rootBoxConfig(rootBox.items));\n    this._$root = $(\"<div>\").appendTo(this._itemContainer());\n    this._createComponent(this._$root, Box, rootBox);\n  },\n  _rootBoxConfig: function (items) {\n    var rootItems = each(items, function (index, item) {\n      this._needApplyAutoBaseSize(item) && extend(item, {\n        baseSize: \"auto\"\n      });\n    }.bind(this));\n    return {\n      width: \"100%\",\n      height: \"100%\",\n      items: rootItems,\n      itemTemplate: this._getTemplateByOption(\"itemTemplate\"),\n      itemHoldTimeout: this.option(\"itemHoldTimeout\"),\n      onItemHold: this._createActionByOption(\"onItemHold\"),\n      onItemClick: this._createActionByOption(\"onItemClick\"),\n      onItemContextMenu: this._createActionByOption(\"onItemContextMenu\"),\n      onItemRendered: this._createActionByOption(\"onItemRendered\")\n    };\n  },\n  _needApplyAutoBaseSize: function (item) {\n    return !item.baseSize && (!item.minSize || \"auto\" === item.minSize) && (!item.maxSize || \"auto\" === item.maxSize);\n  },\n  _prepareBoxConfig: function (config) {\n    return extend(config || {}, {\n      crossAlign: \"stretch\",\n      onItemStateChanged: this.option(\"onItemStateChanged\")\n    });\n  },\n  _layoutBlock: function (options) {\n    if (this._isSingleItem(options)) {\n      return this._itemByCell(options.row.start, options.col.start);\n    }\n    return this._layoutDirection(options);\n  },\n  _isSingleItem: function (options) {\n    var firstCellLocation = this._grid[options.row.start][options.col.start].location;\n    var isItemRowSpanned = options.row.end - options.row.start === firstCellLocation.rowspan - 1;\n    var isItemColSpanned = options.col.end - options.col.start === firstCellLocation.colspan - 1;\n    return isItemRowSpanned && isItemColSpanned;\n  },\n  _itemByCell: function (rowIndex, colIndex) {\n    var itemCell = this._grid[rowIndex][colIndex];\n    return itemCell.spanningCell ? null : itemCell.item;\n  },\n  _layoutDirection: function (options) {\n    var items = [];\n    var direction = options.direction;\n    var crossDirection = this._crossDirection(direction);\n    var block;\n    while (block = this._nextBlock(options)) {\n      if (this._isBlockIndivisible(options.prevBlockOptions, block)) {\n        throw errors.Error(\"E1025\");\n      }\n      var item = this._layoutBlock({\n        direction: crossDirection,\n        row: block.row,\n        col: block.col,\n        prevBlockOptions: options\n      });\n      if (item) {\n        extend(item, this._blockSize(block, crossDirection));\n        items.push(item);\n      }\n      options[crossDirection].start = block[crossDirection].end + 1;\n    }\n    return {\n      box: this._prepareBoxConfig({\n        direction: direction,\n        items: items\n      })\n    };\n  },\n  _isBlockIndivisible: function (options, block) {\n    return options && options.col.start === block.col.start && options.col.end === block.col.end && options.row.start === block.row.start && options.row.end === block.row.end;\n  },\n  _crossDirection: function (direction) {\n    return \"col\" === direction ? \"row\" : \"col\";\n  },\n  _nextBlock: function (options) {\n    var direction = options.direction;\n    var crossDirection = this._crossDirection(direction);\n    var startIndex = options[direction].start;\n    var endIndex = options[direction].end;\n    var crossStartIndex = options[crossDirection].start;\n    if (crossStartIndex > options[crossDirection].end) {\n      return null;\n    }\n    var crossSpan = 1;\n    for (var crossIndex = crossStartIndex; crossIndex < crossStartIndex + crossSpan; crossIndex++) {\n      var lineCrossSpan = 1;\n      for (var index = startIndex; index <= endIndex; index++) {\n        var cell = this._cellByDirection(direction, index, crossIndex);\n        lineCrossSpan = Math.max(lineCrossSpan, cell.location[crossDirection + \"span\"]);\n      }\n      var lineCrossEndIndex = crossIndex + lineCrossSpan;\n      var crossEndIndex = crossStartIndex + crossSpan;\n      if (lineCrossEndIndex > crossEndIndex) {\n        crossSpan += lineCrossEndIndex - crossEndIndex;\n      }\n    }\n    var result = {};\n    result[direction] = {\n      start: startIndex,\n      end: endIndex\n    };\n    result[crossDirection] = {\n      start: crossStartIndex,\n      end: crossStartIndex + crossSpan - 1\n    };\n    return result;\n  },\n  _cellByDirection: function (direction, index, crossIndex) {\n    return \"col\" === direction ? this._grid[crossIndex][index] : this._grid[index][crossIndex];\n  },\n  _blockSize: function (block, direction) {\n    var defaultMinSize = \"row\" === direction ? \"auto\" : 0;\n    var sizeConfigs = \"row\" === direction ? this._rows : this._cols;\n    var result = extend(this._createDefaultSizeConfig(), {\n      ratio: 0\n    });\n    for (var index = block[direction].start; index <= block[direction].end; index++) {\n      var sizeConfig = sizeConfigs[index];\n      result.ratio += sizeConfig.ratio;\n      result.baseSize += sizeConfig.baseSize;\n      result.minSize += sizeConfig.minSize;\n      result.maxSize += sizeConfig.maxSize;\n      if (isDefined(sizeConfig.shrink)) {\n        result.shrink = sizeConfig.shrink;\n      }\n    }\n    result.minSize = result.minSize ? result.minSize : defaultMinSize;\n    result.maxSize = result.maxSize ? result.maxSize : \"auto\";\n    this._isSingleColumnScreen() && (result.baseSize = \"auto\");\n    return result;\n  },\n  _update: function (forceRemoveRoot) {\n    var $existingRoot = this._$root;\n    this._renderItems();\n    if ($existingRoot) {\n      if (forceRemoveRoot) {\n        $existingRoot.remove();\n      } else {\n        $existingRoot.detach();\n        this._saveAssistantRoot($existingRoot);\n      }\n    }\n    this._layoutChangedAction();\n  },\n  _saveAssistantRoot: function ($root) {\n    this._assistantRoots = this._assistantRoots || [];\n    this._assistantRoots.push($root);\n  },\n  _dispose: function () {\n    this._clearItemNodeTemplates();\n    this._cleanUnusedRoots();\n    this.callBase.apply(this, arguments);\n  },\n  _cleanUnusedRoots: function () {\n    if (!this._assistantRoots) {\n      return;\n    }\n    each(this._assistantRoots, function (_, item) {\n      $(item).remove();\n    });\n  },\n  _clearItemNodeTemplates: function () {\n    each(this.option(\"items\"), function () {\n      delete this.node;\n    });\n  },\n  _attachClickEvent: noop,\n  _optionChanged: function (args) {\n    switch (args.name) {\n      case \"rows\":\n      case \"cols\":\n      case \"screenByWidth\":\n      case \"singleColumnScreen\":\n        this._clearItemNodeTemplates();\n        this._invalidate();\n        break;\n      case \"width\":\n      case \"height\":\n        this.callBase(args);\n        this._update();\n        break;\n      case \"onLayoutChanged\":\n        this._initLayoutChangedAction();\n        break;\n      case \"itemTemplate\":\n        this._clearItemNodeTemplates();\n        this.callBase(args);\n        break;\n      case \"currentScreenFactor\":\n        break;\n      default:\n        this.callBase(args);\n    }\n  },\n  _dimensionChanged: function () {\n    if (this._getCurrentScreen() !== this.option(\"currentScreenFactor\")) {\n      this._update();\n    }\n  },\n  repaint: function () {\n    this._update();\n  }\n});\nregisterComponent(\"dxResponsiveBox\", ResponsiveBox);\nexport default ResponsiveBox;","map":{"version":3,"names":["getWidth","$","grep","noop","isDefined","isPlainObject","isEmptyObject","errors","getWindow","defaultScreenFactorFunc","hasWindow","each","map","extend","registerComponent","Box","CollectionWidget","RESPONSIVE_BOX_CLASS","SCREEN_SIZE_CLASS_PREFIX","BOX_ITEM_CLASS","BOX_ITEM_DATA_KEY","HD_SCREEN_WIDTH","ResponsiveBox","inherit","_getDefaultOptions","callBase","rows","cols","screenByWidth","singleColumnScreen","height","width","activeStateEnabled","focusStateEnabled","onItemStateChanged","onLayoutChanged","currentScreenFactor","_init","option","_options","silent","_initLayoutChangedAction","_layoutChangedAction","_createActionByOption","excludeValidators","_itemClass","_itemDataKey","_initMarkup","$element","addClass","_renderItems","_setScreenSize","_screenItems","_itemsByScreen","_prepareGrid","_spreadItems","_layoutItems","_linkNodeToItem","_itemOptionChanged","item","$item","_findItemElementByItem","length","_refreshItem","_clearItemNodeTemplates","_update","currentScreen","_getCurrentScreen","_removeScreenSizeClass","removeClass","grid","_grid","_prepareRowsAndCols","_rows","row","push","_cols","_createEmptyCell","bind","getSingleColumnRows","screenItemsLength","filteredRows","_filterByScreen","result","i","sizeConfig","_defaultSizeConfig","shrink","_isSingleColumnScreen","_prepareSingleColumnScreenItems","_sizesByScreen","_screenRegExp","test","sort","item1","item2","location","col","index","rowspan","colspan","sizeConfigs","_createDefaultSizeConfig","ratio","baseSize","minSize","maxSize","size","defaultSizeConfig","arguments","items","screenRegExp","screen","RegExp","_screenWidth","_","itemInfo","itemCol","itemRow","itemCell","_occupyCells","reduce","locations","forEach","_isItemCellOccupied","_markSpanningCell","_loopOverSpanning","cell","callback","rowEnd","colEnd","boundRowEnd","Math","min","boundColEnd","rowIndex","colIndex","spanningCell","_itemElements","itemNode","data","box","node","children","rowsCount","colsCount","_layoutBlock","direction","start","end","rootBox","_prepareBoxConfig","_rootBoxConfig","_$root","appendTo","_itemContainer","_createComponent","rootItems","_needApplyAutoBaseSize","itemTemplate","_getTemplateByOption","itemHoldTimeout","onItemHold","onItemClick","onItemContextMenu","onItemRendered","config","crossAlign","options","_isSingleItem","_itemByCell","_layoutDirection","firstCellLocation","isItemRowSpanned","isItemColSpanned","crossDirection","_crossDirection","block","_nextBlock","_isBlockIndivisible","prevBlockOptions","Error","_blockSize","startIndex","endIndex","crossStartIndex","crossSpan","crossIndex","lineCrossSpan","_cellByDirection","max","lineCrossEndIndex","crossEndIndex","defaultMinSize","forceRemoveRoot","$existingRoot","remove","detach","_saveAssistantRoot","$root","_assistantRoots","_dispose","_cleanUnusedRoots","apply","_attachClickEvent","_optionChanged","args","name","_invalidate","_dimensionChanged","repaint"],"sources":["C:/Users/ninad/OneDrive/Radna površina/zavrsni/client/node_modules/devextreme/esm/ui/responsive_box.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/responsive_box.js)\r\n * Version: 22.2.6\r\n * Build date: Tue Apr 18 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth\r\n} from \"../core/utils/size\";\r\nimport $ from \"../core/renderer\";\r\nimport {\r\n    grep,\r\n    noop\r\n} from \"../core/utils/common\";\r\nimport {\r\n    isDefined,\r\n    isPlainObject,\r\n    isEmptyObject\r\n} from \"../core/utils/type\";\r\nimport errors from \"./widget/ui.errors\";\r\nimport {\r\n    getWindow,\r\n    defaultScreenFactorFunc,\r\n    hasWindow\r\n} from \"../core/utils/window\";\r\nimport {\r\n    each,\r\n    map\r\n} from \"../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport Box from \"./box\";\r\nimport CollectionWidget from \"./collection/ui.collection_widget.edit\";\r\nvar RESPONSIVE_BOX_CLASS = \"dx-responsivebox\";\r\nvar SCREEN_SIZE_CLASS_PREFIX = RESPONSIVE_BOX_CLASS + \"-screen-\";\r\nvar BOX_ITEM_CLASS = \"dx-box-item\";\r\nvar BOX_ITEM_DATA_KEY = \"dxBoxItemData\";\r\nvar HD_SCREEN_WIDTH = 1920;\r\nvar ResponsiveBox = CollectionWidget.inherit({\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            rows: [],\r\n            cols: [],\r\n            screenByWidth: null,\r\n            singleColumnScreen: \"\",\r\n            height: \"100%\",\r\n            width: \"100%\",\r\n            activeStateEnabled: false,\r\n            focusStateEnabled: false,\r\n            onItemStateChanged: void 0,\r\n            onLayoutChanged: null,\r\n            currentScreenFactor: void 0\r\n        })\r\n    },\r\n    _init: function() {\r\n        if (!this.option(\"screenByWidth\")) {\r\n            this._options.silent(\"screenByWidth\", defaultScreenFactorFunc)\r\n        }\r\n        this.callBase();\r\n        this._initLayoutChangedAction()\r\n    },\r\n    _initLayoutChangedAction: function() {\r\n        this._layoutChangedAction = this._createActionByOption(\"onLayoutChanged\", {\r\n            excludeValidators: [\"disabled\", \"readonly\"]\r\n        })\r\n    },\r\n    _itemClass: function() {\r\n        return BOX_ITEM_CLASS\r\n    },\r\n    _itemDataKey: function() {\r\n        return BOX_ITEM_DATA_KEY\r\n    },\r\n    _initMarkup: function() {\r\n        this.callBase();\r\n        this.$element().addClass(RESPONSIVE_BOX_CLASS)\r\n    },\r\n    _renderItems: function() {\r\n        this._setScreenSize();\r\n        this._screenItems = this._itemsByScreen();\r\n        this._prepareGrid();\r\n        this._spreadItems();\r\n        this._layoutItems();\r\n        this._linkNodeToItem()\r\n    },\r\n    _itemOptionChanged: function(item) {\r\n        var $item = this._findItemElementByItem(item);\r\n        if (!$item.length) {\r\n            return\r\n        }\r\n        this._refreshItem($item, item);\r\n        this._clearItemNodeTemplates();\r\n        this._update(true)\r\n    },\r\n    _setScreenSize: function() {\r\n        var currentScreen = this._getCurrentScreen();\r\n        this._removeScreenSizeClass();\r\n        this.$element().addClass(SCREEN_SIZE_CLASS_PREFIX + currentScreen);\r\n        this.option(\"currentScreenFactor\", currentScreen)\r\n    },\r\n    _removeScreenSizeClass: function() {\r\n        var currentScreenFactor = this.option(\"currentScreenFactor\");\r\n        currentScreenFactor && this.$element().removeClass(SCREEN_SIZE_CLASS_PREFIX + currentScreenFactor)\r\n    },\r\n    _prepareGrid: function() {\r\n        var grid = this._grid = [];\r\n        this._prepareRowsAndCols();\r\n        each(this._rows, function() {\r\n            var row = [];\r\n            grid.push(row);\r\n            each(this._cols, function() {\r\n                row.push(this._createEmptyCell())\r\n            }.bind(this))\r\n        }.bind(this))\r\n    },\r\n    getSingleColumnRows: function() {\r\n        var rows = this.option(\"rows\");\r\n        var screenItemsLength = this._screenItems.length;\r\n        if (rows.length) {\r\n            var filteredRows = this._filterByScreen(rows);\r\n            var result = [];\r\n            for (var i = 0; i < screenItemsLength; i++) {\r\n                var sizeConfig = this._defaultSizeConfig();\r\n                if (i < filteredRows.length && isDefined(filteredRows[i].shrink)) {\r\n                    sizeConfig.shrink = filteredRows[i].shrink\r\n                }\r\n                result.push(sizeConfig)\r\n            }\r\n            return result\r\n        } else {\r\n            return this._defaultSizeConfig(screenItemsLength)\r\n        }\r\n    },\r\n    _prepareRowsAndCols: function() {\r\n        if (this._isSingleColumnScreen()) {\r\n            this._prepareSingleColumnScreenItems();\r\n            this._rows = this.getSingleColumnRows();\r\n            this._cols = this._defaultSizeConfig(1)\r\n        } else {\r\n            this._rows = this._sizesByScreen(this.option(\"rows\"));\r\n            this._cols = this._sizesByScreen(this.option(\"cols\"))\r\n        }\r\n    },\r\n    _isSingleColumnScreen: function() {\r\n        return this._screenRegExp().test(this.option(\"singleColumnScreen\")) || !this.option(\"rows\").length || !this.option(\"cols\").length\r\n    },\r\n    _prepareSingleColumnScreenItems: function() {\r\n        this._screenItems.sort((function(item1, item2) {\r\n            return item1.location.row - item2.location.row || item1.location.col - item2.location.col\r\n        }));\r\n        each(this._screenItems, (function(index, item) {\r\n            extend(item.location, {\r\n                row: index,\r\n                col: 0,\r\n                rowspan: 1,\r\n                colspan: 1\r\n            })\r\n        }))\r\n    },\r\n    _sizesByScreen: function(sizeConfigs) {\r\n        return map(this._filterByScreen(sizeConfigs), function(sizeConfig) {\r\n            return extend(this._defaultSizeConfig(), sizeConfig)\r\n        }.bind(this))\r\n    },\r\n    _createDefaultSizeConfig: function() {\r\n        return {\r\n            ratio: 1,\r\n            baseSize: 0,\r\n            minSize: 0,\r\n            maxSize: 0\r\n        }\r\n    },\r\n    _defaultSizeConfig: function(size) {\r\n        var defaultSizeConfig = this._createDefaultSizeConfig();\r\n        if (!arguments.length) {\r\n            return defaultSizeConfig\r\n        }\r\n        var result = [];\r\n        for (var i = 0; i < size; i++) {\r\n            result.push(defaultSizeConfig)\r\n        }\r\n        return result\r\n    },\r\n    _filterByScreen: function(items) {\r\n        var screenRegExp = this._screenRegExp();\r\n        return grep(items, (function(item) {\r\n            return !item.screen || screenRegExp.test(item.screen)\r\n        }))\r\n    },\r\n    _screenRegExp: function() {\r\n        var screen = this._getCurrentScreen();\r\n        return new RegExp(\"(^|\\\\s)\" + screen + \"($|\\\\s)\", \"i\")\r\n    },\r\n    _getCurrentScreen: function() {\r\n        var width = this._screenWidth();\r\n        return this.option(\"screenByWidth\")(width)\r\n    },\r\n    _screenWidth: function() {\r\n        return hasWindow() ? getWidth(getWindow()) : HD_SCREEN_WIDTH\r\n    },\r\n    _createEmptyCell: function() {\r\n        return {\r\n            item: {},\r\n            location: {\r\n                colspan: 1,\r\n                rowspan: 1\r\n            }\r\n        }\r\n    },\r\n    _spreadItems: function() {\r\n        each(this._screenItems, function(_, itemInfo) {\r\n            var location = itemInfo.location || {};\r\n            var itemCol = location.col;\r\n            var itemRow = location.row;\r\n            var row = this._grid[itemRow];\r\n            var itemCell = row && row[itemCol];\r\n            this._occupyCells(itemCell, itemInfo)\r\n        }.bind(this))\r\n    },\r\n    _itemsByScreen: function() {\r\n        return this.option(\"items\").reduce((result, item) => {\r\n            var locations = item.location || {};\r\n            locations = isPlainObject(locations) ? [locations] : locations;\r\n            this._filterByScreen(locations).forEach(location => {\r\n                result.push({\r\n                    item: item,\r\n                    location: extend({\r\n                        rowspan: 1,\r\n                        colspan: 1\r\n                    }, location)\r\n                })\r\n            });\r\n            return result\r\n        }, [])\r\n    },\r\n    _occupyCells: function(itemCell, itemInfo) {\r\n        if (!itemCell || this._isItemCellOccupied(itemCell, itemInfo)) {\r\n            return\r\n        }\r\n        extend(itemCell, itemInfo);\r\n        this._markSpanningCell(itemCell)\r\n    },\r\n    _isItemCellOccupied: function(itemCell, itemInfo) {\r\n        if (!isEmptyObject(itemCell.item)) {\r\n            return true\r\n        }\r\n        var result = false;\r\n        this._loopOverSpanning(itemInfo.location, (function(cell) {\r\n            result = result || !isEmptyObject(cell.item)\r\n        }));\r\n        return result\r\n    },\r\n    _loopOverSpanning: function(location, callback) {\r\n        var rowEnd = location.row + location.rowspan - 1;\r\n        var colEnd = location.col + location.colspan - 1;\r\n        var boundRowEnd = Math.min(rowEnd, this._rows.length - 1);\r\n        var boundColEnd = Math.min(colEnd, this._cols.length - 1);\r\n        location.rowspan -= rowEnd - boundRowEnd;\r\n        location.colspan -= colEnd - boundColEnd;\r\n        for (var rowIndex = location.row; rowIndex <= boundRowEnd; rowIndex++) {\r\n            for (var colIndex = location.col; colIndex <= boundColEnd; colIndex++) {\r\n                if (rowIndex !== location.row || colIndex !== location.col) {\r\n                    callback(this._grid[rowIndex][colIndex])\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _markSpanningCell: function(itemCell) {\r\n        this._loopOverSpanning(itemCell.location, (function(cell) {\r\n            extend(cell, {\r\n                item: itemCell.item,\r\n                spanningCell: itemCell\r\n            })\r\n        }))\r\n    },\r\n    _linkNodeToItem: function() {\r\n        each(this._itemElements(), (function(_, itemNode) {\r\n            var $item = $(itemNode);\r\n            var item = $item.data(BOX_ITEM_DATA_KEY);\r\n            if (!item.box) {\r\n                item.node = $item.children()\r\n            }\r\n        }))\r\n    },\r\n    _layoutItems: function() {\r\n        var rowsCount = this._grid.length;\r\n        var colsCount = rowsCount && this._grid[0].length;\r\n        if (!rowsCount && !colsCount) {\r\n            return\r\n        }\r\n        var result = this._layoutBlock({\r\n            direction: \"col\",\r\n            row: {\r\n                start: 0,\r\n                end: rowsCount - 1\r\n            },\r\n            col: {\r\n                start: 0,\r\n                end: colsCount - 1\r\n            }\r\n        });\r\n        var rootBox = this._prepareBoxConfig(result.box || {\r\n            direction: \"row\",\r\n            items: [extend(result, {\r\n                ratio: 1\r\n            })]\r\n        });\r\n        extend(rootBox, this._rootBoxConfig(rootBox.items));\r\n        this._$root = $(\"<div>\").appendTo(this._itemContainer());\r\n        this._createComponent(this._$root, Box, rootBox)\r\n    },\r\n    _rootBoxConfig: function(items) {\r\n        var rootItems = each(items, function(index, item) {\r\n            this._needApplyAutoBaseSize(item) && extend(item, {\r\n                baseSize: \"auto\"\r\n            })\r\n        }.bind(this));\r\n        return {\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n            items: rootItems,\r\n            itemTemplate: this._getTemplateByOption(\"itemTemplate\"),\r\n            itemHoldTimeout: this.option(\"itemHoldTimeout\"),\r\n            onItemHold: this._createActionByOption(\"onItemHold\"),\r\n            onItemClick: this._createActionByOption(\"onItemClick\"),\r\n            onItemContextMenu: this._createActionByOption(\"onItemContextMenu\"),\r\n            onItemRendered: this._createActionByOption(\"onItemRendered\")\r\n        }\r\n    },\r\n    _needApplyAutoBaseSize: function(item) {\r\n        return !item.baseSize && (!item.minSize || \"auto\" === item.minSize) && (!item.maxSize || \"auto\" === item.maxSize)\r\n    },\r\n    _prepareBoxConfig: function(config) {\r\n        return extend(config || {}, {\r\n            crossAlign: \"stretch\",\r\n            onItemStateChanged: this.option(\"onItemStateChanged\")\r\n        })\r\n    },\r\n    _layoutBlock: function(options) {\r\n        if (this._isSingleItem(options)) {\r\n            return this._itemByCell(options.row.start, options.col.start)\r\n        }\r\n        return this._layoutDirection(options)\r\n    },\r\n    _isSingleItem: function(options) {\r\n        var firstCellLocation = this._grid[options.row.start][options.col.start].location;\r\n        var isItemRowSpanned = options.row.end - options.row.start === firstCellLocation.rowspan - 1;\r\n        var isItemColSpanned = options.col.end - options.col.start === firstCellLocation.colspan - 1;\r\n        return isItemRowSpanned && isItemColSpanned\r\n    },\r\n    _itemByCell: function(rowIndex, colIndex) {\r\n        var itemCell = this._grid[rowIndex][colIndex];\r\n        return itemCell.spanningCell ? null : itemCell.item\r\n    },\r\n    _layoutDirection: function(options) {\r\n        var items = [];\r\n        var direction = options.direction;\r\n        var crossDirection = this._crossDirection(direction);\r\n        var block;\r\n        while (block = this._nextBlock(options)) {\r\n            if (this._isBlockIndivisible(options.prevBlockOptions, block)) {\r\n                throw errors.Error(\"E1025\")\r\n            }\r\n            var item = this._layoutBlock({\r\n                direction: crossDirection,\r\n                row: block.row,\r\n                col: block.col,\r\n                prevBlockOptions: options\r\n            });\r\n            if (item) {\r\n                extend(item, this._blockSize(block, crossDirection));\r\n                items.push(item)\r\n            }\r\n            options[crossDirection].start = block[crossDirection].end + 1\r\n        }\r\n        return {\r\n            box: this._prepareBoxConfig({\r\n                direction: direction,\r\n                items: items\r\n            })\r\n        }\r\n    },\r\n    _isBlockIndivisible: function(options, block) {\r\n        return options && options.col.start === block.col.start && options.col.end === block.col.end && options.row.start === block.row.start && options.row.end === block.row.end\r\n    },\r\n    _crossDirection: function(direction) {\r\n        return \"col\" === direction ? \"row\" : \"col\"\r\n    },\r\n    _nextBlock: function(options) {\r\n        var direction = options.direction;\r\n        var crossDirection = this._crossDirection(direction);\r\n        var startIndex = options[direction].start;\r\n        var endIndex = options[direction].end;\r\n        var crossStartIndex = options[crossDirection].start;\r\n        if (crossStartIndex > options[crossDirection].end) {\r\n            return null\r\n        }\r\n        var crossSpan = 1;\r\n        for (var crossIndex = crossStartIndex; crossIndex < crossStartIndex + crossSpan; crossIndex++) {\r\n            var lineCrossSpan = 1;\r\n            for (var index = startIndex; index <= endIndex; index++) {\r\n                var cell = this._cellByDirection(direction, index, crossIndex);\r\n                lineCrossSpan = Math.max(lineCrossSpan, cell.location[crossDirection + \"span\"])\r\n            }\r\n            var lineCrossEndIndex = crossIndex + lineCrossSpan;\r\n            var crossEndIndex = crossStartIndex + crossSpan;\r\n            if (lineCrossEndIndex > crossEndIndex) {\r\n                crossSpan += lineCrossEndIndex - crossEndIndex\r\n            }\r\n        }\r\n        var result = {};\r\n        result[direction] = {\r\n            start: startIndex,\r\n            end: endIndex\r\n        };\r\n        result[crossDirection] = {\r\n            start: crossStartIndex,\r\n            end: crossStartIndex + crossSpan - 1\r\n        };\r\n        return result\r\n    },\r\n    _cellByDirection: function(direction, index, crossIndex) {\r\n        return \"col\" === direction ? this._grid[crossIndex][index] : this._grid[index][crossIndex]\r\n    },\r\n    _blockSize: function(block, direction) {\r\n        var defaultMinSize = \"row\" === direction ? \"auto\" : 0;\r\n        var sizeConfigs = \"row\" === direction ? this._rows : this._cols;\r\n        var result = extend(this._createDefaultSizeConfig(), {\r\n            ratio: 0\r\n        });\r\n        for (var index = block[direction].start; index <= block[direction].end; index++) {\r\n            var sizeConfig = sizeConfigs[index];\r\n            result.ratio += sizeConfig.ratio;\r\n            result.baseSize += sizeConfig.baseSize;\r\n            result.minSize += sizeConfig.minSize;\r\n            result.maxSize += sizeConfig.maxSize;\r\n            if (isDefined(sizeConfig.shrink)) {\r\n                result.shrink = sizeConfig.shrink\r\n            }\r\n        }\r\n        result.minSize = result.minSize ? result.minSize : defaultMinSize;\r\n        result.maxSize = result.maxSize ? result.maxSize : \"auto\";\r\n        this._isSingleColumnScreen() && (result.baseSize = \"auto\");\r\n        return result\r\n    },\r\n    _update: function(forceRemoveRoot) {\r\n        var $existingRoot = this._$root;\r\n        this._renderItems();\r\n        if ($existingRoot) {\r\n            if (forceRemoveRoot) {\r\n                $existingRoot.remove()\r\n            } else {\r\n                $existingRoot.detach();\r\n                this._saveAssistantRoot($existingRoot)\r\n            }\r\n        }\r\n        this._layoutChangedAction()\r\n    },\r\n    _saveAssistantRoot: function($root) {\r\n        this._assistantRoots = this._assistantRoots || [];\r\n        this._assistantRoots.push($root)\r\n    },\r\n    _dispose: function() {\r\n        this._clearItemNodeTemplates();\r\n        this._cleanUnusedRoots();\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _cleanUnusedRoots: function() {\r\n        if (!this._assistantRoots) {\r\n            return\r\n        }\r\n        each(this._assistantRoots, (function(_, item) {\r\n            $(item).remove()\r\n        }))\r\n    },\r\n    _clearItemNodeTemplates: function() {\r\n        each(this.option(\"items\"), (function() {\r\n            delete this.node\r\n        }))\r\n    },\r\n    _attachClickEvent: noop,\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"rows\":\r\n            case \"cols\":\r\n            case \"screenByWidth\":\r\n            case \"singleColumnScreen\":\r\n                this._clearItemNodeTemplates();\r\n                this._invalidate();\r\n                break;\r\n            case \"width\":\r\n            case \"height\":\r\n                this.callBase(args);\r\n                this._update();\r\n                break;\r\n            case \"onLayoutChanged\":\r\n                this._initLayoutChangedAction();\r\n                break;\r\n            case \"itemTemplate\":\r\n                this._clearItemNodeTemplates();\r\n                this.callBase(args);\r\n                break;\r\n            case \"currentScreenFactor\":\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _dimensionChanged: function() {\r\n        if (this._getCurrentScreen() !== this.option(\"currentScreenFactor\")) {\r\n            this._update()\r\n        }\r\n    },\r\n    repaint: function() {\r\n        this._update()\r\n    }\r\n});\r\nregisterComponent(\"dxResponsiveBox\", ResponsiveBox);\r\nexport default ResponsiveBox;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}