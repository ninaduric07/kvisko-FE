{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ninad\\\\OneDrive\\\\Radna povr\\u0161ina\\\\zavrsni\\\\client\\\\src\\\\components\\\\Login\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport useSession from '../../hooks/useSession.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n  const [usernameOrEmail, setUsernameOrEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const navigateTo = useNavigate();\n  const {\n    handleSubmit\n  } = useForm();\n  const [submitted, setSubmitted] = useState(false);\n  const [error, setError] = useState(false);\n  const session = useSession();\n  const handleUsernameOrEmail = e => {\n    setUsernameOrEmail(e.target.value);\n    setSubmitted(false);\n  };\n  const handlePassword = e => {\n    setPassword(e.target.value);\n    setSubmitted(false);\n  };\n  const onSubmitting = async (c, e) => {\n    e.preventDefault();\n    //console.log(e);\n    await axios.post(`http://localhost:5000/login`, {\n      usernameOrEmail,\n      password\n    }).then(response => {\n      session.refresh();\n      console.log(response.json);\n      navigateTo('/');\n      setError(false);\n      setSubmitted(true);\n      return response.data;\n    }).catch(err => {\n      setError(true);\n      return err;\n    });\n  };\n  const successMessage = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"success\",\n      style: {\n        display: submitted ? '' : 'none'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\" User \", name, \" successfully logged in!!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this);\n  };\n  const errorMessage = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      style: {\n        display: error ? '' : 'none'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"red\"\n        },\n        children: \"Ne\\u0161to ne valja! Poku\\u0161ajte ponovno\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-3 my-5 d-flex flex-column w-50\",\n      direction: \"row\",\n      style: {\n        position: 'absolute',\n        left: '50%',\n        top: '55%',\n        transform: 'translate(-50%, -50%)',\n        border: '10px solid rgba(255, 165, 0, 0.5)',\n        padding: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: 15\n        },\n        children: \" Registracija\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(onSubmitting),\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label\",\n          children: \"Korisni\\u010Dko ime ili email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleUsernameOrEmail,\n          className: \"input\",\n          value: usernameOrEmail,\n          type: \"text\",\n          name: \"usernameOrEmail\",\n          id: \"usernameOrEmail\",\n          placeholder: \"UsernameOrEmail\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 28\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label\",\n          children: \"Lozinka\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handlePassword,\n          className: \"input\",\n          value: password,\n          type: \"password\",\n          name: \"password\",\n          id: \"password\",\n          placeholder: \"Password\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"messages\",\n      style: {\n        position: 'absolute',\n        left: '50%',\n        top: '12%',\n        transform: 'translate(-50%, -50%)'\n      },\n      children: [errorMessage(), successMessage()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, this);\n}\n_s(Login, \"iMt4t0Dp8IlQ9J/W0Bx2fjBMqw4=\", false, function () {\n  return [useNavigate, useForm, useSession];\n});\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","axios","useNavigate","useForm","useSession","jsxDEV","_jsxDEV","Login","_s","usernameOrEmail","setUsernameOrEmail","password","setPassword","navigateTo","handleSubmit","submitted","setSubmitted","error","setError","session","handleUsernameOrEmail","e","target","value","handlePassword","onSubmitting","c","preventDefault","post","then","response","refresh","console","log","json","data","catch","err","successMessage","className","style","display","children","name","fileName","_jsxFileName","lineNumber","columnNumber","errorMessage","color","direction","position","left","top","transform","border","padding","fontSize","onSubmit","onChange","type","id","placeholder","required","_c","$RefreshReg$"],"sources":["C:/Users/ninad/OneDrive/Radna površina/zavrsni/client/src/components/Login/Login.js"],"sourcesContent":["import React from 'react';\r\nimport { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useForm } from 'react-hook-form';\r\nimport useSession from '../../hooks/useSession.js';\r\n\r\nexport default function Login() {\r\n\r\n    const [usernameOrEmail, setUsernameOrEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const navigateTo = useNavigate();\r\n    const { handleSubmit } = useForm();\r\n    const [submitted, setSubmitted] = useState(false);\r\n    const [error, setError] = useState(false);\r\n    const session = useSession();\r\n\r\n    const handleUsernameOrEmail = (e) => {\r\n        setUsernameOrEmail(e.target.value);\r\n        setSubmitted(false);\r\n    };\r\n\r\n    const handlePassword = (e) => {\r\n        setPassword(e.target.value);\r\n        setSubmitted(false);\r\n    };\r\n\r\n    const onSubmitting = async (c, e) => {\r\n        e.preventDefault();\r\n        //console.log(e);\r\n        await axios.post(`http://localhost:5000/login`,\r\n            {\r\n                usernameOrEmail,\r\n                password,\r\n            } \r\n                \r\n        ).then((response) => {\r\n            session.refresh();\r\n            console.log(response.json); \r\n            navigateTo('/');\r\n            setError(false);\r\n            setSubmitted(true);\r\n            return response.data;\r\n        }).catch( (err) => {\r\n            setError(true);\r\n            return err;\r\n        });\r\n        \r\n    };\r\n\r\n    const successMessage = () => {\r\n        return (\r\n            <div\r\n                className=\"success\"\r\n                style={{\r\n                    display: submitted ? '' : 'none',\r\n                }}>\r\n                <h1> User {name} successfully logged in!!</h1>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const errorMessage = () => {\r\n        return (\r\n            <div\r\n                className=\"error\"\r\n                style={{\r\n                    display: error ? '' : 'none',\r\n                }}>\r\n                <p style={{ color: \"red\" }}>Nešto ne valja! Pokušajte ponovno</p>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div className='form'>\r\n            <div className=\"p-3 my-5 d-flex flex-column w-50\" direction=\"row\" style={{\r\n                position: 'absolute', left: '50%', top: '55%',\r\n                transform: 'translate(-50%, -50%)',\r\n                border: '10px solid rgba(255, 165, 0, 0.5)',\r\n                padding: '20px'\r\n            }}>\r\n                <p style={{ fontSize: 15 }}> Registracija</p>\r\n\r\n                {/* Calling to the methods */}\r\n\r\n                <form onSubmit={handleSubmit(onSubmitting)}>\r\n                    {/* Labels and inputs for form data */}\r\n                    <label className=\"label\">Korisničko ime ili email</label>\r\n                    <br />\r\n                    <input onChange={handleUsernameOrEmail} className=\"input\"\r\n                        value={usernameOrEmail} type=\"text\" name='usernameOrEmail' id=\"usernameOrEmail\" placeholder='UsernameOrEmail' required />\r\n                    <br /> <br />\r\n                    <label className=\"label\">Lozinka</label>\r\n                    <br />\r\n                    <input onChange={handlePassword} className=\"input\"\r\n                        value={password} type=\"password\" name='password' id=\"password\" placeholder='Password' required />\r\n                    <br /><br />\r\n                    <button className=\"btn\" type=\"submit\">\r\n                        Submit\r\n                    </button>\r\n                </form>\r\n            </div>\r\n            <div className=\"messages\" style={{\r\n                position: 'absolute', left: '50%', top: '12%',\r\n                transform: 'translate(-50%, -50%)'\r\n            }}>\r\n                {errorMessage()}\r\n                {successMessage()}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}