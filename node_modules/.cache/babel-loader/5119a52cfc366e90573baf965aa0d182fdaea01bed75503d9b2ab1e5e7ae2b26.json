{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ninad\\\\zavrsni\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from \"axios\";\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\nimport LoginPage from './pages/LoginPage.js';\nimport RegisterPage from './pages/RegisterPage.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [isBackendData, setBackendData] = useState([{}]);\n  const [isSession, setSession] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const refreshSession = async () => {\n    setIsLoading(true);\n    try {\n      const res = await axios.get(`${import.meta.env.VITE_API}/auth/session`, {\n        withCredentials: true\n      });\n      if (res.data) {\n        setSession({\n          exists: true,\n          ...res.data,\n          refresh: refreshSession\n        });\n      } else {\n        setSession({\n          exists: false,\n          refresh: refreshSession\n        });\n      }\n    } catch (err) {\n      setSession({\n        exists: false\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  useEffect(() => {\n    // First session load\n    refreshSession();\n  }, []);\n\n  //////////////////////////////////////////////////////////////////////////////////\n\n  useEffect(() => {\n    fetch(\"/\").then(response => response.json()).then(data => {\n      setBackendData(data);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(BrowserRouter, {\n      children: /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login\",\n          element: /*#__PURE__*/_jsxDEV(LoginPage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 51\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/register\",\n          element: /*#__PURE__*/_jsxDEV(RegisterPage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 54\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n}\n_s(App, \"187uvCYSEFH+3hETXAMZS8T+5Ns=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","axios","BrowserRouter","Routes","Route","LoginPage","RegisterPage","jsxDEV","_jsxDEV","App","_s","isBackendData","setBackendData","isSession","setSession","isLoading","setIsLoading","refreshSession","res","get","import","meta","env","VITE_API","withCredentials","data","exists","refresh","err","fetch","then","response","json","children","path","element","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/ninad/zavrsni/client/src/App.js"],"sourcesContent":["\nimport React, { useEffect, useState } from 'react';\nimport axios from \"axios\";\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\nimport LoginPage from './pages/LoginPage.js';\nimport RegisterPage from './pages/RegisterPage.js';\n\nfunction App() {\n\n    const [ isBackendData, setBackendData] = useState([{}]);\n    const [isSession, setSession] = useState(null);\n    const [isLoading, setIsLoading] = useState(true);\n\n    const refreshSession = async () => {\n        setIsLoading(true);\n\n        try {\n            const res = await axios.get(\n                `${import.meta.env.VITE_API}/auth/session`,\n                { withCredentials: true }\n            );\n            if (res.data) {\n                setSession({\n                    exists: true,\n                    ...res.data,\n                    refresh: refreshSession,\n                });\n            } else {\n                setSession({ exists: false, refresh: refreshSession });\n            }\n        } catch (err) {\n            setSession({ exists: false });\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    useEffect(() => {\n    // First session load\n        refreshSession();\n    }, []);\n\n    //////////////////////////////////////////////////////////////////////////////////\n\n\n    useEffect(() => {\n        fetch(\"/\").then(\n            response => response.json()\n        ).then(\n            data => {\n                setBackendData(data);\n            }\n        );\n    }, []);\n\n    return ( \n        <div>\n            <BrowserRouter>\n                <Routes>\n                    <Route path=\"/login\" element={<LoginPage />} />\n                    <Route path=\"/register\" element={<RegisterPage />} />\n                </Routes>\n            </ BrowserRouter>\n        </div>\n    );\n}\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}