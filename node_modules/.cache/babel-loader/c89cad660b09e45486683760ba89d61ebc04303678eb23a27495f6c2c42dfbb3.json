{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/text_box/text_box.js)\r\n * Version: 22.2.6\r\n * Build date: Tue Apr 18 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../../core/renderer\";\nimport { getWindow } from \"../../core/utils/window\";\nvar window = getWindow();\nimport { extend } from \"../../core/utils/extend\";\nimport registerComponent from \"../../core/component_registrator\";\nimport TextEditor from \"./ui.text_editor\";\nimport { normalizeKeyName } from \"../../events/utils/index\";\nimport { getOuterWidth, getWidth } from \"../../core/utils/size\";\nvar ignoreKeys = [\"backspace\", \"tab\", \"enter\", \"pageUp\", \"pageDown\", \"end\", \"home\", \"leftArrow\", \"rightArrow\", \"downArrow\", \"upArrow\", \"del\"];\nvar TEXTBOX_CLASS = \"dx-textbox\";\nvar SEARCHBOX_CLASS = \"dx-searchbox\";\nvar ICON_CLASS = \"dx-icon\";\nvar SEARCH_ICON_CLASS = \"dx-icon-search\";\nvar TextBox = TextEditor.inherit({\n  ctor: function (element, options) {\n    if (options) {\n      this._showClearButton = options.showClearButton;\n    }\n    this.callBase.apply(this, arguments);\n  },\n  _getDefaultOptions: function () {\n    return extend(this.callBase(), {\n      value: \"\",\n      mode: \"text\",\n      maxLength: null\n    });\n  },\n  _initMarkup: function () {\n    this.$element().addClass(TEXTBOX_CLASS);\n    this.callBase();\n    this.setAria(\"role\", \"textbox\");\n  },\n  _renderInputType: function () {\n    this.callBase();\n    this._renderSearchMode();\n  },\n  _useTemplates: function () {\n    return false;\n  },\n  _renderProps: function () {\n    this.callBase();\n    this._toggleMaxLengthProp();\n  },\n  _toggleMaxLengthProp: function () {\n    var maxLength = this._getMaxLength();\n    if (maxLength && maxLength > 0) {\n      this._input().attr(\"maxLength\", maxLength);\n    } else {\n      this._input().removeAttr(\"maxLength\");\n    }\n  },\n  _renderSearchMode: function () {\n    var $element = this._$element;\n    if (\"search\" === this.option(\"mode\")) {\n      $element.addClass(SEARCHBOX_CLASS);\n      this._renderSearchIcon();\n      if (void 0 === this._showClearButton) {\n        this._showClearButton = this.option(\"showClearButton\");\n        this.option(\"showClearButton\", true);\n      }\n    } else {\n      $element.removeClass(SEARCHBOX_CLASS);\n      this._$searchIcon && this._$searchIcon.remove();\n      this.option(\"showClearButton\", void 0 === this._showClearButton ? this.option(\"showClearButton\") : this._showClearButton);\n      delete this._showClearButton;\n    }\n  },\n  _renderSearchIcon: function () {\n    var $searchIcon = $(\"<div>\").addClass(ICON_CLASS).addClass(SEARCH_ICON_CLASS);\n    $searchIcon.prependTo(this._input().parent());\n    this._$searchIcon = $searchIcon;\n  },\n  _getLabelContainerWidth: function () {\n    if (this._$searchIcon) {\n      var $inputContainer = this._input().parent();\n      return getWidth($inputContainer) - this._getLabelBeforeWidth();\n    }\n    return this.callBase();\n  },\n  _getLabelBeforeWidth: function () {\n    var labelBeforeWidth = this.callBase();\n    if (this._$searchIcon) {\n      labelBeforeWidth += getOuterWidth(this._$searchIcon);\n    }\n    return labelBeforeWidth;\n  },\n  _optionChanged: function (args) {\n    switch (args.name) {\n      case \"maxLength\":\n        this._toggleMaxLengthProp();\n        break;\n      case \"mode\":\n        this.callBase(args);\n        this._updateLabelWidth();\n        break;\n      case \"mask\":\n        this.callBase(args);\n        this._toggleMaxLengthProp();\n        break;\n      default:\n        this.callBase(args);\n    }\n  },\n  _onKeyDownCutOffHandler: function (e) {\n    var actualMaxLength = this._getMaxLength();\n    if (actualMaxLength && !e.ctrlKey && !this._hasSelection()) {\n      var $input = $(e.target);\n      var key = normalizeKeyName(e);\n      this._cutOffExtraChar($input);\n      return $input.val().length < actualMaxLength || ignoreKeys.includes(key) || \"\" !== window.getSelection().toString();\n    } else {\n      return true;\n    }\n  },\n  _onChangeCutOffHandler: function (e) {\n    var $input = $(e.target);\n    if (this.option(\"maxLength\")) {\n      this._cutOffExtraChar($input);\n    }\n  },\n  _cutOffExtraChar: function ($input) {\n    var actualMaxLength = this._getMaxLength();\n    var textInput = $input.val();\n    if (actualMaxLength && textInput.length > actualMaxLength) {\n      $input.val(textInput.substr(0, actualMaxLength));\n    }\n  },\n  _getMaxLength: function () {\n    var isMaskSpecified = !!this.option(\"mask\");\n    return isMaskSpecified ? null : this.option(\"maxLength\");\n  }\n});\nregisterComponent(\"dxTextBox\", TextBox);\nexport default TextBox;","map":{"version":3,"names":["$","getWindow","window","extend","registerComponent","TextEditor","normalizeKeyName","getOuterWidth","getWidth","ignoreKeys","TEXTBOX_CLASS","SEARCHBOX_CLASS","ICON_CLASS","SEARCH_ICON_CLASS","TextBox","inherit","ctor","element","options","_showClearButton","showClearButton","callBase","apply","arguments","_getDefaultOptions","value","mode","maxLength","_initMarkup","$element","addClass","setAria","_renderInputType","_renderSearchMode","_useTemplates","_renderProps","_toggleMaxLengthProp","_getMaxLength","_input","attr","removeAttr","_$element","option","_renderSearchIcon","removeClass","_$searchIcon","remove","$searchIcon","prependTo","parent","_getLabelContainerWidth","$inputContainer","_getLabelBeforeWidth","labelBeforeWidth","_optionChanged","args","name","_updateLabelWidth","_onKeyDownCutOffHandler","e","actualMaxLength","ctrlKey","_hasSelection","$input","target","key","_cutOffExtraChar","val","length","includes","getSelection","toString","_onChangeCutOffHandler","textInput","substr","isMaskSpecified"],"sources":["C:/Users/ninad/OneDrive/Radna povrÅ¡ina/zavrsni/client/node_modules/devextreme/esm/ui/text_box/text_box.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/text_box/text_box.js)\r\n * Version: 22.2.6\r\n * Build date: Tue Apr 18 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    getWindow\r\n} from \"../../core/utils/window\";\r\nvar window = getWindow();\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport TextEditor from \"./ui.text_editor\";\r\nimport {\r\n    normalizeKeyName\r\n} from \"../../events/utils/index\";\r\nimport {\r\n    getOuterWidth,\r\n    getWidth\r\n} from \"../../core/utils/size\";\r\nvar ignoreKeys = [\"backspace\", \"tab\", \"enter\", \"pageUp\", \"pageDown\", \"end\", \"home\", \"leftArrow\", \"rightArrow\", \"downArrow\", \"upArrow\", \"del\"];\r\nvar TEXTBOX_CLASS = \"dx-textbox\";\r\nvar SEARCHBOX_CLASS = \"dx-searchbox\";\r\nvar ICON_CLASS = \"dx-icon\";\r\nvar SEARCH_ICON_CLASS = \"dx-icon-search\";\r\nvar TextBox = TextEditor.inherit({\r\n    ctor: function(element, options) {\r\n        if (options) {\r\n            this._showClearButton = options.showClearButton\r\n        }\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            value: \"\",\r\n            mode: \"text\",\r\n            maxLength: null\r\n        })\r\n    },\r\n    _initMarkup: function() {\r\n        this.$element().addClass(TEXTBOX_CLASS);\r\n        this.callBase();\r\n        this.setAria(\"role\", \"textbox\")\r\n    },\r\n    _renderInputType: function() {\r\n        this.callBase();\r\n        this._renderSearchMode()\r\n    },\r\n    _useTemplates: function() {\r\n        return false\r\n    },\r\n    _renderProps: function() {\r\n        this.callBase();\r\n        this._toggleMaxLengthProp()\r\n    },\r\n    _toggleMaxLengthProp: function() {\r\n        var maxLength = this._getMaxLength();\r\n        if (maxLength && maxLength > 0) {\r\n            this._input().attr(\"maxLength\", maxLength)\r\n        } else {\r\n            this._input().removeAttr(\"maxLength\")\r\n        }\r\n    },\r\n    _renderSearchMode: function() {\r\n        var $element = this._$element;\r\n        if (\"search\" === this.option(\"mode\")) {\r\n            $element.addClass(SEARCHBOX_CLASS);\r\n            this._renderSearchIcon();\r\n            if (void 0 === this._showClearButton) {\r\n                this._showClearButton = this.option(\"showClearButton\");\r\n                this.option(\"showClearButton\", true)\r\n            }\r\n        } else {\r\n            $element.removeClass(SEARCHBOX_CLASS);\r\n            this._$searchIcon && this._$searchIcon.remove();\r\n            this.option(\"showClearButton\", void 0 === this._showClearButton ? this.option(\"showClearButton\") : this._showClearButton);\r\n            delete this._showClearButton\r\n        }\r\n    },\r\n    _renderSearchIcon: function() {\r\n        var $searchIcon = $(\"<div>\").addClass(ICON_CLASS).addClass(SEARCH_ICON_CLASS);\r\n        $searchIcon.prependTo(this._input().parent());\r\n        this._$searchIcon = $searchIcon\r\n    },\r\n    _getLabelContainerWidth: function() {\r\n        if (this._$searchIcon) {\r\n            var $inputContainer = this._input().parent();\r\n            return getWidth($inputContainer) - this._getLabelBeforeWidth()\r\n        }\r\n        return this.callBase()\r\n    },\r\n    _getLabelBeforeWidth: function() {\r\n        var labelBeforeWidth = this.callBase();\r\n        if (this._$searchIcon) {\r\n            labelBeforeWidth += getOuterWidth(this._$searchIcon)\r\n        }\r\n        return labelBeforeWidth\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"maxLength\":\r\n                this._toggleMaxLengthProp();\r\n                break;\r\n            case \"mode\":\r\n                this.callBase(args);\r\n                this._updateLabelWidth();\r\n                break;\r\n            case \"mask\":\r\n                this.callBase(args);\r\n                this._toggleMaxLengthProp();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _onKeyDownCutOffHandler: function(e) {\r\n        var actualMaxLength = this._getMaxLength();\r\n        if (actualMaxLength && !e.ctrlKey && !this._hasSelection()) {\r\n            var $input = $(e.target);\r\n            var key = normalizeKeyName(e);\r\n            this._cutOffExtraChar($input);\r\n            return $input.val().length < actualMaxLength || ignoreKeys.includes(key) || \"\" !== window.getSelection().toString()\r\n        } else {\r\n            return true\r\n        }\r\n    },\r\n    _onChangeCutOffHandler: function(e) {\r\n        var $input = $(e.target);\r\n        if (this.option(\"maxLength\")) {\r\n            this._cutOffExtraChar($input)\r\n        }\r\n    },\r\n    _cutOffExtraChar: function($input) {\r\n        var actualMaxLength = this._getMaxLength();\r\n        var textInput = $input.val();\r\n        if (actualMaxLength && textInput.length > actualMaxLength) {\r\n            $input.val(textInput.substr(0, actualMaxLength))\r\n        }\r\n    },\r\n    _getMaxLength: function() {\r\n        var isMaskSpecified = !!this.option(\"mask\");\r\n        return isMaskSpecified ? null : this.option(\"maxLength\")\r\n    }\r\n});\r\nregisterComponent(\"dxTextBox\", TextBox);\r\nexport default TextBox;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}