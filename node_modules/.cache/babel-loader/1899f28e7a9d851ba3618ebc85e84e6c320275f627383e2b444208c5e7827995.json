{"ast":null,"code":"/**\r\n * DevExtreme (esm/events/core/events_engine.js)\r\n * Version: 22.2.6\r\n * Build date: Tue Apr 18 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport registerEventCallbacks from \"./event_registrator_callbacks\";\nimport { extend } from \"../../core/utils/extend\";\nimport domAdapter from \"../../core/dom_adapter\";\nimport { getWindow, hasWindow } from \"../../core/utils/window\";\nvar window = getWindow();\nimport injector from \"../../core/utils/dependency_injector\";\nimport { isWindow, isFunction, isString } from \"../../core/utils/type\";\nimport Callbacks from \"../../core/utils/callbacks\";\nimport errors from \"../../core/errors\";\nimport hookTouchProps from \"../../events/core/hook_touch_props\";\nimport callOnce from \"../../core/utils/call_once\";\nvar EMPTY_EVENT_NAME = \"dxEmptyEventType\";\nvar NATIVE_EVENTS_TO_SUBSCRIBE = {\n  mouseenter: \"mouseover\",\n  mouseleave: \"mouseout\",\n  pointerenter: \"pointerover\",\n  pointerleave: \"pointerout\"\n};\nvar NATIVE_EVENTS_TO_TRIGGER = {\n  focusin: \"focus\",\n  focusout: \"blur\"\n};\nvar NO_BUBBLE_EVENTS = [\"blur\", \"focus\", \"load\"];\nvar forcePassiveFalseEventNames = [\"touchmove\", \"wheel\", \"mousewheel\", \"touchstart\"];\nvar EVENT_PROPERTIES = [\"target\", \"relatedTarget\", \"delegateTarget\", \"altKey\", \"bubbles\", \"cancelable\", \"changedTouches\", \"ctrlKey\", \"detail\", \"eventPhase\", \"metaKey\", \"shiftKey\", \"view\", \"char\", \"code\", \"charCode\", \"key\", \"keyCode\", \"button\", \"buttons\", \"offsetX\", \"offsetY\", \"pointerId\", \"pointerType\", \"targetTouches\", \"toElement\", \"touches\"];\nfunction matchesSafe(target, selector) {\n  return !isWindow(target) && \"#document\" !== target.nodeName && domAdapter.elementMatches(target, selector);\n}\nvar elementDataMap = new WeakMap();\nvar guid = 0;\nvar skipEvent;\nvar special = function () {\n  var specialData = {};\n  registerEventCallbacks.add(function (eventName, eventObject) {\n    specialData[eventName] = eventObject;\n  });\n  return {\n    getField: function (eventName, field) {\n      return specialData[eventName] && specialData[eventName][field];\n    },\n    callMethod: function (eventName, methodName, context, args) {\n      return specialData[eventName] && specialData[eventName][methodName] && specialData[eventName][methodName].apply(context, args);\n    }\n  };\n}();\nvar eventsEngine = injector({\n  on: getHandler(normalizeOnArguments(iterate(function (element, eventName, selector, data, handler) {\n    var handlersController = getHandlersController(element, eventName);\n    handlersController.addHandler(handler, selector, data);\n  }))),\n  one: getHandler(normalizeOnArguments(function (element, eventName, selector, data, handler) {\n    eventsEngine.on(element, eventName, selector, data, function oneTimeHandler() {\n      eventsEngine.off(element, eventName, selector, oneTimeHandler);\n      handler.apply(this, arguments);\n    });\n  })),\n  off: getHandler(normalizeOffArguments(iterate(function (element, eventName, selector, handler) {\n    var handlersController = getHandlersController(element, eventName);\n    handlersController.removeHandler(handler, selector);\n  }))),\n  trigger: getHandler(normalizeTriggerArguments(function (element, event, extraParameters) {\n    var eventName = event.type;\n    var handlersController = getHandlersController(element, event.type);\n    special.callMethod(eventName, \"trigger\", element, [event, extraParameters]);\n    handlersController.callHandlers(event, extraParameters);\n    var noBubble = special.getField(eventName, \"noBubble\") || event.isPropagationStopped() || -1 !== NO_BUBBLE_EVENTS.indexOf(eventName);\n    if (!noBubble) {\n      var parents = [];\n      !function getParents(element) {\n        var _element$parentNode;\n        var parent = null !== (_element$parentNode = element.parentNode) && void 0 !== _element$parentNode ? _element$parentNode : element.host;\n        if (parent) {\n          parents.push(parent);\n          getParents(parent);\n        }\n      }(element);\n      parents.push(window);\n      var i = 0;\n      while (parents[i] && !event.isPropagationStopped()) {\n        var parentDataByEvent = getHandlersController(parents[i], event.type);\n        parentDataByEvent.callHandlers(extend(event, {\n          currentTarget: parents[i]\n        }), extraParameters);\n        i++;\n      }\n    }\n    if (element.nodeType || isWindow(element)) {\n      special.callMethod(eventName, \"_default\", element, [event, extraParameters]);\n      callNativeMethod(eventName, element);\n    }\n  })),\n  triggerHandler: getHandler(normalizeTriggerArguments(function (element, event, extraParameters) {\n    var handlersController = getHandlersController(element, event.type);\n    handlersController.callHandlers(event, extraParameters);\n  }))\n});\nfunction applyForEach(args, method) {\n  var element = args[0];\n  if (!element) {\n    return;\n  }\n  if (domAdapter.isNode(element) || isWindow(element)) {\n    method.apply(eventsEngine, args);\n  } else if (!isString(element) && \"length\" in element) {\n    var itemArgs = Array.prototype.slice.call(args, 0);\n    Array.prototype.forEach.call(element, function (itemElement) {\n      itemArgs[0] = itemElement;\n      applyForEach(itemArgs, method);\n    });\n  } else {\n    throw errors.Error(\"E0025\");\n  }\n}\nfunction getHandler(method) {\n  return function () {\n    applyForEach(arguments, method);\n  };\n}\nfunction detectPassiveEventHandlersSupport() {\n  var isSupported = false;\n  try {\n    var options = Object.defineProperty({}, \"passive\", {\n      get: function () {\n        isSupported = true;\n        return true;\n      }\n    });\n    window.addEventListener(\"test\", null, options);\n  } catch (e) {}\n  return isSupported;\n}\nvar passiveEventHandlersSupported = callOnce(detectPassiveEventHandlersSupport);\nvar contains = (container, element) => {\n  if (isWindow(container)) {\n    return contains(container.document, element);\n  }\n  return container.contains ? container.contains(element) : !!(element.compareDocumentPosition(container) & element.DOCUMENT_POSITION_CONTAINS);\n};\nfunction getHandlersController(element, eventName) {\n  var elementData = elementDataMap.get(element);\n  eventName = eventName || \"\";\n  var eventNameParts = eventName.split(\".\");\n  var namespaces = eventNameParts.slice(1);\n  var eventNameIsDefined = !!eventNameParts[0];\n  eventName = eventNameParts[0] || EMPTY_EVENT_NAME;\n  if (!elementData) {\n    elementData = {};\n    elementDataMap.set(element, elementData);\n  }\n  if (!elementData[eventName]) {\n    elementData[eventName] = {\n      handleObjects: [],\n      nativeHandler: null\n    };\n  }\n  var eventData = elementData[eventName];\n  return {\n    addHandler: function (handler, selector, data) {\n      var callHandler = function (e, extraParameters) {\n        var handlerArgs = [e];\n        var target = e.currentTarget;\n        var relatedTarget = e.relatedTarget;\n        var secondaryTargetIsInside;\n        var result;\n        if (eventName in NATIVE_EVENTS_TO_SUBSCRIBE) {\n          secondaryTargetIsInside = relatedTarget && target && (relatedTarget === target || contains(target, relatedTarget));\n        }\n        if (void 0 !== extraParameters) {\n          handlerArgs.push(extraParameters);\n        }\n        special.callMethod(eventName, \"handle\", element, [e, data]);\n        if (!secondaryTargetIsInside) {\n          result = handler.apply(target, handlerArgs);\n        }\n        if (false === result) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      };\n      var handleObject = {\n        handler: handler,\n        wrappedHandler: function (e, extraParameters) {\n          if (skipEvent && e.type === skipEvent) {\n            return;\n          }\n          e.data = data;\n          e.delegateTarget = element;\n          if (selector) {\n            var currentTarget = e.target;\n            while (currentTarget && currentTarget !== element) {\n              if (matchesSafe(currentTarget, selector)) {\n                e.currentTarget = currentTarget;\n                callHandler(e, extraParameters);\n              }\n              currentTarget = currentTarget.parentNode;\n            }\n          } else {\n            e.currentTarget = e.delegateTarget || e.target;\n            callHandler(e, extraParameters);\n          }\n        },\n        selector: selector,\n        type: eventName,\n        data: data,\n        namespace: namespaces.join(\".\"),\n        namespaces: namespaces,\n        guid: ++guid\n      };\n      eventData.handleObjects.push(handleObject);\n      var firstHandlerForTheType = 1 === eventData.handleObjects.length;\n      var shouldAddNativeListener = firstHandlerForTheType && eventNameIsDefined;\n      var nativeListenerOptions;\n      if (shouldAddNativeListener) {\n        shouldAddNativeListener = !special.callMethod(eventName, \"setup\", element, [data, namespaces, handler]);\n      }\n      if (shouldAddNativeListener) {\n        eventData.nativeHandler = getNativeHandler(eventName);\n        if (passiveEventHandlersSupported() && forcePassiveFalseEventNames.indexOf(eventName) > -1) {\n          nativeListenerOptions = {\n            passive: false\n          };\n        }\n        eventData.removeListener = domAdapter.listen(element, NATIVE_EVENTS_TO_SUBSCRIBE[eventName] || eventName, eventData.nativeHandler, nativeListenerOptions);\n      }\n      special.callMethod(eventName, \"add\", element, [handleObject]);\n    },\n    removeHandler: function (handler, selector) {\n      var removeByEventName = function (eventName) {\n        var eventData = elementData[eventName];\n        if (!eventData.handleObjects.length) {\n          delete elementData[eventName];\n          return;\n        }\n        var removedHandler;\n        eventData.handleObjects = eventData.handleObjects.filter(function (handleObject) {\n          var skip = namespaces.length && !isSubset(handleObject.namespaces, namespaces) || handler && handleObject.handler !== handler || selector && handleObject.selector !== selector;\n          if (!skip) {\n            removedHandler = handleObject.handler;\n            special.callMethod(eventName, \"remove\", element, [handleObject]);\n          }\n          return skip;\n        });\n        var lastHandlerForTheType = !eventData.handleObjects.length;\n        var shouldRemoveNativeListener = lastHandlerForTheType && eventName !== EMPTY_EVENT_NAME;\n        if (shouldRemoveNativeListener) {\n          special.callMethod(eventName, \"teardown\", element, [namespaces, removedHandler]);\n          if (eventData.nativeHandler) {\n            eventData.removeListener();\n          }\n          delete elementData[eventName];\n        }\n      };\n      if (eventNameIsDefined) {\n        removeByEventName(eventName);\n      } else {\n        for (var name in elementData) {\n          removeByEventName(name);\n        }\n      }\n      var elementDataIsEmpty = 0 === Object.keys(elementData).length;\n      if (elementDataIsEmpty) {\n        elementDataMap.delete(element);\n      }\n    },\n    callHandlers: function (event, extraParameters) {\n      var forceStop = false;\n      var handleCallback = function (handleObject) {\n        if (forceStop) {\n          return;\n        }\n        if (!namespaces.length || isSubset(handleObject.namespaces, namespaces)) {\n          handleObject.wrappedHandler(event, extraParameters);\n          forceStop = event.isImmediatePropagationStopped();\n        }\n      };\n      eventData.handleObjects.forEach(handleCallback);\n      if (namespaces.length && elementData[EMPTY_EVENT_NAME]) {\n        elementData[EMPTY_EVENT_NAME].handleObjects.forEach(handleCallback);\n      }\n    }\n  };\n}\nfunction getNativeHandler(subscribeName) {\n  return function (event, extraParameters) {\n    var handlersController = getHandlersController(this, subscribeName);\n    event = eventsEngine.Event(event);\n    handlersController.callHandlers(event, extraParameters);\n  };\n}\nfunction isSubset(original, checked) {\n  for (var i = 0; i < checked.length; i++) {\n    if (original.indexOf(checked[i]) < 0) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction normalizeOnArguments(callback) {\n  return function (element, eventName, selector, data, handler) {\n    if (!handler) {\n      handler = data;\n      data = void 0;\n    }\n    if (\"string\" !== typeof selector) {\n      data = selector;\n      selector = void 0;\n    }\n    if (!handler && \"string\" === typeof eventName) {\n      handler = data || selector;\n      selector = void 0;\n      data = void 0;\n    }\n    callback(element, eventName, selector, data, handler);\n  };\n}\nfunction normalizeOffArguments(callback) {\n  return function (element, eventName, selector, handler) {\n    if (\"function\" === typeof selector) {\n      handler = selector;\n      selector = void 0;\n    }\n    callback(element, eventName, selector, handler);\n  };\n}\nfunction normalizeTriggerArguments(callback) {\n  return function (element, src, extraParameters) {\n    if (\"string\" === typeof src) {\n      src = {\n        type: src\n      };\n    }\n    if (!src.target) {\n      src.target = element;\n    }\n    src.currentTarget = element;\n    if (!src.delegateTarget) {\n      src.delegateTarget = element;\n    }\n    if (!src.type && src.originalEvent) {\n      src.type = src.originalEvent.type;\n    }\n    callback(element, src instanceof eventsEngine.Event ? src : eventsEngine.Event(src), extraParameters);\n  };\n}\nfunction normalizeEventArguments(callback) {\n  eventsEngine.Event = function (src, config) {\n    if (!(this instanceof eventsEngine.Event)) {\n      return new eventsEngine.Event(src, config);\n    }\n    if (!src) {\n      src = {};\n    }\n    if (\"string\" === typeof src) {\n      src = {\n        type: src\n      };\n    }\n    if (!config) {\n      config = {};\n    }\n    callback.call(this, src, config);\n  };\n  _extends(eventsEngine.Event.prototype, {\n    _propagationStopped: false,\n    _immediatePropagationStopped: false,\n    _defaultPrevented: false,\n    isPropagationStopped: function () {\n      return !!(this._propagationStopped || this.originalEvent && this.originalEvent.propagationStopped);\n    },\n    stopPropagation: function () {\n      this._propagationStopped = true;\n      this.originalEvent && this.originalEvent.stopPropagation();\n    },\n    isImmediatePropagationStopped: function () {\n      return this._immediatePropagationStopped;\n    },\n    stopImmediatePropagation: function () {\n      this.stopPropagation();\n      this._immediatePropagationStopped = true;\n      this.originalEvent && this.originalEvent.stopImmediatePropagation();\n    },\n    isDefaultPrevented: function () {\n      return !!(this._defaultPrevented || this.originalEvent && this.originalEvent.defaultPrevented);\n    },\n    preventDefault: function () {\n      this._defaultPrevented = true;\n      this.originalEvent && this.originalEvent.preventDefault();\n    }\n  });\n  return eventsEngine.Event;\n}\nfunction iterate(callback) {\n  var iterateEventNames = function (element, eventName) {\n    if (eventName && eventName.indexOf(\" \") > -1) {\n      var args = Array.prototype.slice.call(arguments, 0);\n      eventName.split(\" \").forEach(function (eventName) {\n        args[1] = eventName;\n        callback.apply(this, args);\n      });\n    } else {\n      callback.apply(this, arguments);\n    }\n  };\n  return function (element, eventName) {\n    if (\"object\" === typeof eventName) {\n      var args = Array.prototype.slice.call(arguments, 0);\n      for (var name in eventName) {\n        args[1] = name;\n        args[args.length - 1] = eventName[name];\n        iterateEventNames.apply(this, args);\n      }\n    } else {\n      iterateEventNames.apply(this, arguments);\n    }\n  };\n}\nfunction callNativeMethod(eventName, element) {\n  var nativeMethodName = NATIVE_EVENTS_TO_TRIGGER[eventName] || eventName;\n  if (function (eventName, element) {\n    return \"click\" === eventName && \"a\" === element.localName;\n  }(eventName, element)) {\n    return;\n  }\n  if (isFunction(element[nativeMethodName])) {\n    skipEvent = eventName;\n    element[nativeMethodName]();\n    skipEvent = void 0;\n  }\n}\nfunction calculateWhich(event) {\n  if (function (event) {\n    return null == event.which && 0 === event.type.indexOf(\"key\");\n  }(event)) {\n    return null != event.charCode ? event.charCode : event.keyCode;\n  }\n  if (function (event) {\n    return !event.which && void 0 !== event.button && /^(?:mouse|pointer|contextmenu|drag|drop)|click/.test(event.type);\n  }(event)) {\n    return {\n      1: 1,\n      2: 3,\n      3: 1,\n      4: 2\n    }[event.button];\n  }\n  return event.which;\n}\nfunction initEvent(EventClass) {\n  if (EventClass) {\n    eventsEngine.Event = EventClass;\n    eventsEngine.Event.prototype = EventClass.prototype;\n  }\n}\ninitEvent(normalizeEventArguments(function (src, config) {\n  var _src$view;\n  var srcIsEvent = src instanceof eventsEngine.Event || hasWindow() && src instanceof window.Event || (null === (_src$view = src.view) || void 0 === _src$view ? void 0 : _src$view.Event) && src instanceof src.view.Event;\n  if (srcIsEvent) {\n    this.originalEvent = src;\n    this.type = src.type;\n    this.currentTarget = void 0;\n    if (Object.prototype.hasOwnProperty.call(src, \"isTrusted\")) {\n      this.isTrusted = src.isTrusted;\n    }\n    this.timeStamp = src.timeStamp || Date.now();\n  } else {\n    _extends(this, src);\n  }\n  addProperty(\"which\", calculateWhich, this);\n  if (0 === src.type.indexOf(\"touch\")) {\n    delete config.pageX;\n    delete config.pageY;\n  }\n  _extends(this, config);\n  this.guid = ++guid;\n}));\nfunction addProperty(propName, hook, eventInstance) {\n  Object.defineProperty(eventInstance || eventsEngine.Event.prototype, propName, {\n    enumerable: true,\n    configurable: true,\n    get: function () {\n      return this.originalEvent && hook(this.originalEvent);\n    },\n    set: function (value) {\n      Object.defineProperty(this, propName, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value: value\n      });\n    }\n  });\n}\nEVENT_PROPERTIES.forEach(prop => addProperty(prop, event => event[prop]));\nhookTouchProps(addProperty);\nvar beforeSetStrategy = Callbacks();\nvar afterSetStrategy = Callbacks();\neventsEngine.set = function (engine) {\n  beforeSetStrategy.fire();\n  eventsEngine.inject(engine);\n  initEvent(engine.Event);\n  afterSetStrategy.fire();\n};\neventsEngine.subscribeGlobal = function () {\n  applyForEach(arguments, normalizeOnArguments(function () {\n    var args = arguments;\n    eventsEngine.on.apply(this, args);\n    beforeSetStrategy.add(function () {\n      var offArgs = Array.prototype.slice.call(args, 0);\n      offArgs.splice(3, 1);\n      eventsEngine.off.apply(this, offArgs);\n    });\n    afterSetStrategy.add(function () {\n      eventsEngine.on.apply(this, args);\n    });\n  }));\n};\neventsEngine.forcePassiveFalseEventNames = forcePassiveFalseEventNames;\neventsEngine.passiveEventHandlersSupported = passiveEventHandlersSupported;\nexport default eventsEngine;","map":{"version":3,"names":["_extends","registerEventCallbacks","extend","domAdapter","getWindow","hasWindow","window","injector","isWindow","isFunction","isString","Callbacks","errors","hookTouchProps","callOnce","EMPTY_EVENT_NAME","NATIVE_EVENTS_TO_SUBSCRIBE","mouseenter","mouseleave","pointerenter","pointerleave","NATIVE_EVENTS_TO_TRIGGER","focusin","focusout","NO_BUBBLE_EVENTS","forcePassiveFalseEventNames","EVENT_PROPERTIES","matchesSafe","target","selector","nodeName","elementMatches","elementDataMap","WeakMap","guid","skipEvent","special","specialData","add","eventName","eventObject","getField","field","callMethod","methodName","context","args","apply","eventsEngine","on","getHandler","normalizeOnArguments","iterate","element","data","handler","handlersController","getHandlersController","addHandler","one","oneTimeHandler","off","arguments","normalizeOffArguments","removeHandler","trigger","normalizeTriggerArguments","event","extraParameters","type","callHandlers","noBubble","isPropagationStopped","indexOf","parents","getParents","_element$parentNode","parent","parentNode","host","push","i","parentDataByEvent","currentTarget","nodeType","callNativeMethod","triggerHandler","applyForEach","method","isNode","itemArgs","Array","prototype","slice","call","forEach","itemElement","Error","detectPassiveEventHandlersSupport","isSupported","options","Object","defineProperty","get","addEventListener","e","passiveEventHandlersSupported","contains","container","document","compareDocumentPosition","DOCUMENT_POSITION_CONTAINS","elementData","eventNameParts","split","namespaces","eventNameIsDefined","set","handleObjects","nativeHandler","eventData","callHandler","handlerArgs","relatedTarget","secondaryTargetIsInside","result","preventDefault","stopPropagation","handleObject","wrappedHandler","delegateTarget","namespace","join","firstHandlerForTheType","length","shouldAddNativeListener","nativeListenerOptions","getNativeHandler","passive","removeListener","listen","removeByEventName","removedHandler","filter","skip","isSubset","lastHandlerForTheType","shouldRemoveNativeListener","name","elementDataIsEmpty","keys","delete","forceStop","handleCallback","isImmediatePropagationStopped","subscribeName","Event","original","checked","callback","src","originalEvent","normalizeEventArguments","config","_propagationStopped","_immediatePropagationStopped","_defaultPrevented","propagationStopped","stopImmediatePropagation","isDefaultPrevented","defaultPrevented","iterateEventNames","nativeMethodName","localName","calculateWhich","which","charCode","keyCode","button","test","initEvent","EventClass","_src$view","srcIsEvent","view","hasOwnProperty","isTrusted","timeStamp","Date","now","addProperty","pageX","pageY","propName","hook","eventInstance","enumerable","configurable","value","writable","prop","beforeSetStrategy","afterSetStrategy","engine","fire","inject","subscribeGlobal","offArgs","splice"],"sources":["C:/Users/ninad/OneDrive/Radna povrÅ¡ina/zavrsni/client/node_modules/devextreme/esm/events/core/events_engine.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/events/core/events_engine.js)\r\n * Version: 22.2.6\r\n * Build date: Tue Apr 18 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport registerEventCallbacks from \"./event_registrator_callbacks\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport {\r\n    getWindow,\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nvar window = getWindow();\r\nimport injector from \"../../core/utils/dependency_injector\";\r\nimport {\r\n    isWindow,\r\n    isFunction,\r\n    isString\r\n} from \"../../core/utils/type\";\r\nimport Callbacks from \"../../core/utils/callbacks\";\r\nimport errors from \"../../core/errors\";\r\nimport hookTouchProps from \"../../events/core/hook_touch_props\";\r\nimport callOnce from \"../../core/utils/call_once\";\r\nvar EMPTY_EVENT_NAME = \"dxEmptyEventType\";\r\nvar NATIVE_EVENTS_TO_SUBSCRIBE = {\r\n    mouseenter: \"mouseover\",\r\n    mouseleave: \"mouseout\",\r\n    pointerenter: \"pointerover\",\r\n    pointerleave: \"pointerout\"\r\n};\r\nvar NATIVE_EVENTS_TO_TRIGGER = {\r\n    focusin: \"focus\",\r\n    focusout: \"blur\"\r\n};\r\nvar NO_BUBBLE_EVENTS = [\"blur\", \"focus\", \"load\"];\r\nvar forcePassiveFalseEventNames = [\"touchmove\", \"wheel\", \"mousewheel\", \"touchstart\"];\r\nvar EVENT_PROPERTIES = [\"target\", \"relatedTarget\", \"delegateTarget\", \"altKey\", \"bubbles\", \"cancelable\", \"changedTouches\", \"ctrlKey\", \"detail\", \"eventPhase\", \"metaKey\", \"shiftKey\", \"view\", \"char\", \"code\", \"charCode\", \"key\", \"keyCode\", \"button\", \"buttons\", \"offsetX\", \"offsetY\", \"pointerId\", \"pointerType\", \"targetTouches\", \"toElement\", \"touches\"];\r\n\r\nfunction matchesSafe(target, selector) {\r\n    return !isWindow(target) && \"#document\" !== target.nodeName && domAdapter.elementMatches(target, selector)\r\n}\r\nvar elementDataMap = new WeakMap;\r\nvar guid = 0;\r\nvar skipEvent;\r\nvar special = function() {\r\n    var specialData = {};\r\n    registerEventCallbacks.add((function(eventName, eventObject) {\r\n        specialData[eventName] = eventObject\r\n    }));\r\n    return {\r\n        getField: function(eventName, field) {\r\n            return specialData[eventName] && specialData[eventName][field]\r\n        },\r\n        callMethod: function(eventName, methodName, context, args) {\r\n            return specialData[eventName] && specialData[eventName][methodName] && specialData[eventName][methodName].apply(context, args)\r\n        }\r\n    }\r\n}();\r\nvar eventsEngine = injector({\r\n    on: getHandler(normalizeOnArguments(iterate((function(element, eventName, selector, data, handler) {\r\n        var handlersController = getHandlersController(element, eventName);\r\n        handlersController.addHandler(handler, selector, data)\r\n    })))),\r\n    one: getHandler(normalizeOnArguments((function(element, eventName, selector, data, handler) {\r\n        eventsEngine.on(element, eventName, selector, data, (function oneTimeHandler() {\r\n            eventsEngine.off(element, eventName, selector, oneTimeHandler);\r\n            handler.apply(this, arguments)\r\n        }))\r\n    }))),\r\n    off: getHandler(normalizeOffArguments(iterate((function(element, eventName, selector, handler) {\r\n        var handlersController = getHandlersController(element, eventName);\r\n        handlersController.removeHandler(handler, selector)\r\n    })))),\r\n    trigger: getHandler(normalizeTriggerArguments((function(element, event, extraParameters) {\r\n        var eventName = event.type;\r\n        var handlersController = getHandlersController(element, event.type);\r\n        special.callMethod(eventName, \"trigger\", element, [event, extraParameters]);\r\n        handlersController.callHandlers(event, extraParameters);\r\n        var noBubble = special.getField(eventName, \"noBubble\") || event.isPropagationStopped() || -1 !== NO_BUBBLE_EVENTS.indexOf(eventName);\r\n        if (!noBubble) {\r\n            var parents = [];\r\n            ! function getParents(element) {\r\n                var _element$parentNode;\r\n                var parent = null !== (_element$parentNode = element.parentNode) && void 0 !== _element$parentNode ? _element$parentNode : element.host;\r\n                if (parent) {\r\n                    parents.push(parent);\r\n                    getParents(parent)\r\n                }\r\n            }(element);\r\n            parents.push(window);\r\n            var i = 0;\r\n            while (parents[i] && !event.isPropagationStopped()) {\r\n                var parentDataByEvent = getHandlersController(parents[i], event.type);\r\n                parentDataByEvent.callHandlers(extend(event, {\r\n                    currentTarget: parents[i]\r\n                }), extraParameters);\r\n                i++\r\n            }\r\n        }\r\n        if (element.nodeType || isWindow(element)) {\r\n            special.callMethod(eventName, \"_default\", element, [event, extraParameters]);\r\n            callNativeMethod(eventName, element)\r\n        }\r\n    }))),\r\n    triggerHandler: getHandler(normalizeTriggerArguments((function(element, event, extraParameters) {\r\n        var handlersController = getHandlersController(element, event.type);\r\n        handlersController.callHandlers(event, extraParameters)\r\n    })))\r\n});\r\n\r\nfunction applyForEach(args, method) {\r\n    var element = args[0];\r\n    if (!element) {\r\n        return\r\n    }\r\n    if (domAdapter.isNode(element) || isWindow(element)) {\r\n        method.apply(eventsEngine, args)\r\n    } else if (!isString(element) && \"length\" in element) {\r\n        var itemArgs = Array.prototype.slice.call(args, 0);\r\n        Array.prototype.forEach.call(element, (function(itemElement) {\r\n            itemArgs[0] = itemElement;\r\n            applyForEach(itemArgs, method)\r\n        }))\r\n    } else {\r\n        throw errors.Error(\"E0025\")\r\n    }\r\n}\r\n\r\nfunction getHandler(method) {\r\n    return function() {\r\n        applyForEach(arguments, method)\r\n    }\r\n}\r\n\r\nfunction detectPassiveEventHandlersSupport() {\r\n    var isSupported = false;\r\n    try {\r\n        var options = Object.defineProperty({}, \"passive\", {\r\n            get: function() {\r\n                isSupported = true;\r\n                return true\r\n            }\r\n        });\r\n        window.addEventListener(\"test\", null, options)\r\n    } catch (e) {}\r\n    return isSupported\r\n}\r\nvar passiveEventHandlersSupported = callOnce(detectPassiveEventHandlersSupport);\r\nvar contains = (container, element) => {\r\n    if (isWindow(container)) {\r\n        return contains(container.document, element)\r\n    }\r\n    return container.contains ? container.contains(element) : !!(element.compareDocumentPosition(container) & element.DOCUMENT_POSITION_CONTAINS)\r\n};\r\n\r\nfunction getHandlersController(element, eventName) {\r\n    var elementData = elementDataMap.get(element);\r\n    eventName = eventName || \"\";\r\n    var eventNameParts = eventName.split(\".\");\r\n    var namespaces = eventNameParts.slice(1);\r\n    var eventNameIsDefined = !!eventNameParts[0];\r\n    eventName = eventNameParts[0] || EMPTY_EVENT_NAME;\r\n    if (!elementData) {\r\n        elementData = {};\r\n        elementDataMap.set(element, elementData)\r\n    }\r\n    if (!elementData[eventName]) {\r\n        elementData[eventName] = {\r\n            handleObjects: [],\r\n            nativeHandler: null\r\n        }\r\n    }\r\n    var eventData = elementData[eventName];\r\n    return {\r\n        addHandler: function(handler, selector, data) {\r\n            var callHandler = function(e, extraParameters) {\r\n                var handlerArgs = [e];\r\n                var target = e.currentTarget;\r\n                var relatedTarget = e.relatedTarget;\r\n                var secondaryTargetIsInside;\r\n                var result;\r\n                if (eventName in NATIVE_EVENTS_TO_SUBSCRIBE) {\r\n                    secondaryTargetIsInside = relatedTarget && target && (relatedTarget === target || contains(target, relatedTarget))\r\n                }\r\n                if (void 0 !== extraParameters) {\r\n                    handlerArgs.push(extraParameters)\r\n                }\r\n                special.callMethod(eventName, \"handle\", element, [e, data]);\r\n                if (!secondaryTargetIsInside) {\r\n                    result = handler.apply(target, handlerArgs)\r\n                }\r\n                if (false === result) {\r\n                    e.preventDefault();\r\n                    e.stopPropagation()\r\n                }\r\n            };\r\n            var handleObject = {\r\n                handler: handler,\r\n                wrappedHandler: function(e, extraParameters) {\r\n                    if (skipEvent && e.type === skipEvent) {\r\n                        return\r\n                    }\r\n                    e.data = data;\r\n                    e.delegateTarget = element;\r\n                    if (selector) {\r\n                        var currentTarget = e.target;\r\n                        while (currentTarget && currentTarget !== element) {\r\n                            if (matchesSafe(currentTarget, selector)) {\r\n                                e.currentTarget = currentTarget;\r\n                                callHandler(e, extraParameters)\r\n                            }\r\n                            currentTarget = currentTarget.parentNode\r\n                        }\r\n                    } else {\r\n                        e.currentTarget = e.delegateTarget || e.target;\r\n                        callHandler(e, extraParameters)\r\n                    }\r\n                },\r\n                selector: selector,\r\n                type: eventName,\r\n                data: data,\r\n                namespace: namespaces.join(\".\"),\r\n                namespaces: namespaces,\r\n                guid: ++guid\r\n            };\r\n            eventData.handleObjects.push(handleObject);\r\n            var firstHandlerForTheType = 1 === eventData.handleObjects.length;\r\n            var shouldAddNativeListener = firstHandlerForTheType && eventNameIsDefined;\r\n            var nativeListenerOptions;\r\n            if (shouldAddNativeListener) {\r\n                shouldAddNativeListener = !special.callMethod(eventName, \"setup\", element, [data, namespaces, handler])\r\n            }\r\n            if (shouldAddNativeListener) {\r\n                eventData.nativeHandler = getNativeHandler(eventName);\r\n                if (passiveEventHandlersSupported() && forcePassiveFalseEventNames.indexOf(eventName) > -1) {\r\n                    nativeListenerOptions = {\r\n                        passive: false\r\n                    }\r\n                }\r\n                eventData.removeListener = domAdapter.listen(element, NATIVE_EVENTS_TO_SUBSCRIBE[eventName] || eventName, eventData.nativeHandler, nativeListenerOptions)\r\n            }\r\n            special.callMethod(eventName, \"add\", element, [handleObject])\r\n        },\r\n        removeHandler: function(handler, selector) {\r\n            var removeByEventName = function(eventName) {\r\n                var eventData = elementData[eventName];\r\n                if (!eventData.handleObjects.length) {\r\n                    delete elementData[eventName];\r\n                    return\r\n                }\r\n                var removedHandler;\r\n                eventData.handleObjects = eventData.handleObjects.filter((function(handleObject) {\r\n                    var skip = namespaces.length && !isSubset(handleObject.namespaces, namespaces) || handler && handleObject.handler !== handler || selector && handleObject.selector !== selector;\r\n                    if (!skip) {\r\n                        removedHandler = handleObject.handler;\r\n                        special.callMethod(eventName, \"remove\", element, [handleObject])\r\n                    }\r\n                    return skip\r\n                }));\r\n                var lastHandlerForTheType = !eventData.handleObjects.length;\r\n                var shouldRemoveNativeListener = lastHandlerForTheType && eventName !== EMPTY_EVENT_NAME;\r\n                if (shouldRemoveNativeListener) {\r\n                    special.callMethod(eventName, \"teardown\", element, [namespaces, removedHandler]);\r\n                    if (eventData.nativeHandler) {\r\n                        eventData.removeListener()\r\n                    }\r\n                    delete elementData[eventName]\r\n                }\r\n            };\r\n            if (eventNameIsDefined) {\r\n                removeByEventName(eventName)\r\n            } else {\r\n                for (var name in elementData) {\r\n                    removeByEventName(name)\r\n                }\r\n            }\r\n            var elementDataIsEmpty = 0 === Object.keys(elementData).length;\r\n            if (elementDataIsEmpty) {\r\n                elementDataMap.delete(element)\r\n            }\r\n        },\r\n        callHandlers: function(event, extraParameters) {\r\n            var forceStop = false;\r\n            var handleCallback = function(handleObject) {\r\n                if (forceStop) {\r\n                    return\r\n                }\r\n                if (!namespaces.length || isSubset(handleObject.namespaces, namespaces)) {\r\n                    handleObject.wrappedHandler(event, extraParameters);\r\n                    forceStop = event.isImmediatePropagationStopped()\r\n                }\r\n            };\r\n            eventData.handleObjects.forEach(handleCallback);\r\n            if (namespaces.length && elementData[EMPTY_EVENT_NAME]) {\r\n                elementData[EMPTY_EVENT_NAME].handleObjects.forEach(handleCallback)\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction getNativeHandler(subscribeName) {\r\n    return function(event, extraParameters) {\r\n        var handlersController = getHandlersController(this, subscribeName);\r\n        event = eventsEngine.Event(event);\r\n        handlersController.callHandlers(event, extraParameters)\r\n    }\r\n}\r\n\r\nfunction isSubset(original, checked) {\r\n    for (var i = 0; i < checked.length; i++) {\r\n        if (original.indexOf(checked[i]) < 0) {\r\n            return false\r\n        }\r\n    }\r\n    return true\r\n}\r\n\r\nfunction normalizeOnArguments(callback) {\r\n    return function(element, eventName, selector, data, handler) {\r\n        if (!handler) {\r\n            handler = data;\r\n            data = void 0\r\n        }\r\n        if (\"string\" !== typeof selector) {\r\n            data = selector;\r\n            selector = void 0\r\n        }\r\n        if (!handler && \"string\" === typeof eventName) {\r\n            handler = data || selector;\r\n            selector = void 0;\r\n            data = void 0\r\n        }\r\n        callback(element, eventName, selector, data, handler)\r\n    }\r\n}\r\n\r\nfunction normalizeOffArguments(callback) {\r\n    return function(element, eventName, selector, handler) {\r\n        if (\"function\" === typeof selector) {\r\n            handler = selector;\r\n            selector = void 0\r\n        }\r\n        callback(element, eventName, selector, handler)\r\n    }\r\n}\r\n\r\nfunction normalizeTriggerArguments(callback) {\r\n    return function(element, src, extraParameters) {\r\n        if (\"string\" === typeof src) {\r\n            src = {\r\n                type: src\r\n            }\r\n        }\r\n        if (!src.target) {\r\n            src.target = element\r\n        }\r\n        src.currentTarget = element;\r\n        if (!src.delegateTarget) {\r\n            src.delegateTarget = element\r\n        }\r\n        if (!src.type && src.originalEvent) {\r\n            src.type = src.originalEvent.type\r\n        }\r\n        callback(element, src instanceof eventsEngine.Event ? src : eventsEngine.Event(src), extraParameters)\r\n    }\r\n}\r\n\r\nfunction normalizeEventArguments(callback) {\r\n    eventsEngine.Event = function(src, config) {\r\n        if (!(this instanceof eventsEngine.Event)) {\r\n            return new eventsEngine.Event(src, config)\r\n        }\r\n        if (!src) {\r\n            src = {}\r\n        }\r\n        if (\"string\" === typeof src) {\r\n            src = {\r\n                type: src\r\n            }\r\n        }\r\n        if (!config) {\r\n            config = {}\r\n        }\r\n        callback.call(this, src, config)\r\n    };\r\n    _extends(eventsEngine.Event.prototype, {\r\n        _propagationStopped: false,\r\n        _immediatePropagationStopped: false,\r\n        _defaultPrevented: false,\r\n        isPropagationStopped: function() {\r\n            return !!(this._propagationStopped || this.originalEvent && this.originalEvent.propagationStopped)\r\n        },\r\n        stopPropagation: function() {\r\n            this._propagationStopped = true;\r\n            this.originalEvent && this.originalEvent.stopPropagation()\r\n        },\r\n        isImmediatePropagationStopped: function() {\r\n            return this._immediatePropagationStopped\r\n        },\r\n        stopImmediatePropagation: function() {\r\n            this.stopPropagation();\r\n            this._immediatePropagationStopped = true;\r\n            this.originalEvent && this.originalEvent.stopImmediatePropagation()\r\n        },\r\n        isDefaultPrevented: function() {\r\n            return !!(this._defaultPrevented || this.originalEvent && this.originalEvent.defaultPrevented)\r\n        },\r\n        preventDefault: function() {\r\n            this._defaultPrevented = true;\r\n            this.originalEvent && this.originalEvent.preventDefault()\r\n        }\r\n    });\r\n    return eventsEngine.Event\r\n}\r\n\r\nfunction iterate(callback) {\r\n    var iterateEventNames = function(element, eventName) {\r\n        if (eventName && eventName.indexOf(\" \") > -1) {\r\n            var args = Array.prototype.slice.call(arguments, 0);\r\n            eventName.split(\" \").forEach((function(eventName) {\r\n                args[1] = eventName;\r\n                callback.apply(this, args)\r\n            }))\r\n        } else {\r\n            callback.apply(this, arguments)\r\n        }\r\n    };\r\n    return function(element, eventName) {\r\n        if (\"object\" === typeof eventName) {\r\n            var args = Array.prototype.slice.call(arguments, 0);\r\n            for (var name in eventName) {\r\n                args[1] = name;\r\n                args[args.length - 1] = eventName[name];\r\n                iterateEventNames.apply(this, args)\r\n            }\r\n        } else {\r\n            iterateEventNames.apply(this, arguments)\r\n        }\r\n    }\r\n}\r\n\r\nfunction callNativeMethod(eventName, element) {\r\n    var nativeMethodName = NATIVE_EVENTS_TO_TRIGGER[eventName] || eventName;\r\n    if (function(eventName, element) {\r\n            return \"click\" === eventName && \"a\" === element.localName\r\n        }(eventName, element)) {\r\n        return\r\n    }\r\n    if (isFunction(element[nativeMethodName])) {\r\n        skipEvent = eventName;\r\n        element[nativeMethodName]();\r\n        skipEvent = void 0\r\n    }\r\n}\r\n\r\nfunction calculateWhich(event) {\r\n    if (function(event) {\r\n            return null == event.which && 0 === event.type.indexOf(\"key\")\r\n        }(event)) {\r\n        return null != event.charCode ? event.charCode : event.keyCode\r\n    }\r\n    if (function(event) {\r\n            return !event.which && void 0 !== event.button && /^(?:mouse|pointer|contextmenu|drag|drop)|click/.test(event.type)\r\n        }(event)) {\r\n        return {\r\n            1: 1,\r\n            2: 3,\r\n            3: 1,\r\n            4: 2\r\n        } [event.button]\r\n    }\r\n    return event.which\r\n}\r\n\r\nfunction initEvent(EventClass) {\r\n    if (EventClass) {\r\n        eventsEngine.Event = EventClass;\r\n        eventsEngine.Event.prototype = EventClass.prototype\r\n    }\r\n}\r\ninitEvent(normalizeEventArguments((function(src, config) {\r\n    var _src$view;\r\n    var srcIsEvent = src instanceof eventsEngine.Event || hasWindow() && src instanceof window.Event || (null === (_src$view = src.view) || void 0 === _src$view ? void 0 : _src$view.Event) && src instanceof src.view.Event;\r\n    if (srcIsEvent) {\r\n        this.originalEvent = src;\r\n        this.type = src.type;\r\n        this.currentTarget = void 0;\r\n        if (Object.prototype.hasOwnProperty.call(src, \"isTrusted\")) {\r\n            this.isTrusted = src.isTrusted\r\n        }\r\n        this.timeStamp = src.timeStamp || Date.now()\r\n    } else {\r\n        _extends(this, src)\r\n    }\r\n    addProperty(\"which\", calculateWhich, this);\r\n    if (0 === src.type.indexOf(\"touch\")) {\r\n        delete config.pageX;\r\n        delete config.pageY\r\n    }\r\n    _extends(this, config);\r\n    this.guid = ++guid\r\n})));\r\n\r\nfunction addProperty(propName, hook, eventInstance) {\r\n    Object.defineProperty(eventInstance || eventsEngine.Event.prototype, propName, {\r\n        enumerable: true,\r\n        configurable: true,\r\n        get: function() {\r\n            return this.originalEvent && hook(this.originalEvent)\r\n        },\r\n        set: function(value) {\r\n            Object.defineProperty(this, propName, {\r\n                enumerable: true,\r\n                configurable: true,\r\n                writable: true,\r\n                value: value\r\n            })\r\n        }\r\n    })\r\n}\r\nEVENT_PROPERTIES.forEach(prop => addProperty(prop, event => event[prop]));\r\nhookTouchProps(addProperty);\r\nvar beforeSetStrategy = Callbacks();\r\nvar afterSetStrategy = Callbacks();\r\neventsEngine.set = function(engine) {\r\n    beforeSetStrategy.fire();\r\n    eventsEngine.inject(engine);\r\n    initEvent(engine.Event);\r\n    afterSetStrategy.fire()\r\n};\r\neventsEngine.subscribeGlobal = function() {\r\n    applyForEach(arguments, normalizeOnArguments((function() {\r\n        var args = arguments;\r\n        eventsEngine.on.apply(this, args);\r\n        beforeSetStrategy.add((function() {\r\n            var offArgs = Array.prototype.slice.call(args, 0);\r\n            offArgs.splice(3, 1);\r\n            eventsEngine.off.apply(this, offArgs)\r\n        }));\r\n        afterSetStrategy.add((function() {\r\n            eventsEngine.on.apply(this, args)\r\n        }))\r\n    })))\r\n};\r\neventsEngine.forcePassiveFalseEventNames = forcePassiveFalseEventNames;\r\neventsEngine.passiveEventHandlersSupported = passiveEventHandlersSupported;\r\nexport default eventsEngine;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}