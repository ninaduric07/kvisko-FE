{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/list/ui.list.base.js)\r\n * Version: 22.2.6\r\n * Build date: Tue Apr 18 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { getHeight, getOuterHeight, setHeight } from \"../../core/utils/size\";\nimport $ from \"../../core/renderer\";\nimport eventsEngine from \"../../events/core/events_engine\";\nimport { ensureDefined, noop } from \"../../core/utils/common\";\nimport { isDefined, isPlainObject } from \"../../core/utils/type\";\nimport { getImageContainer } from \"../../core/utils/icon\";\nimport { getPublicElement } from \"../../core/element\";\nimport { each } from \"../../core/utils/iterator\";\nimport { compileGetter } from \"../../core/utils/data\";\nimport { extend } from \"../../core/utils/extend\";\nimport fx from \"../../animation/fx\";\nimport { name as clickEventName } from \"../../events/click\";\nimport { end as swipeEventEnd } from \"../../events/swipe\";\nimport { nativeScrolling } from \"../../core/utils/support\";\nimport messageLocalization from \"../../localization/message\";\nimport { render } from \"../widget/utils.ink_ripple\";\nimport devices from \"../../core/devices\";\nimport ListItem from \"./item\";\nimport Button from \"../button\";\nimport { addNamespace } from \"../../events/utils/index\";\nimport { current, isMaterial } from \"../themes\";\nimport { hasWindow } from \"../../core/utils/window\";\nimport ScrollView from \"../scroll_view\";\nimport { deviceDependentOptions } from \"../scroll_view/ui.scrollable.device\";\nimport CollectionWidget from \"../collection/ui.collection_widget.live_update\";\nimport { BindableTemplate } from \"../../core/templates/bindable_template\";\nimport { Deferred } from \"../../core/utils/deferred\";\nimport DataConverterMixin from \"../shared/grouped_data_converter_mixin\";\nimport { getElementMargin } from \"../../renovation/ui/scroll_view/utils/get_element_style\";\nvar LIST_CLASS = \"dx-list\";\nvar LIST_ITEM_CLASS = \"dx-list-item\";\nvar LIST_ITEM_SELECTOR = \".\" + LIST_ITEM_CLASS;\nvar LIST_ITEM_ICON_CONTAINER_CLASS = \"dx-list-item-icon-container\";\nvar LIST_ITEM_ICON_CLASS = \"dx-list-item-icon\";\nvar LIST_GROUP_CLASS = \"dx-list-group\";\nvar LIST_GROUP_HEADER_CLASS = \"dx-list-group-header\";\nvar LIST_GROUP_BODY_CLASS = \"dx-list-group-body\";\nvar LIST_COLLAPSIBLE_GROUPS_CLASS = \"dx-list-collapsible-groups\";\nvar LIST_GROUP_COLLAPSED_CLASS = \"dx-list-group-collapsed\";\nvar LIST_GROUP_HEADER_INDICATOR_CLASS = \"dx-list-group-header-indicator\";\nvar LIST_HAS_NEXT_CLASS = \"dx-has-next\";\nvar LIST_NEXT_BUTTON_CLASS = \"dx-list-next-button\";\nvar WRAP_ITEM_TEXT_CLASS = \"dx-wrap-item-text\";\nvar SELECT_ALL_ITEM_SELECTOR = \".dx-list-select-all\";\nvar LIST_ITEM_DATA_KEY = \"dxListItemData\";\nvar LIST_FEEDBACK_SHOW_TIMEOUT = 70;\nvar groupItemsGetter = compileGetter(\"items\");\nvar _scrollView;\nexport var ListBase = CollectionWidget.inherit({\n  _activeStateUnit: [LIST_ITEM_SELECTOR, SELECT_ALL_ITEM_SELECTOR].join(\",\"),\n  _supportedKeys: function () {\n    var that = this;\n    var moveFocusPerPage = function (direction) {\n      var $item = getEdgeVisibleItem(direction);\n      var isFocusedItem = $item.is(that.option(\"focusedElement\"));\n      if (isFocusedItem) {\n        !function ($item, direction) {\n          var resultPosition = $item.position().top;\n          if (\"prev\" === direction) {\n            resultPosition = $item.position().top - getHeight(that.$element()) + getOuterHeight($item);\n          }\n          that.scrollTo(resultPosition);\n        }($item, direction);\n        $item = getEdgeVisibleItem(direction);\n      }\n      that.option(\"focusedElement\", getPublicElement($item));\n      that.scrollToItem($item);\n    };\n    function getEdgeVisibleItem(direction) {\n      var scrollTop = that.scrollTop();\n      var containerHeight = getHeight(that.$element());\n      var $item = $(that.option(\"focusedElement\"));\n      var isItemVisible = true;\n      if (!$item.length) {\n        return $();\n      }\n      while (isItemVisible) {\n        var $nextItem = $item[direction]();\n        if (!$nextItem.length) {\n          break;\n        }\n        var nextItemLocation = $nextItem.position().top + getOuterHeight($nextItem) / 2;\n        isItemVisible = nextItemLocation < containerHeight + scrollTop && nextItemLocation > scrollTop;\n        if (isItemVisible) {\n          $item = $nextItem;\n        }\n      }\n      return $item;\n    }\n    return extend(this.callBase(), {\n      leftArrow: noop,\n      rightArrow: noop,\n      pageUp: function () {\n        moveFocusPerPage(\"prev\");\n        return false;\n      },\n      pageDown: function () {\n        moveFocusPerPage(\"next\");\n        return false;\n      }\n    });\n  },\n  _getDefaultOptions: function () {\n    return extend(this.callBase(), {\n      hoverStateEnabled: true,\n      pullRefreshEnabled: false,\n      scrollingEnabled: true,\n      showScrollbar: \"onScroll\",\n      useNativeScrolling: true,\n      bounceEnabled: true,\n      scrollByContent: true,\n      scrollByThumb: false,\n      pullingDownText: messageLocalization.format(\"dxList-pullingDownText\"),\n      pulledDownText: messageLocalization.format(\"dxList-pulledDownText\"),\n      refreshingText: messageLocalization.format(\"dxList-refreshingText\"),\n      pageLoadingText: messageLocalization.format(\"dxList-pageLoadingText\"),\n      onScroll: null,\n      onPullRefresh: null,\n      onPageLoading: null,\n      pageLoadMode: \"scrollBottom\",\n      nextButtonText: messageLocalization.format(\"dxList-nextButtonText\"),\n      onItemSwipe: null,\n      grouped: false,\n      onGroupRendered: null,\n      collapsibleGroups: false,\n      groupTemplate: \"group\",\n      indicateLoading: true,\n      activeStateEnabled: true,\n      _itemAttributes: {\n        role: \"option\"\n      },\n      _listAttributes: {\n        role: \"listbox\"\n      },\n      useInkRipple: false,\n      wrapItemText: false,\n      _swipeEnabled: true,\n      showChevronExpr: function (data) {\n        return data ? data.showChevron : void 0;\n      },\n      badgeExpr: function (data) {\n        return data ? data.badge : void 0;\n      }\n    });\n  },\n  _defaultOptionsRules: function () {\n    var themeName = current();\n    return this.callBase().concat(deviceDependentOptions(), [{\n      device: function () {\n        return !nativeScrolling;\n      },\n      options: {\n        useNativeScrolling: false\n      }\n    }, {\n      device: function (_device) {\n        return !nativeScrolling && !devices.isSimulator() && \"desktop\" === devices.real().deviceType && \"generic\" === _device.platform;\n      },\n      options: {\n        showScrollbar: \"onHover\",\n        pageLoadMode: \"nextButton\"\n      }\n    }, {\n      device: function () {\n        return \"desktop\" === devices.real().deviceType && !devices.isSimulator();\n      },\n      options: {\n        focusStateEnabled: true\n      }\n    }, {\n      device: function () {\n        return isMaterial(themeName);\n      },\n      options: {\n        pullingDownText: \"\",\n        pulledDownText: \"\",\n        refreshingText: \"\",\n        pageLoadingText: \"\",\n        useInkRipple: true\n      }\n    }]);\n  },\n  _visibilityChanged: function (visible) {\n    if (visible) {\n      this._updateLoadingState(true);\n    }\n  },\n  _itemClass: function () {\n    return LIST_ITEM_CLASS;\n  },\n  _itemDataKey: function () {\n    return LIST_ITEM_DATA_KEY;\n  },\n  _itemContainer: function () {\n    return this._$container;\n  },\n  _saveSelectionChangeEvent: function (e) {\n    this._selectionChangeEventInstance = e;\n  },\n  _getSelectionChangeEvent: function () {\n    return this._selectionChangeEventInstance;\n  },\n  _refreshItemElements: function () {\n    if (!this.option(\"grouped\")) {\n      this._itemElementsCache = this._itemContainer().children(this._itemSelector());\n    } else {\n      this._itemElementsCache = this._itemContainer().children(\".\" + LIST_GROUP_CLASS).children(\".\" + LIST_GROUP_BODY_CLASS).children(this._itemSelector());\n    }\n  },\n  _modifyByChanges: function () {\n    this.callBase.apply(this, arguments);\n    this._refreshItemElements();\n    this._updateLoadingState(true);\n  },\n  reorderItem: function (itemElement, toItemElement) {\n    var promise = this.callBase(itemElement, toItemElement);\n    return promise.done(function () {\n      this._refreshItemElements();\n    });\n  },\n  deleteItem: function (itemElement) {\n    var promise = this.callBase(itemElement);\n    return promise.done(function () {\n      this._refreshItemElements();\n    });\n  },\n  _itemElements: function () {\n    return this._itemElementsCache;\n  },\n  _itemSelectHandler: function (e) {\n    if (\"single\" === this.option(\"selectionMode\") && this.isItemSelected(e.currentTarget)) {\n      return;\n    }\n    return this.callBase(e);\n  },\n  _allowDynamicItemsAppend: function () {\n    return true;\n  },\n  _init: function () {\n    this.callBase();\n    this._dataController.resetDataSourcePageIndex();\n    this._$container = this.$element();\n    this._initScrollView();\n    this._feedbackShowTimeout = LIST_FEEDBACK_SHOW_TIMEOUT;\n    this._createGroupRenderAction();\n  },\n  _scrollBottomMode: function () {\n    return \"scrollBottom\" === this.option(\"pageLoadMode\");\n  },\n  _nextButtonMode: function () {\n    return \"nextButton\" === this.option(\"pageLoadMode\");\n  },\n  _dataSourceOptions: function () {\n    var scrollBottom = this._scrollBottomMode();\n    var nextButton = this._nextButtonMode();\n    return extend(this.callBase(), {\n      paginate: ensureDefined(scrollBottom || nextButton, true)\n    });\n  },\n  _getGroupedOption: function () {\n    return this.option(\"grouped\");\n  },\n  _getGroupContainerByIndex: function (groupIndex) {\n    return this._itemContainer().find(\".\".concat(LIST_GROUP_CLASS)).eq(groupIndex).find(\".\".concat(LIST_GROUP_BODY_CLASS));\n  },\n  _dataSourceFromUrlLoadMode: function () {\n    return \"raw\";\n  },\n  _initScrollView: function () {\n    var scrollingEnabled = this.option(\"scrollingEnabled\");\n    var pullRefreshEnabled = scrollingEnabled && this.option(\"pullRefreshEnabled\");\n    var autoPagingEnabled = scrollingEnabled && this._scrollBottomMode() && !!this._dataController.getDataSource();\n    this._scrollView = this._createComponent(this.$element(), getScrollView(), {\n      height: this.option(\"height\"),\n      width: this.option(\"width\"),\n      disabled: this.option(\"disabled\") || !scrollingEnabled,\n      onScroll: this._scrollHandler.bind(this),\n      onPullDown: pullRefreshEnabled ? this._pullDownHandler.bind(this) : null,\n      onReachBottom: autoPagingEnabled ? this._scrollBottomHandler.bind(this) : null,\n      showScrollbar: this.option(\"showScrollbar\"),\n      useNative: this.option(\"useNativeScrolling\"),\n      bounceEnabled: this.option(\"bounceEnabled\"),\n      scrollByContent: this.option(\"scrollByContent\"),\n      scrollByThumb: this.option(\"scrollByThumb\"),\n      pullingDownText: this.option(\"pullingDownText\"),\n      pulledDownText: this.option(\"pulledDownText\"),\n      refreshingText: this.option(\"refreshingText\"),\n      reachBottomText: this.option(\"pageLoadingText\"),\n      useKeyboard: false\n    });\n    this._$container = $(this._scrollView.content());\n    if (this.option(\"wrapItemText\")) {\n      this._$container.addClass(WRAP_ITEM_TEXT_CLASS);\n    }\n    this._createScrollViewActions();\n  },\n  _createScrollViewActions: function () {\n    this._scrollAction = this._createActionByOption(\"onScroll\");\n    this._pullRefreshAction = this._createActionByOption(\"onPullRefresh\");\n    this._pageLoadingAction = this._createActionByOption(\"onPageLoading\");\n  },\n  _scrollHandler: function (e) {\n    this._scrollAction && this._scrollAction(e);\n  },\n  _initTemplates: function () {\n    this._templateManager.addDefaultTemplates({\n      group: new BindableTemplate(function ($container, data) {\n        if (isPlainObject(data)) {\n          if (data.key) {\n            $container.text(data.key);\n          }\n        } else {\n          $container.text(String(data));\n        }\n      }, [\"key\"], this.option(\"integrationOptions.watchMethod\"))\n    });\n    this.callBase();\n  },\n  _prepareDefaultItemTemplate: function (data, $container) {\n    this.callBase(data, $container);\n    if (data.icon) {\n      var $icon = getImageContainer(data.icon).addClass(LIST_ITEM_ICON_CLASS);\n      var $iconContainer = $(\"<div>\").addClass(LIST_ITEM_ICON_CONTAINER_CLASS);\n      $iconContainer.append($icon);\n      $container.prepend($iconContainer);\n    }\n  },\n  _getBindableFields: function () {\n    return [\"text\", \"html\", \"icon\"];\n  },\n  _updateLoadingState: function (tryLoadMore) {\n    var dataController = this._dataController;\n    var shouldLoadNextPage = this._scrollBottomMode() && tryLoadMore && !dataController.isLoading() && !this._isLastPage();\n    if (this._shouldContinueLoading(shouldLoadNextPage)) {\n      this._infiniteDataLoading();\n    } else {\n      this._scrollView.release(!shouldLoadNextPage && !dataController.isLoading());\n      this._toggleNextButton(this._shouldRenderNextButton() && !this._isLastPage());\n      this._loadIndicationSuppressed(false);\n    }\n  },\n  _shouldRenderNextButton: function () {\n    return this._nextButtonMode() && this._dataController.isLoaded();\n  },\n  _isDataSourceFirstLoadCompleted: function (newValue) {\n    if (isDefined(newValue)) {\n      this._isFirstLoadCompleted = newValue;\n    }\n    return this._isFirstLoadCompleted;\n  },\n  _dataSourceLoadingChangedHandler: function (isLoading) {\n    if (this._loadIndicationSuppressed()) {\n      return;\n    }\n    if (isLoading && this.option(\"indicateLoading\")) {\n      this._showLoadingIndicatorTimer = setTimeout(function () {\n        var isEmpty = !this._itemElements().length;\n        var shouldIndicateLoading = !isEmpty || this._isDataSourceFirstLoadCompleted();\n        if (shouldIndicateLoading) {\n          var _this$_scrollView;\n          null === (_this$_scrollView = this._scrollView) || void 0 === _this$_scrollView ? void 0 : _this$_scrollView.startLoading();\n        }\n      }.bind(this));\n    } else {\n      clearTimeout(this._showLoadingIndicatorTimer);\n      this._scrollView && this._scrollView.finishLoading();\n    }\n    if (!isLoading) {\n      this._isDataSourceFirstLoadCompleted(false);\n    }\n  },\n  _dataSourceChangedHandler: function () {\n    if (!this._shouldAppendItems() && hasWindow()) {\n      this._scrollView && this._scrollView.scrollTo(0);\n    }\n    this.callBase.apply(this, arguments);\n    this._isDataSourceFirstLoadCompleted(true);\n  },\n  _refreshContent: function () {\n    this._prepareContent();\n    this._fireContentReadyAction();\n  },\n  _hideLoadingIfLoadIndicationOff: function () {\n    if (!this.option(\"indicateLoading\")) {\n      this._dataSourceLoadingChangedHandler(false);\n    }\n  },\n  _loadIndicationSuppressed: function (value) {\n    if (!arguments.length) {\n      return this._isLoadIndicationSuppressed;\n    }\n    this._isLoadIndicationSuppressed = value;\n  },\n  _scrollViewIsFull: function () {\n    var scrollView = this._scrollView;\n    return !scrollView || getHeight(scrollView.content()) > getHeight(scrollView.container());\n  },\n  _pullDownHandler: function (e) {\n    this._pullRefreshAction(e);\n    var dataController = this._dataController;\n    if (dataController.getDataSource() && !dataController.isLoading()) {\n      this._clearSelectedItems();\n      dataController.pageIndex(0);\n      dataController.reload();\n    } else {\n      this._updateLoadingState();\n    }\n  },\n  _shouldContinueLoading: function (shouldLoadNextPage) {\n    var _this$_scrollView$scr, _this$_scrollView$scr2;\n    var isBottomReached = getHeight(this._scrollView.content()) - getHeight(this._scrollView.container()) < (null !== (_this$_scrollView$scr = null === (_this$_scrollView$scr2 = this._scrollView.scrollOffset()) || void 0 === _this$_scrollView$scr2 ? void 0 : _this$_scrollView$scr2.top) && void 0 !== _this$_scrollView$scr ? _this$_scrollView$scr : 0);\n    return shouldLoadNextPage && (!this._scrollViewIsFull() || isBottomReached);\n  },\n  _infiniteDataLoading: function () {\n    var isElementVisible = this.$element().is(\":visible\");\n    if (isElementVisible) {\n      clearTimeout(this._loadNextPageTimer);\n      this._loadNextPageTimer = setTimeout(() => {\n        this._loadNextPage();\n      });\n    }\n  },\n  _scrollBottomHandler: function (e) {\n    this._pageLoadingAction(e);\n    var dataController = this._dataController;\n    if (!dataController.isLoading() && !this._isLastPage()) {\n      this._loadNextPage();\n    } else {\n      this._updateLoadingState();\n    }\n  },\n  _renderItems: function (items) {\n    if (this.option(\"grouped\")) {\n      each(items, this._renderGroup.bind(this));\n      this._attachGroupCollapseEvent();\n      this._renderEmptyMessage();\n      if (isMaterial()) {\n        this.attachGroupHeaderInkRippleEvents();\n      }\n    } else {\n      this.callBase.apply(this, arguments);\n    }\n    this._refreshItemElements();\n    this._updateLoadingState(true);\n  },\n  _attachGroupCollapseEvent: function () {\n    var eventName = addNamespace(clickEventName, this.NAME);\n    var selector = \".\" + LIST_GROUP_HEADER_CLASS;\n    var $element = this.$element();\n    var collapsibleGroups = this.option(\"collapsibleGroups\");\n    $element.toggleClass(LIST_COLLAPSIBLE_GROUPS_CLASS, collapsibleGroups);\n    eventsEngine.off($element, eventName, selector);\n    if (collapsibleGroups) {\n      eventsEngine.on($element, eventName, selector, function (e) {\n        this._createAction(function (e) {\n          var $group = $(e.event.currentTarget).parent();\n          this._collapseGroupHandler($group);\n          if (this.option(\"focusStateEnabled\")) {\n            this.option(\"focusedElement\", getPublicElement($group.find(\".\" + LIST_ITEM_CLASS).eq(0)));\n          }\n        }.bind(this), {\n          validatingTargetName: \"element\"\n        })({\n          event: e\n        });\n      }.bind(this));\n    }\n  },\n  _collapseGroupHandler: function ($group, toggle) {\n    var deferred = new Deferred();\n    if ($group.hasClass(LIST_GROUP_COLLAPSED_CLASS) === toggle) {\n      return deferred.resolve();\n    }\n    var $groupBody = $group.children(\".\" + LIST_GROUP_BODY_CLASS);\n    var startHeight = getOuterHeight($groupBody);\n    var endHeight = 0;\n    if (0 === startHeight) {\n      setHeight($groupBody, \"auto\");\n      endHeight = getOuterHeight($groupBody);\n    }\n    $group.toggleClass(LIST_GROUP_COLLAPSED_CLASS, toggle);\n    fx.animate($groupBody, {\n      type: \"custom\",\n      from: {\n        height: startHeight\n      },\n      to: {\n        height: endHeight\n      },\n      duration: 200,\n      complete: function () {\n        this.updateDimensions();\n        this._updateLoadingState();\n        deferred.resolve();\n      }.bind(this)\n    });\n    return deferred.promise();\n  },\n  _dataSourceLoadErrorHandler: function () {\n    this._forgetNextPageLoading();\n    if (this._initialized) {\n      this._renderEmptyMessage();\n      this._updateLoadingState();\n    }\n  },\n  _initMarkup: function () {\n    this._itemElementsCache = $();\n    this.$element().addClass(LIST_CLASS);\n    this.callBase();\n    this.option(\"useInkRipple\") && this._renderInkRipple();\n    this.setAria(\"role\", this.option(\"_listAttributes\").role);\n  },\n  _renderInkRipple: function () {\n    this._inkRipple = render();\n  },\n  _toggleActiveState: function ($element, value, e) {\n    this.callBase.apply(this, arguments);\n    var that = this;\n    if (!this._inkRipple) {\n      return;\n    }\n    var config = {\n      element: $element,\n      event: e\n    };\n    if (value) {\n      if (isMaterial()) {\n        this._inkRippleTimer = setTimeout(function () {\n          that._inkRipple.showWave(config);\n        }, LIST_FEEDBACK_SHOW_TIMEOUT / 2);\n      } else {\n        that._inkRipple.showWave(config);\n      }\n    } else {\n      clearTimeout(this._inkRippleTimer);\n      this._inkRipple.hideWave(config);\n    }\n  },\n  _postprocessRenderItem: function (args) {\n    this._refreshItemElements();\n    this.callBase.apply(this, arguments);\n    if (this.option(\"_swipeEnabled\")) {\n      this._attachSwipeEvent($(args.itemElement));\n    }\n  },\n  _attachSwipeEvent: function ($itemElement) {\n    var endEventName = addNamespace(swipeEventEnd, this.NAME);\n    eventsEngine.on($itemElement, endEventName, this._itemSwipeEndHandler.bind(this));\n  },\n  _itemSwipeEndHandler: function (e) {\n    this._itemDXEventHandler(e, \"onItemSwipe\", {\n      direction: e.offset < 0 ? \"left\" : \"right\"\n    });\n  },\n  _nextButtonHandler: function (e) {\n    this._pageLoadingAction(e);\n    var dataController = this._dataController;\n    if (dataController.getDataSource() && !dataController.isLoading()) {\n      this._scrollView.toggleLoading(true);\n      this._$nextButton.detach();\n      this._loadIndicationSuppressed(true);\n      this._loadNextPage();\n    }\n  },\n  _renderGroup: function (index, group) {\n    var $groupElement = $(\"<div>\").addClass(LIST_GROUP_CLASS).appendTo(this._itemContainer());\n    var $groupHeaderElement = $(\"<div>\").addClass(LIST_GROUP_HEADER_CLASS).appendTo($groupElement);\n    var groupTemplateName = this.option(\"groupTemplate\");\n    var groupTemplate = this._getTemplate(group.template || groupTemplateName, group, index, $groupHeaderElement);\n    var renderArgs = {\n      index: index,\n      itemData: group,\n      container: getPublicElement($groupHeaderElement)\n    };\n    this._createItemByTemplate(groupTemplate, renderArgs);\n    if (isMaterial()) {\n      $(\"<div>\").addClass(LIST_GROUP_HEADER_INDICATOR_CLASS).prependTo($groupHeaderElement);\n    }\n    this._renderingGroupIndex = index;\n    var $groupBody = $(\"<div>\").addClass(LIST_GROUP_BODY_CLASS).appendTo($groupElement);\n    each(groupItemsGetter(group) || [], function (itemIndex, item) {\n      this._renderItem({\n        group: index,\n        item: itemIndex\n      }, item, $groupBody);\n    }.bind(this));\n    this._groupRenderAction({\n      groupElement: getPublicElement($groupElement),\n      groupIndex: index,\n      groupData: group\n    });\n  },\n  downInkRippleHandler: function (e) {\n    this._toggleActiveState($(e.currentTarget), true, e);\n  },\n  upInkRippleHandler: function (e) {\n    this._toggleActiveState($(e.currentTarget), false);\n  },\n  attachGroupHeaderInkRippleEvents: function () {\n    var selector = \".\" + LIST_GROUP_HEADER_CLASS;\n    var $element = this.$element();\n    this._downInkRippleHandler = this._downInkRippleHandler || this.downInkRippleHandler.bind(this);\n    this._upInkRippleHandler = this._upInkRippleHandler || this.upInkRippleHandler.bind(this);\n    var downArguments = [$element, \"dxpointerdown\", selector, this._downInkRippleHandler];\n    var upArguments = [$element, \"dxpointerup dxpointerout\", selector, this._upInkRippleHandler];\n    eventsEngine.off(...downArguments);\n    eventsEngine.on(...downArguments);\n    eventsEngine.off(...upArguments);\n    eventsEngine.on(...upArguments);\n  },\n  _createGroupRenderAction: function () {\n    this._groupRenderAction = this._createActionByOption(\"onGroupRendered\");\n  },\n  _clean: function () {\n    clearTimeout(this._inkRippleTimer);\n    if (this._$nextButton) {\n      this._$nextButton.remove();\n      this._$nextButton = null;\n    }\n    this.callBase.apply(this, arguments);\n  },\n  _dispose: function () {\n    this._isDataSourceFirstLoadCompleted(false);\n    clearTimeout(this._holdTimer);\n    clearTimeout(this._loadNextPageTimer);\n    clearTimeout(this._showLoadingIndicatorTimer);\n    this.callBase();\n  },\n  _toggleDisabledState: function (value) {\n    this.callBase(value);\n    this._scrollView.option(\"disabled\", value || !this.option(\"scrollingEnabled\"));\n  },\n  _toggleNextButton: function (value) {\n    var dataController = this._dataController;\n    var $nextButton = this._getNextButton();\n    this.$element().toggleClass(LIST_HAS_NEXT_CLASS, value);\n    if (value && dataController.isLoaded()) {\n      $nextButton.appendTo(this._itemContainer());\n    }\n    if (!value) {\n      $nextButton.detach();\n    }\n  },\n  _getNextButton: function () {\n    if (!this._$nextButton) {\n      this._$nextButton = this._createNextButton();\n    }\n    return this._$nextButton;\n  },\n  _createNextButton: function () {\n    var $result = $(\"<div>\").addClass(LIST_NEXT_BUTTON_CLASS);\n    var $button = $(\"<div>\").appendTo($result);\n    this._createComponent($button, Button, {\n      text: this.option(\"nextButtonText\"),\n      onClick: this._nextButtonHandler.bind(this),\n      type: isMaterial() ? \"default\" : void 0,\n      integrationOptions: {}\n    });\n    return $result;\n  },\n  _moveFocus: function () {\n    this.callBase.apply(this, arguments);\n    this.scrollToItem(this.option(\"focusedElement\"));\n  },\n  _refresh: function () {\n    if (!hasWindow()) {\n      this.callBase();\n    } else {\n      var scrollTop = this._scrollView.scrollTop();\n      this.callBase();\n      scrollTop && this._scrollView.scrollTo(scrollTop);\n    }\n  },\n  _optionChanged: function (args) {\n    switch (args.name) {\n      case \"pageLoadMode\":\n        this._toggleNextButton(args.value);\n        this._initScrollView();\n        break;\n      case \"dataSource\":\n        this.callBase(args);\n        this._initScrollView();\n        this._isDataSourceFirstLoadCompleted(false);\n        break;\n      case \"items\":\n        this.callBase(args);\n        this._isDataSourceFirstLoadCompleted(false);\n        break;\n      case \"pullingDownText\":\n      case \"pulledDownText\":\n      case \"refreshingText\":\n      case \"pageLoadingText\":\n      case \"showScrollbar\":\n      case \"bounceEnabled\":\n      case \"scrollByContent\":\n      case \"scrollByThumb\":\n      case \"useNativeScrolling\":\n      case \"scrollingEnabled\":\n      case \"pullRefreshEnabled\":\n        this._initScrollView();\n        this._updateLoadingState();\n        break;\n      case \"nextButtonText\":\n      case \"onItemSwipe\":\n      case \"useInkRipple\":\n        this._invalidate();\n        break;\n      case \"onScroll\":\n      case \"onPullRefresh\":\n      case \"onPageLoading\":\n        this._createScrollViewActions();\n        break;\n      case \"grouped\":\n      case \"collapsibleGroups\":\n      case \"groupTemplate\":\n        this._invalidate();\n        break;\n      case \"wrapItemText\":\n        this._$container.toggleClass(WRAP_ITEM_TEXT_CLASS, args.value);\n        break;\n      case \"onGroupRendered\":\n        this._createGroupRenderAction();\n        break;\n      case \"width\":\n      case \"height\":\n        this.callBase(args);\n        this._scrollView.option(args.name, args.value);\n        this._scrollView.update();\n        break;\n      case \"indicateLoading\":\n        this._hideLoadingIfLoadIndicationOff();\n        break;\n      case \"visible\":\n        this.callBase(args);\n        this._scrollView.update();\n        break;\n      case \"rtlEnabled\":\n        this._initScrollView();\n        this.callBase(args);\n        break;\n      case \"showChevronExpr\":\n      case \"badgeExpr\":\n        this._invalidate();\n        break;\n      case \"_swipeEnabled\":\n      case \"_listAttributes\":\n        break;\n      default:\n        this.callBase(args);\n    }\n  },\n  _extendActionArgs: function ($itemElement) {\n    if (!this.option(\"grouped\")) {\n      return this.callBase($itemElement);\n    }\n    var $group = $itemElement.closest(\".\" + LIST_GROUP_CLASS);\n    var $item = $group.find(\".\" + LIST_ITEM_CLASS);\n    return extend(this.callBase($itemElement), {\n      itemIndex: {\n        group: $group.index(),\n        item: $item.index($itemElement)\n      }\n    });\n  },\n  expandGroup: function (groupIndex) {\n    var deferred = new Deferred();\n    var $group = this._itemContainer().find(\".\" + LIST_GROUP_CLASS).eq(groupIndex);\n    this._collapseGroupHandler($group, false).done(function () {\n      deferred.resolveWith(this);\n    }.bind(this));\n    return deferred.promise();\n  },\n  collapseGroup: function (groupIndex) {\n    var deferred = new Deferred();\n    var $group = this._itemContainer().find(\".\" + LIST_GROUP_CLASS).eq(groupIndex);\n    this._collapseGroupHandler($group, true).done(function () {\n      deferred.resolveWith(this);\n    }.bind(this));\n    return deferred;\n  },\n  updateDimensions: function () {\n    var that = this;\n    var deferred = new Deferred();\n    if (that._scrollView) {\n      that._scrollView.update().done(function () {\n        !that._scrollViewIsFull() && that._updateLoadingState(true);\n        deferred.resolveWith(that);\n      });\n    } else {\n      deferred.resolveWith(that);\n    }\n    return deferred.promise();\n  },\n  reload: function () {\n    this.callBase();\n    this.scrollTo(0);\n    this._pullDownHandler();\n  },\n  repaint: function () {\n    this.scrollTo(0);\n    this.callBase();\n  },\n  scrollTop: function () {\n    return this._scrollView.scrollOffset().top;\n  },\n  clientHeight: function () {\n    return this._scrollView.clientHeight();\n  },\n  scrollHeight: function () {\n    return this._scrollView.scrollHeight();\n  },\n  scrollBy: function (distance) {\n    this._scrollView.scrollBy(distance);\n  },\n  scrollTo: function (location) {\n    this._scrollView.scrollTo(location);\n  },\n  scrollToItem: function (itemElement) {\n    var $item = this._editStrategy.getItemElement(itemElement);\n    var item = null === $item || void 0 === $item ? void 0 : $item.get(0);\n    this._scrollView.scrollToElement(item, {\n      bottom: getElementMargin(item, \"bottom\")\n    });\n  },\n  _dimensionChanged: function () {\n    this.updateDimensions();\n  }\n}).include(DataConverterMixin);\nListBase.ItemClass = ListItem;\nfunction getScrollView() {\n  return _scrollView || ScrollView;\n}\nexport function setScrollView(value) {\n  _scrollView = value;\n}","map":{"version":3,"names":["getHeight","getOuterHeight","setHeight","$","eventsEngine","ensureDefined","noop","isDefined","isPlainObject","getImageContainer","getPublicElement","each","compileGetter","extend","fx","name","clickEventName","end","swipeEventEnd","nativeScrolling","messageLocalization","render","devices","ListItem","Button","addNamespace","current","isMaterial","hasWindow","ScrollView","deviceDependentOptions","CollectionWidget","BindableTemplate","Deferred","DataConverterMixin","getElementMargin","LIST_CLASS","LIST_ITEM_CLASS","LIST_ITEM_SELECTOR","LIST_ITEM_ICON_CONTAINER_CLASS","LIST_ITEM_ICON_CLASS","LIST_GROUP_CLASS","LIST_GROUP_HEADER_CLASS","LIST_GROUP_BODY_CLASS","LIST_COLLAPSIBLE_GROUPS_CLASS","LIST_GROUP_COLLAPSED_CLASS","LIST_GROUP_HEADER_INDICATOR_CLASS","LIST_HAS_NEXT_CLASS","LIST_NEXT_BUTTON_CLASS","WRAP_ITEM_TEXT_CLASS","SELECT_ALL_ITEM_SELECTOR","LIST_ITEM_DATA_KEY","LIST_FEEDBACK_SHOW_TIMEOUT","groupItemsGetter","_scrollView","ListBase","inherit","_activeStateUnit","join","_supportedKeys","that","moveFocusPerPage","direction","$item","getEdgeVisibleItem","isFocusedItem","is","option","resultPosition","position","top","$element","scrollTo","scrollToItem","scrollTop","containerHeight","isItemVisible","length","$nextItem","nextItemLocation","callBase","leftArrow","rightArrow","pageUp","pageDown","_getDefaultOptions","hoverStateEnabled","pullRefreshEnabled","scrollingEnabled","showScrollbar","useNativeScrolling","bounceEnabled","scrollByContent","scrollByThumb","pullingDownText","format","pulledDownText","refreshingText","pageLoadingText","onScroll","onPullRefresh","onPageLoading","pageLoadMode","nextButtonText","onItemSwipe","grouped","onGroupRendered","collapsibleGroups","groupTemplate","indicateLoading","activeStateEnabled","_itemAttributes","role","_listAttributes","useInkRipple","wrapItemText","_swipeEnabled","showChevronExpr","data","showChevron","badgeExpr","badge","_defaultOptionsRules","themeName","concat","device","options","_device","isSimulator","real","deviceType","platform","focusStateEnabled","_visibilityChanged","visible","_updateLoadingState","_itemClass","_itemDataKey","_itemContainer","_$container","_saveSelectionChangeEvent","e","_selectionChangeEventInstance","_getSelectionChangeEvent","_refreshItemElements","_itemElementsCache","children","_itemSelector","_modifyByChanges","apply","arguments","reorderItem","itemElement","toItemElement","promise","done","deleteItem","_itemElements","_itemSelectHandler","isItemSelected","currentTarget","_allowDynamicItemsAppend","_init","_dataController","resetDataSourcePageIndex","_initScrollView","_feedbackShowTimeout","_createGroupRenderAction","_scrollBottomMode","_nextButtonMode","_dataSourceOptions","scrollBottom","nextButton","paginate","_getGroupedOption","_getGroupContainerByIndex","groupIndex","find","eq","_dataSourceFromUrlLoadMode","autoPagingEnabled","getDataSource","_createComponent","getScrollView","height","width","disabled","_scrollHandler","bind","onPullDown","_pullDownHandler","onReachBottom","_scrollBottomHandler","useNative","reachBottomText","useKeyboard","content","addClass","_createScrollViewActions","_scrollAction","_createActionByOption","_pullRefreshAction","_pageLoadingAction","_initTemplates","_templateManager","addDefaultTemplates","group","$container","key","text","String","_prepareDefaultItemTemplate","icon","$icon","$iconContainer","append","prepend","_getBindableFields","tryLoadMore","dataController","shouldLoadNextPage","isLoading","_isLastPage","_shouldContinueLoading","_infiniteDataLoading","release","_toggleNextButton","_shouldRenderNextButton","_loadIndicationSuppressed","isLoaded","_isDataSourceFirstLoadCompleted","newValue","_isFirstLoadCompleted","_dataSourceLoadingChangedHandler","_showLoadingIndicatorTimer","setTimeout","isEmpty","shouldIndicateLoading","_this$_scrollView","startLoading","clearTimeout","finishLoading","_dataSourceChangedHandler","_shouldAppendItems","_refreshContent","_prepareContent","_fireContentReadyAction","_hideLoadingIfLoadIndicationOff","value","_isLoadIndicationSuppressed","_scrollViewIsFull","scrollView","container","_clearSelectedItems","pageIndex","reload","_this$_scrollView$scr","_this$_scrollView$scr2","isBottomReached","scrollOffset","isElementVisible","_loadNextPageTimer","_loadNextPage","_renderItems","items","_renderGroup","_attachGroupCollapseEvent","_renderEmptyMessage","attachGroupHeaderInkRippleEvents","eventName","NAME","selector","toggleClass","off","on","_createAction","$group","event","parent","_collapseGroupHandler","validatingTargetName","toggle","deferred","hasClass","resolve","$groupBody","startHeight","endHeight","animate","type","from","to","duration","complete","updateDimensions","_dataSourceLoadErrorHandler","_forgetNextPageLoading","_initialized","_initMarkup","_renderInkRipple","setAria","_inkRipple","_toggleActiveState","config","element","_inkRippleTimer","showWave","hideWave","_postprocessRenderItem","args","_attachSwipeEvent","$itemElement","endEventName","_itemSwipeEndHandler","_itemDXEventHandler","offset","_nextButtonHandler","toggleLoading","_$nextButton","detach","index","$groupElement","appendTo","$groupHeaderElement","groupTemplateName","_getTemplate","template","renderArgs","itemData","_createItemByTemplate","prependTo","_renderingGroupIndex","itemIndex","item","_renderItem","_groupRenderAction","groupElement","groupData","downInkRippleHandler","upInkRippleHandler","_downInkRippleHandler","_upInkRippleHandler","downArguments","upArguments","_clean","remove","_dispose","_holdTimer","_toggleDisabledState","$nextButton","_getNextButton","_createNextButton","$result","$button","onClick","integrationOptions","_moveFocus","_refresh","_optionChanged","_invalidate","update","_extendActionArgs","closest","expandGroup","resolveWith","collapseGroup","repaint","clientHeight","scrollHeight","scrollBy","distance","location","_editStrategy","getItemElement","get","scrollToElement","bottom","_dimensionChanged","include","ItemClass","setScrollView"],"sources":["C:/Users/ninad/OneDrive/Radna površina/zavrsni/client/node_modules/devextreme/esm/ui/list/ui.list.base.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/list/ui.list.base.js)\r\n * Version: 22.2.6\r\n * Build date: Tue Apr 18 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getHeight,\r\n    getOuterHeight,\r\n    setHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    ensureDefined,\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    isDefined,\r\n    isPlainObject\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    getImageContainer\r\n} from \"../../core/utils/icon\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../core/element\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    compileGetter\r\n} from \"../../core/utils/data\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport fx from \"../../animation/fx\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nimport {\r\n    end as swipeEventEnd\r\n} from \"../../events/swipe\";\r\nimport {\r\n    nativeScrolling\r\n} from \"../../core/utils/support\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    render\r\n} from \"../widget/utils.ink_ripple\";\r\nimport devices from \"../../core/devices\";\r\nimport ListItem from \"./item\";\r\nimport Button from \"../button\";\r\nimport {\r\n    addNamespace\r\n} from \"../../events/utils/index\";\r\nimport {\r\n    current,\r\n    isMaterial\r\n} from \"../themes\";\r\nimport {\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nimport ScrollView from \"../scroll_view\";\r\nimport {\r\n    deviceDependentOptions\r\n} from \"../scroll_view/ui.scrollable.device\";\r\nimport CollectionWidget from \"../collection/ui.collection_widget.live_update\";\r\nimport {\r\n    BindableTemplate\r\n} from \"../../core/templates/bindable_template\";\r\nimport {\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport DataConverterMixin from \"../shared/grouped_data_converter_mixin\";\r\nimport {\r\n    getElementMargin\r\n} from \"../../renovation/ui/scroll_view/utils/get_element_style\";\r\nvar LIST_CLASS = \"dx-list\";\r\nvar LIST_ITEM_CLASS = \"dx-list-item\";\r\nvar LIST_ITEM_SELECTOR = \".\" + LIST_ITEM_CLASS;\r\nvar LIST_ITEM_ICON_CONTAINER_CLASS = \"dx-list-item-icon-container\";\r\nvar LIST_ITEM_ICON_CLASS = \"dx-list-item-icon\";\r\nvar LIST_GROUP_CLASS = \"dx-list-group\";\r\nvar LIST_GROUP_HEADER_CLASS = \"dx-list-group-header\";\r\nvar LIST_GROUP_BODY_CLASS = \"dx-list-group-body\";\r\nvar LIST_COLLAPSIBLE_GROUPS_CLASS = \"dx-list-collapsible-groups\";\r\nvar LIST_GROUP_COLLAPSED_CLASS = \"dx-list-group-collapsed\";\r\nvar LIST_GROUP_HEADER_INDICATOR_CLASS = \"dx-list-group-header-indicator\";\r\nvar LIST_HAS_NEXT_CLASS = \"dx-has-next\";\r\nvar LIST_NEXT_BUTTON_CLASS = \"dx-list-next-button\";\r\nvar WRAP_ITEM_TEXT_CLASS = \"dx-wrap-item-text\";\r\nvar SELECT_ALL_ITEM_SELECTOR = \".dx-list-select-all\";\r\nvar LIST_ITEM_DATA_KEY = \"dxListItemData\";\r\nvar LIST_FEEDBACK_SHOW_TIMEOUT = 70;\r\nvar groupItemsGetter = compileGetter(\"items\");\r\nvar _scrollView;\r\nexport var ListBase = CollectionWidget.inherit({\r\n    _activeStateUnit: [LIST_ITEM_SELECTOR, SELECT_ALL_ITEM_SELECTOR].join(\",\"),\r\n    _supportedKeys: function() {\r\n        var that = this;\r\n        var moveFocusPerPage = function(direction) {\r\n            var $item = getEdgeVisibleItem(direction);\r\n            var isFocusedItem = $item.is(that.option(\"focusedElement\"));\r\n            if (isFocusedItem) {\r\n                ! function($item, direction) {\r\n                    var resultPosition = $item.position().top;\r\n                    if (\"prev\" === direction) {\r\n                        resultPosition = $item.position().top - getHeight(that.$element()) + getOuterHeight($item)\r\n                    }\r\n                    that.scrollTo(resultPosition)\r\n                }($item, direction);\r\n                $item = getEdgeVisibleItem(direction)\r\n            }\r\n            that.option(\"focusedElement\", getPublicElement($item));\r\n            that.scrollToItem($item)\r\n        };\r\n\r\n        function getEdgeVisibleItem(direction) {\r\n            var scrollTop = that.scrollTop();\r\n            var containerHeight = getHeight(that.$element());\r\n            var $item = $(that.option(\"focusedElement\"));\r\n            var isItemVisible = true;\r\n            if (!$item.length) {\r\n                return $()\r\n            }\r\n            while (isItemVisible) {\r\n                var $nextItem = $item[direction]();\r\n                if (!$nextItem.length) {\r\n                    break\r\n                }\r\n                var nextItemLocation = $nextItem.position().top + getOuterHeight($nextItem) / 2;\r\n                isItemVisible = nextItemLocation < containerHeight + scrollTop && nextItemLocation > scrollTop;\r\n                if (isItemVisible) {\r\n                    $item = $nextItem\r\n                }\r\n            }\r\n            return $item\r\n        }\r\n        return extend(this.callBase(), {\r\n            leftArrow: noop,\r\n            rightArrow: noop,\r\n            pageUp: function() {\r\n                moveFocusPerPage(\"prev\");\r\n                return false\r\n            },\r\n            pageDown: function() {\r\n                moveFocusPerPage(\"next\");\r\n                return false\r\n            }\r\n        })\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            hoverStateEnabled: true,\r\n            pullRefreshEnabled: false,\r\n            scrollingEnabled: true,\r\n            showScrollbar: \"onScroll\",\r\n            useNativeScrolling: true,\r\n            bounceEnabled: true,\r\n            scrollByContent: true,\r\n            scrollByThumb: false,\r\n            pullingDownText: messageLocalization.format(\"dxList-pullingDownText\"),\r\n            pulledDownText: messageLocalization.format(\"dxList-pulledDownText\"),\r\n            refreshingText: messageLocalization.format(\"dxList-refreshingText\"),\r\n            pageLoadingText: messageLocalization.format(\"dxList-pageLoadingText\"),\r\n            onScroll: null,\r\n            onPullRefresh: null,\r\n            onPageLoading: null,\r\n            pageLoadMode: \"scrollBottom\",\r\n            nextButtonText: messageLocalization.format(\"dxList-nextButtonText\"),\r\n            onItemSwipe: null,\r\n            grouped: false,\r\n            onGroupRendered: null,\r\n            collapsibleGroups: false,\r\n            groupTemplate: \"group\",\r\n            indicateLoading: true,\r\n            activeStateEnabled: true,\r\n            _itemAttributes: {\r\n                role: \"option\"\r\n            },\r\n            _listAttributes: {\r\n                role: \"listbox\"\r\n            },\r\n            useInkRipple: false,\r\n            wrapItemText: false,\r\n            _swipeEnabled: true,\r\n            showChevronExpr: function(data) {\r\n                return data ? data.showChevron : void 0\r\n            },\r\n            badgeExpr: function(data) {\r\n                return data ? data.badge : void 0\r\n            }\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        var themeName = current();\r\n        return this.callBase().concat(deviceDependentOptions(), [{\r\n            device: function() {\r\n                return !nativeScrolling\r\n            },\r\n            options: {\r\n                useNativeScrolling: false\r\n            }\r\n        }, {\r\n            device: function(_device) {\r\n                return !nativeScrolling && !devices.isSimulator() && \"desktop\" === devices.real().deviceType && \"generic\" === _device.platform\r\n            },\r\n            options: {\r\n                showScrollbar: \"onHover\",\r\n                pageLoadMode: \"nextButton\"\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return \"desktop\" === devices.real().deviceType && !devices.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return isMaterial(themeName)\r\n            },\r\n            options: {\r\n                pullingDownText: \"\",\r\n                pulledDownText: \"\",\r\n                refreshingText: \"\",\r\n                pageLoadingText: \"\",\r\n                useInkRipple: true\r\n            }\r\n        }])\r\n    },\r\n    _visibilityChanged: function(visible) {\r\n        if (visible) {\r\n            this._updateLoadingState(true)\r\n        }\r\n    },\r\n    _itemClass: function() {\r\n        return LIST_ITEM_CLASS\r\n    },\r\n    _itemDataKey: function() {\r\n        return LIST_ITEM_DATA_KEY\r\n    },\r\n    _itemContainer: function() {\r\n        return this._$container\r\n    },\r\n    _saveSelectionChangeEvent: function(e) {\r\n        this._selectionChangeEventInstance = e\r\n    },\r\n    _getSelectionChangeEvent: function() {\r\n        return this._selectionChangeEventInstance\r\n    },\r\n    _refreshItemElements: function() {\r\n        if (!this.option(\"grouped\")) {\r\n            this._itemElementsCache = this._itemContainer().children(this._itemSelector())\r\n        } else {\r\n            this._itemElementsCache = this._itemContainer().children(\".\" + LIST_GROUP_CLASS).children(\".\" + LIST_GROUP_BODY_CLASS).children(this._itemSelector())\r\n        }\r\n    },\r\n    _modifyByChanges: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._refreshItemElements();\r\n        this._updateLoadingState(true)\r\n    },\r\n    reorderItem: function(itemElement, toItemElement) {\r\n        var promise = this.callBase(itemElement, toItemElement);\r\n        return promise.done((function() {\r\n            this._refreshItemElements()\r\n        }))\r\n    },\r\n    deleteItem: function(itemElement) {\r\n        var promise = this.callBase(itemElement);\r\n        return promise.done((function() {\r\n            this._refreshItemElements()\r\n        }))\r\n    },\r\n    _itemElements: function() {\r\n        return this._itemElementsCache\r\n    },\r\n    _itemSelectHandler: function(e) {\r\n        if (\"single\" === this.option(\"selectionMode\") && this.isItemSelected(e.currentTarget)) {\r\n            return\r\n        }\r\n        return this.callBase(e)\r\n    },\r\n    _allowDynamicItemsAppend: function() {\r\n        return true\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this._dataController.resetDataSourcePageIndex();\r\n        this._$container = this.$element();\r\n        this._initScrollView();\r\n        this._feedbackShowTimeout = LIST_FEEDBACK_SHOW_TIMEOUT;\r\n        this._createGroupRenderAction()\r\n    },\r\n    _scrollBottomMode: function() {\r\n        return \"scrollBottom\" === this.option(\"pageLoadMode\")\r\n    },\r\n    _nextButtonMode: function() {\r\n        return \"nextButton\" === this.option(\"pageLoadMode\")\r\n    },\r\n    _dataSourceOptions: function() {\r\n        var scrollBottom = this._scrollBottomMode();\r\n        var nextButton = this._nextButtonMode();\r\n        return extend(this.callBase(), {\r\n            paginate: ensureDefined(scrollBottom || nextButton, true)\r\n        })\r\n    },\r\n    _getGroupedOption: function() {\r\n        return this.option(\"grouped\")\r\n    },\r\n    _getGroupContainerByIndex: function(groupIndex) {\r\n        return this._itemContainer().find(\".\".concat(LIST_GROUP_CLASS)).eq(groupIndex).find(\".\".concat(LIST_GROUP_BODY_CLASS))\r\n    },\r\n    _dataSourceFromUrlLoadMode: function() {\r\n        return \"raw\"\r\n    },\r\n    _initScrollView: function() {\r\n        var scrollingEnabled = this.option(\"scrollingEnabled\");\r\n        var pullRefreshEnabled = scrollingEnabled && this.option(\"pullRefreshEnabled\");\r\n        var autoPagingEnabled = scrollingEnabled && this._scrollBottomMode() && !!this._dataController.getDataSource();\r\n        this._scrollView = this._createComponent(this.$element(), getScrollView(), {\r\n            height: this.option(\"height\"),\r\n            width: this.option(\"width\"),\r\n            disabled: this.option(\"disabled\") || !scrollingEnabled,\r\n            onScroll: this._scrollHandler.bind(this),\r\n            onPullDown: pullRefreshEnabled ? this._pullDownHandler.bind(this) : null,\r\n            onReachBottom: autoPagingEnabled ? this._scrollBottomHandler.bind(this) : null,\r\n            showScrollbar: this.option(\"showScrollbar\"),\r\n            useNative: this.option(\"useNativeScrolling\"),\r\n            bounceEnabled: this.option(\"bounceEnabled\"),\r\n            scrollByContent: this.option(\"scrollByContent\"),\r\n            scrollByThumb: this.option(\"scrollByThumb\"),\r\n            pullingDownText: this.option(\"pullingDownText\"),\r\n            pulledDownText: this.option(\"pulledDownText\"),\r\n            refreshingText: this.option(\"refreshingText\"),\r\n            reachBottomText: this.option(\"pageLoadingText\"),\r\n            useKeyboard: false\r\n        });\r\n        this._$container = $(this._scrollView.content());\r\n        if (this.option(\"wrapItemText\")) {\r\n            this._$container.addClass(WRAP_ITEM_TEXT_CLASS)\r\n        }\r\n        this._createScrollViewActions()\r\n    },\r\n    _createScrollViewActions: function() {\r\n        this._scrollAction = this._createActionByOption(\"onScroll\");\r\n        this._pullRefreshAction = this._createActionByOption(\"onPullRefresh\");\r\n        this._pageLoadingAction = this._createActionByOption(\"onPageLoading\")\r\n    },\r\n    _scrollHandler: function(e) {\r\n        this._scrollAction && this._scrollAction(e)\r\n    },\r\n    _initTemplates: function() {\r\n        this._templateManager.addDefaultTemplates({\r\n            group: new BindableTemplate((function($container, data) {\r\n                if (isPlainObject(data)) {\r\n                    if (data.key) {\r\n                        $container.text(data.key)\r\n                    }\r\n                } else {\r\n                    $container.text(String(data))\r\n                }\r\n            }), [\"key\"], this.option(\"integrationOptions.watchMethod\"))\r\n        });\r\n        this.callBase()\r\n    },\r\n    _prepareDefaultItemTemplate: function(data, $container) {\r\n        this.callBase(data, $container);\r\n        if (data.icon) {\r\n            var $icon = getImageContainer(data.icon).addClass(LIST_ITEM_ICON_CLASS);\r\n            var $iconContainer = $(\"<div>\").addClass(LIST_ITEM_ICON_CONTAINER_CLASS);\r\n            $iconContainer.append($icon);\r\n            $container.prepend($iconContainer)\r\n        }\r\n    },\r\n    _getBindableFields: function() {\r\n        return [\"text\", \"html\", \"icon\"]\r\n    },\r\n    _updateLoadingState: function(tryLoadMore) {\r\n        var dataController = this._dataController;\r\n        var shouldLoadNextPage = this._scrollBottomMode() && tryLoadMore && !dataController.isLoading() && !this._isLastPage();\r\n        if (this._shouldContinueLoading(shouldLoadNextPage)) {\r\n            this._infiniteDataLoading()\r\n        } else {\r\n            this._scrollView.release(!shouldLoadNextPage && !dataController.isLoading());\r\n            this._toggleNextButton(this._shouldRenderNextButton() && !this._isLastPage());\r\n            this._loadIndicationSuppressed(false)\r\n        }\r\n    },\r\n    _shouldRenderNextButton: function() {\r\n        return this._nextButtonMode() && this._dataController.isLoaded()\r\n    },\r\n    _isDataSourceFirstLoadCompleted: function(newValue) {\r\n        if (isDefined(newValue)) {\r\n            this._isFirstLoadCompleted = newValue\r\n        }\r\n        return this._isFirstLoadCompleted\r\n    },\r\n    _dataSourceLoadingChangedHandler: function(isLoading) {\r\n        if (this._loadIndicationSuppressed()) {\r\n            return\r\n        }\r\n        if (isLoading && this.option(\"indicateLoading\")) {\r\n            this._showLoadingIndicatorTimer = setTimeout(function() {\r\n                var isEmpty = !this._itemElements().length;\r\n                var shouldIndicateLoading = !isEmpty || this._isDataSourceFirstLoadCompleted();\r\n                if (shouldIndicateLoading) {\r\n                    var _this$_scrollView;\r\n                    null === (_this$_scrollView = this._scrollView) || void 0 === _this$_scrollView ? void 0 : _this$_scrollView.startLoading()\r\n                }\r\n            }.bind(this))\r\n        } else {\r\n            clearTimeout(this._showLoadingIndicatorTimer);\r\n            this._scrollView && this._scrollView.finishLoading()\r\n        }\r\n        if (!isLoading) {\r\n            this._isDataSourceFirstLoadCompleted(false)\r\n        }\r\n    },\r\n    _dataSourceChangedHandler: function() {\r\n        if (!this._shouldAppendItems() && hasWindow()) {\r\n            this._scrollView && this._scrollView.scrollTo(0)\r\n        }\r\n        this.callBase.apply(this, arguments);\r\n        this._isDataSourceFirstLoadCompleted(true)\r\n    },\r\n    _refreshContent: function() {\r\n        this._prepareContent();\r\n        this._fireContentReadyAction()\r\n    },\r\n    _hideLoadingIfLoadIndicationOff: function() {\r\n        if (!this.option(\"indicateLoading\")) {\r\n            this._dataSourceLoadingChangedHandler(false)\r\n        }\r\n    },\r\n    _loadIndicationSuppressed: function(value) {\r\n        if (!arguments.length) {\r\n            return this._isLoadIndicationSuppressed\r\n        }\r\n        this._isLoadIndicationSuppressed = value\r\n    },\r\n    _scrollViewIsFull: function() {\r\n        var scrollView = this._scrollView;\r\n        return !scrollView || getHeight(scrollView.content()) > getHeight(scrollView.container())\r\n    },\r\n    _pullDownHandler: function(e) {\r\n        this._pullRefreshAction(e);\r\n        var dataController = this._dataController;\r\n        if (dataController.getDataSource() && !dataController.isLoading()) {\r\n            this._clearSelectedItems();\r\n            dataController.pageIndex(0);\r\n            dataController.reload()\r\n        } else {\r\n            this._updateLoadingState()\r\n        }\r\n    },\r\n    _shouldContinueLoading: function(shouldLoadNextPage) {\r\n        var _this$_scrollView$scr, _this$_scrollView$scr2;\r\n        var isBottomReached = getHeight(this._scrollView.content()) - getHeight(this._scrollView.container()) < (null !== (_this$_scrollView$scr = null === (_this$_scrollView$scr2 = this._scrollView.scrollOffset()) || void 0 === _this$_scrollView$scr2 ? void 0 : _this$_scrollView$scr2.top) && void 0 !== _this$_scrollView$scr ? _this$_scrollView$scr : 0);\r\n        return shouldLoadNextPage && (!this._scrollViewIsFull() || isBottomReached)\r\n    },\r\n    _infiniteDataLoading: function() {\r\n        var isElementVisible = this.$element().is(\":visible\");\r\n        if (isElementVisible) {\r\n            clearTimeout(this._loadNextPageTimer);\r\n            this._loadNextPageTimer = setTimeout(() => {\r\n                this._loadNextPage()\r\n            })\r\n        }\r\n    },\r\n    _scrollBottomHandler: function(e) {\r\n        this._pageLoadingAction(e);\r\n        var dataController = this._dataController;\r\n        if (!dataController.isLoading() && !this._isLastPage()) {\r\n            this._loadNextPage()\r\n        } else {\r\n            this._updateLoadingState()\r\n        }\r\n    },\r\n    _renderItems: function(items) {\r\n        if (this.option(\"grouped\")) {\r\n            each(items, this._renderGroup.bind(this));\r\n            this._attachGroupCollapseEvent();\r\n            this._renderEmptyMessage();\r\n            if (isMaterial()) {\r\n                this.attachGroupHeaderInkRippleEvents()\r\n            }\r\n        } else {\r\n            this.callBase.apply(this, arguments)\r\n        }\r\n        this._refreshItemElements();\r\n        this._updateLoadingState(true)\r\n    },\r\n    _attachGroupCollapseEvent: function() {\r\n        var eventName = addNamespace(clickEventName, this.NAME);\r\n        var selector = \".\" + LIST_GROUP_HEADER_CLASS;\r\n        var $element = this.$element();\r\n        var collapsibleGroups = this.option(\"collapsibleGroups\");\r\n        $element.toggleClass(LIST_COLLAPSIBLE_GROUPS_CLASS, collapsibleGroups);\r\n        eventsEngine.off($element, eventName, selector);\r\n        if (collapsibleGroups) {\r\n            eventsEngine.on($element, eventName, selector, function(e) {\r\n                this._createAction(function(e) {\r\n                    var $group = $(e.event.currentTarget).parent();\r\n                    this._collapseGroupHandler($group);\r\n                    if (this.option(\"focusStateEnabled\")) {\r\n                        this.option(\"focusedElement\", getPublicElement($group.find(\".\" + LIST_ITEM_CLASS).eq(0)))\r\n                    }\r\n                }.bind(this), {\r\n                    validatingTargetName: \"element\"\r\n                })({\r\n                    event: e\r\n                })\r\n            }.bind(this))\r\n        }\r\n    },\r\n    _collapseGroupHandler: function($group, toggle) {\r\n        var deferred = new Deferred;\r\n        if ($group.hasClass(LIST_GROUP_COLLAPSED_CLASS) === toggle) {\r\n            return deferred.resolve()\r\n        }\r\n        var $groupBody = $group.children(\".\" + LIST_GROUP_BODY_CLASS);\r\n        var startHeight = getOuterHeight($groupBody);\r\n        var endHeight = 0;\r\n        if (0 === startHeight) {\r\n            setHeight($groupBody, \"auto\");\r\n            endHeight = getOuterHeight($groupBody)\r\n        }\r\n        $group.toggleClass(LIST_GROUP_COLLAPSED_CLASS, toggle);\r\n        fx.animate($groupBody, {\r\n            type: \"custom\",\r\n            from: {\r\n                height: startHeight\r\n            },\r\n            to: {\r\n                height: endHeight\r\n            },\r\n            duration: 200,\r\n            complete: function() {\r\n                this.updateDimensions();\r\n                this._updateLoadingState();\r\n                deferred.resolve()\r\n            }.bind(this)\r\n        });\r\n        return deferred.promise()\r\n    },\r\n    _dataSourceLoadErrorHandler: function() {\r\n        this._forgetNextPageLoading();\r\n        if (this._initialized) {\r\n            this._renderEmptyMessage();\r\n            this._updateLoadingState()\r\n        }\r\n    },\r\n    _initMarkup: function() {\r\n        this._itemElementsCache = $();\r\n        this.$element().addClass(LIST_CLASS);\r\n        this.callBase();\r\n        this.option(\"useInkRipple\") && this._renderInkRipple();\r\n        this.setAria(\"role\", this.option(\"_listAttributes\").role)\r\n    },\r\n    _renderInkRipple: function() {\r\n        this._inkRipple = render()\r\n    },\r\n    _toggleActiveState: function($element, value, e) {\r\n        this.callBase.apply(this, arguments);\r\n        var that = this;\r\n        if (!this._inkRipple) {\r\n            return\r\n        }\r\n        var config = {\r\n            element: $element,\r\n            event: e\r\n        };\r\n        if (value) {\r\n            if (isMaterial()) {\r\n                this._inkRippleTimer = setTimeout((function() {\r\n                    that._inkRipple.showWave(config)\r\n                }), LIST_FEEDBACK_SHOW_TIMEOUT / 2)\r\n            } else {\r\n                that._inkRipple.showWave(config)\r\n            }\r\n        } else {\r\n            clearTimeout(this._inkRippleTimer);\r\n            this._inkRipple.hideWave(config)\r\n        }\r\n    },\r\n    _postprocessRenderItem: function(args) {\r\n        this._refreshItemElements();\r\n        this.callBase.apply(this, arguments);\r\n        if (this.option(\"_swipeEnabled\")) {\r\n            this._attachSwipeEvent($(args.itemElement))\r\n        }\r\n    },\r\n    _attachSwipeEvent: function($itemElement) {\r\n        var endEventName = addNamespace(swipeEventEnd, this.NAME);\r\n        eventsEngine.on($itemElement, endEventName, this._itemSwipeEndHandler.bind(this))\r\n    },\r\n    _itemSwipeEndHandler: function(e) {\r\n        this._itemDXEventHandler(e, \"onItemSwipe\", {\r\n            direction: e.offset < 0 ? \"left\" : \"right\"\r\n        })\r\n    },\r\n    _nextButtonHandler: function(e) {\r\n        this._pageLoadingAction(e);\r\n        var dataController = this._dataController;\r\n        if (dataController.getDataSource() && !dataController.isLoading()) {\r\n            this._scrollView.toggleLoading(true);\r\n            this._$nextButton.detach();\r\n            this._loadIndicationSuppressed(true);\r\n            this._loadNextPage()\r\n        }\r\n    },\r\n    _renderGroup: function(index, group) {\r\n        var $groupElement = $(\"<div>\").addClass(LIST_GROUP_CLASS).appendTo(this._itemContainer());\r\n        var $groupHeaderElement = $(\"<div>\").addClass(LIST_GROUP_HEADER_CLASS).appendTo($groupElement);\r\n        var groupTemplateName = this.option(\"groupTemplate\");\r\n        var groupTemplate = this._getTemplate(group.template || groupTemplateName, group, index, $groupHeaderElement);\r\n        var renderArgs = {\r\n            index: index,\r\n            itemData: group,\r\n            container: getPublicElement($groupHeaderElement)\r\n        };\r\n        this._createItemByTemplate(groupTemplate, renderArgs);\r\n        if (isMaterial()) {\r\n            $(\"<div>\").addClass(LIST_GROUP_HEADER_INDICATOR_CLASS).prependTo($groupHeaderElement)\r\n        }\r\n        this._renderingGroupIndex = index;\r\n        var $groupBody = $(\"<div>\").addClass(LIST_GROUP_BODY_CLASS).appendTo($groupElement);\r\n        each(groupItemsGetter(group) || [], function(itemIndex, item) {\r\n            this._renderItem({\r\n                group: index,\r\n                item: itemIndex\r\n            }, item, $groupBody)\r\n        }.bind(this));\r\n        this._groupRenderAction({\r\n            groupElement: getPublicElement($groupElement),\r\n            groupIndex: index,\r\n            groupData: group\r\n        })\r\n    },\r\n    downInkRippleHandler: function(e) {\r\n        this._toggleActiveState($(e.currentTarget), true, e)\r\n    },\r\n    upInkRippleHandler: function(e) {\r\n        this._toggleActiveState($(e.currentTarget), false)\r\n    },\r\n    attachGroupHeaderInkRippleEvents: function() {\r\n        var selector = \".\" + LIST_GROUP_HEADER_CLASS;\r\n        var $element = this.$element();\r\n        this._downInkRippleHandler = this._downInkRippleHandler || this.downInkRippleHandler.bind(this);\r\n        this._upInkRippleHandler = this._upInkRippleHandler || this.upInkRippleHandler.bind(this);\r\n        var downArguments = [$element, \"dxpointerdown\", selector, this._downInkRippleHandler];\r\n        var upArguments = [$element, \"dxpointerup dxpointerout\", selector, this._upInkRippleHandler];\r\n        eventsEngine.off(...downArguments);\r\n        eventsEngine.on(...downArguments);\r\n        eventsEngine.off(...upArguments);\r\n        eventsEngine.on(...upArguments)\r\n    },\r\n    _createGroupRenderAction: function() {\r\n        this._groupRenderAction = this._createActionByOption(\"onGroupRendered\")\r\n    },\r\n    _clean: function() {\r\n        clearTimeout(this._inkRippleTimer);\r\n        if (this._$nextButton) {\r\n            this._$nextButton.remove();\r\n            this._$nextButton = null\r\n        }\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _dispose: function() {\r\n        this._isDataSourceFirstLoadCompleted(false);\r\n        clearTimeout(this._holdTimer);\r\n        clearTimeout(this._loadNextPageTimer);\r\n        clearTimeout(this._showLoadingIndicatorTimer);\r\n        this.callBase()\r\n    },\r\n    _toggleDisabledState: function(value) {\r\n        this.callBase(value);\r\n        this._scrollView.option(\"disabled\", value || !this.option(\"scrollingEnabled\"))\r\n    },\r\n    _toggleNextButton: function(value) {\r\n        var dataController = this._dataController;\r\n        var $nextButton = this._getNextButton();\r\n        this.$element().toggleClass(LIST_HAS_NEXT_CLASS, value);\r\n        if (value && dataController.isLoaded()) {\r\n            $nextButton.appendTo(this._itemContainer())\r\n        }\r\n        if (!value) {\r\n            $nextButton.detach()\r\n        }\r\n    },\r\n    _getNextButton: function() {\r\n        if (!this._$nextButton) {\r\n            this._$nextButton = this._createNextButton()\r\n        }\r\n        return this._$nextButton\r\n    },\r\n    _createNextButton: function() {\r\n        var $result = $(\"<div>\").addClass(LIST_NEXT_BUTTON_CLASS);\r\n        var $button = $(\"<div>\").appendTo($result);\r\n        this._createComponent($button, Button, {\r\n            text: this.option(\"nextButtonText\"),\r\n            onClick: this._nextButtonHandler.bind(this),\r\n            type: isMaterial() ? \"default\" : void 0,\r\n            integrationOptions: {}\r\n        });\r\n        return $result\r\n    },\r\n    _moveFocus: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this.scrollToItem(this.option(\"focusedElement\"))\r\n    },\r\n    _refresh: function() {\r\n        if (!hasWindow()) {\r\n            this.callBase()\r\n        } else {\r\n            var scrollTop = this._scrollView.scrollTop();\r\n            this.callBase();\r\n            scrollTop && this._scrollView.scrollTo(scrollTop)\r\n        }\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"pageLoadMode\":\r\n                this._toggleNextButton(args.value);\r\n                this._initScrollView();\r\n                break;\r\n            case \"dataSource\":\r\n                this.callBase(args);\r\n                this._initScrollView();\r\n                this._isDataSourceFirstLoadCompleted(false);\r\n                break;\r\n            case \"items\":\r\n                this.callBase(args);\r\n                this._isDataSourceFirstLoadCompleted(false);\r\n                break;\r\n            case \"pullingDownText\":\r\n            case \"pulledDownText\":\r\n            case \"refreshingText\":\r\n            case \"pageLoadingText\":\r\n            case \"showScrollbar\":\r\n            case \"bounceEnabled\":\r\n            case \"scrollByContent\":\r\n            case \"scrollByThumb\":\r\n            case \"useNativeScrolling\":\r\n            case \"scrollingEnabled\":\r\n            case \"pullRefreshEnabled\":\r\n                this._initScrollView();\r\n                this._updateLoadingState();\r\n                break;\r\n            case \"nextButtonText\":\r\n            case \"onItemSwipe\":\r\n            case \"useInkRipple\":\r\n                this._invalidate();\r\n                break;\r\n            case \"onScroll\":\r\n            case \"onPullRefresh\":\r\n            case \"onPageLoading\":\r\n                this._createScrollViewActions();\r\n                break;\r\n            case \"grouped\":\r\n            case \"collapsibleGroups\":\r\n            case \"groupTemplate\":\r\n                this._invalidate();\r\n                break;\r\n            case \"wrapItemText\":\r\n                this._$container.toggleClass(WRAP_ITEM_TEXT_CLASS, args.value);\r\n                break;\r\n            case \"onGroupRendered\":\r\n                this._createGroupRenderAction();\r\n                break;\r\n            case \"width\":\r\n            case \"height\":\r\n                this.callBase(args);\r\n                this._scrollView.option(args.name, args.value);\r\n                this._scrollView.update();\r\n                break;\r\n            case \"indicateLoading\":\r\n                this._hideLoadingIfLoadIndicationOff();\r\n                break;\r\n            case \"visible\":\r\n                this.callBase(args);\r\n                this._scrollView.update();\r\n                break;\r\n            case \"rtlEnabled\":\r\n                this._initScrollView();\r\n                this.callBase(args);\r\n                break;\r\n            case \"showChevronExpr\":\r\n            case \"badgeExpr\":\r\n                this._invalidate();\r\n                break;\r\n            case \"_swipeEnabled\":\r\n            case \"_listAttributes\":\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _extendActionArgs: function($itemElement) {\r\n        if (!this.option(\"grouped\")) {\r\n            return this.callBase($itemElement)\r\n        }\r\n        var $group = $itemElement.closest(\".\" + LIST_GROUP_CLASS);\r\n        var $item = $group.find(\".\" + LIST_ITEM_CLASS);\r\n        return extend(this.callBase($itemElement), {\r\n            itemIndex: {\r\n                group: $group.index(),\r\n                item: $item.index($itemElement)\r\n            }\r\n        })\r\n    },\r\n    expandGroup: function(groupIndex) {\r\n        var deferred = new Deferred;\r\n        var $group = this._itemContainer().find(\".\" + LIST_GROUP_CLASS).eq(groupIndex);\r\n        this._collapseGroupHandler($group, false).done(function() {\r\n            deferred.resolveWith(this)\r\n        }.bind(this));\r\n        return deferred.promise()\r\n    },\r\n    collapseGroup: function(groupIndex) {\r\n        var deferred = new Deferred;\r\n        var $group = this._itemContainer().find(\".\" + LIST_GROUP_CLASS).eq(groupIndex);\r\n        this._collapseGroupHandler($group, true).done(function() {\r\n            deferred.resolveWith(this)\r\n        }.bind(this));\r\n        return deferred\r\n    },\r\n    updateDimensions: function() {\r\n        var that = this;\r\n        var deferred = new Deferred;\r\n        if (that._scrollView) {\r\n            that._scrollView.update().done((function() {\r\n                !that._scrollViewIsFull() && that._updateLoadingState(true);\r\n                deferred.resolveWith(that)\r\n            }))\r\n        } else {\r\n            deferred.resolveWith(that)\r\n        }\r\n        return deferred.promise()\r\n    },\r\n    reload: function() {\r\n        this.callBase();\r\n        this.scrollTo(0);\r\n        this._pullDownHandler()\r\n    },\r\n    repaint: function() {\r\n        this.scrollTo(0);\r\n        this.callBase()\r\n    },\r\n    scrollTop: function() {\r\n        return this._scrollView.scrollOffset().top\r\n    },\r\n    clientHeight: function() {\r\n        return this._scrollView.clientHeight()\r\n    },\r\n    scrollHeight: function() {\r\n        return this._scrollView.scrollHeight()\r\n    },\r\n    scrollBy: function(distance) {\r\n        this._scrollView.scrollBy(distance)\r\n    },\r\n    scrollTo: function(location) {\r\n        this._scrollView.scrollTo(location)\r\n    },\r\n    scrollToItem: function(itemElement) {\r\n        var $item = this._editStrategy.getItemElement(itemElement);\r\n        var item = null === $item || void 0 === $item ? void 0 : $item.get(0);\r\n        this._scrollView.scrollToElement(item, {\r\n            bottom: getElementMargin(item, \"bottom\")\r\n        })\r\n    },\r\n    _dimensionChanged: function() {\r\n        this.updateDimensions()\r\n    }\r\n}).include(DataConverterMixin);\r\nListBase.ItemClass = ListItem;\r\n\r\nfunction getScrollView() {\r\n    return _scrollView || ScrollView\r\n}\r\nexport function setScrollView(value) {\r\n    _scrollView = value\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}