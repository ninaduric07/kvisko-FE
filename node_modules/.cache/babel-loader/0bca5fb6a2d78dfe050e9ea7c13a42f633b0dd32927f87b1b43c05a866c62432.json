{"ast":null,"code":"/**\r\n * DevExtreme (esm/exporter/pdf_creator.js)\r\n * Version: 22.2.6\r\n * Build date: Tue Apr 18 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { version } from \"../core/version\";\nimport { getWindow } from \"../core/utils/window\";\nvar window = getWindow();\nimport { imageCreator, calcScaledInfo } from \"./image_creator\";\nimport { isFunction } from \"../core/utils/type\";\nimport { extend } from \"../core/utils/extend\";\nvar mainPageTemplate = \"%PDF-1.3\\r\\n2 0 obj\\r\\n<</ProcSet[/PDF/ImageB/ImageC/ImageI]/XObject<</I0 5 0 R>>>>\\r\\nendobj\\r\\n4 0 obj\\r\\n<</Type/Pages/Kids[1 0 R]/Count 1>>\\r\\nendobj\\r\\n7 0 obj\\r\\n<</OpenAction[1 0 R /FitH null]/Type/Catalog/Pages 4 0 R/PageLayout/OneColumn>>\\r\\nendobj\\r\\n1 0 obj\\r\\n<</Type/Page/Resources 2 0 R/MediaBox[0 0 _width_ _height_]/Contents 3 0 R/Parent 4 0 R>>\\r\\nendobj\\r\\n\";\nvar contentTemplate = \"3 0 obj\\r\\n<</Length 52>>stream\\r\\n0.20 w\\n0 G\\nq _width_ 0 0 _height_ 0.00 0.00 cm /I0 Do Q\\r\\nendstream\\r\\nendobj\\r\\n\";\nvar infoTemplate = \"6 0 obj\\r\\n<</CreationDate _date_/Producer(DevExtreme _version_)>>\\r\\nendobj\\r\\n\";\nvar imageStartTemplate = \"5 0 obj\\r\\n<</Type/XObject/Subtype/Image/Width _width_/Height _height_/ColorSpace/DeviceRGB/BitsPerComponent 8/Filter/DCTDecode/Length _length_>>stream\\r\\n\";\nvar imageEndTemplate = \"\\r\\nendstream\\r\\nendobj\\r\\n\";\nvar trailerTemplate = \"trailer\\r\\n<<\\r\\n/Size 8\\r\\n/Root 7 0 R\\r\\n/Info 6 0 R\\r\\n>>\\r\\nstartxref\\r\\n_length_\\r\\n%%EOF\";\nvar xrefTemplate = \"xref\\r\\n0 8\\r\\n0000000000 65535 f\\r\\n0000000241 00000 n\\r\\n0000000010 00000 n\\r\\n_main_ 00000 n\\r\\n0000000089 00000 n\\r\\n_image_ 00000 n\\r\\n_info_ 00000 n\\r\\n0000000143 00000 n\\r\\n\";\nvar pad = function pad(str, len) {\n  return str.length < len ? pad(\"0\" + str, len) : str;\n};\nvar composePdfString = function (imageString, options, curDate) {\n  var margin = 2 * (options.margin || 0);\n  var {\n    width: width,\n    height: height\n  } = calcScaledInfo(options.width, options.height);\n  width += margin;\n  height += margin;\n  var widthPt = (.75 * width).toFixed(2);\n  var heightPt = (.75 * height).toFixed(2);\n  var flooredWidth = Math.floor(width);\n  var flooredHeight = Math.floor(height);\n  var mainPage = mainPageTemplate.replace(\"_width_\", widthPt).replace(\"_height_\", heightPt);\n  var content = contentTemplate.replace(\"_width_\", widthPt).replace(\"_height_\", heightPt);\n  var info = infoTemplate.replace(\"_date_\", curDate).replace(\"_version_\", version);\n  var image = imageStartTemplate.replace(\"_width_\", flooredWidth).replace(\"_height_\", flooredHeight).replace(\"_length_\", imageString.length) + imageString + imageEndTemplate;\n  var xref = getXref(mainPage.length, content.length, info.length);\n  var mainContent = mainPage + content + info + image;\n  var trailer = trailerTemplate.replace(\"_length_\", mainContent.length);\n  return mainContent + xref + trailer;\n};\nfunction getXref(mainPageLength, contentLength, infoLength) {\n  return xrefTemplate.replace(\"_main_\", pad(mainPageLength + \"\", 10)).replace(\"_info_\", pad(mainPageLength + contentLength + \"\", 10)).replace(\"_image_\", pad(mainPageLength + contentLength + infoLength + \"\", 10));\n}\nvar getCurDate = function () {\n  return new Date();\n};\nvar getBlob = function (binaryData) {\n  var i = 0;\n  var dataArray = new Uint8Array(binaryData.length);\n  for (; i < binaryData.length; i++) {\n    dataArray[i] = binaryData.charCodeAt(i);\n  }\n  return new window.Blob([dataArray.buffer], {\n    type: \"application/pdf\"\n  });\n};\nvar getBase64 = function (binaryData) {\n  return window.btoa(binaryData);\n};\nfunction getTwoDigitValue(value) {\n  var stringValue = value.toString();\n  if (1 === stringValue.length) {\n    return \"0\".concat(value);\n  }\n  return value;\n}\nfunction convertToPdfDateFormat(date) {\n  var dateUnits = [date.getUTCFullYear(), getTwoDigitValue(date.getUTCMonth()), getTwoDigitValue(date.getUTCDate()), getTwoDigitValue(date.getUTCHours()), getTwoDigitValue(date.getUTCMinutes()), getTwoDigitValue(date.getUTCSeconds())];\n  return \"(D:\".concat(dateUnits.join(\"\"), \"Z00'00')\");\n}\nexport function getData(data, options) {\n  return imageCreator.getImageData(data, extend({}, options, {\n    format: \"JPEG\"\n  })).then(imageString => {\n    var binaryData = composePdfString(imageString, options, convertToPdfDateFormat(getCurDate()));\n    var pdfData = isFunction(window.Blob) ? getBlob(binaryData) : getBase64(binaryData);\n    return pdfData;\n  });\n}","map":{"version":3,"names":["version","getWindow","window","imageCreator","calcScaledInfo","isFunction","extend","mainPageTemplate","contentTemplate","infoTemplate","imageStartTemplate","imageEndTemplate","trailerTemplate","xrefTemplate","pad","str","len","length","composePdfString","imageString","options","curDate","margin","width","height","widthPt","toFixed","heightPt","flooredWidth","Math","floor","flooredHeight","mainPage","replace","content","info","image","xref","getXref","mainContent","trailer","mainPageLength","contentLength","infoLength","getCurDate","Date","getBlob","binaryData","i","dataArray","Uint8Array","charCodeAt","Blob","buffer","type","getBase64","btoa","getTwoDigitValue","value","stringValue","toString","concat","convertToPdfDateFormat","date","dateUnits","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","join","getData","data","getImageData","format","then","pdfData"],"sources":["C:/Users/ninad/OneDrive/Radna povr≈°ina/zavrsni/client/node_modules/devextreme/esm/exporter/pdf_creator.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/exporter/pdf_creator.js)\r\n * Version: 22.2.6\r\n * Build date: Tue Apr 18 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    version\r\n} from \"../core/version\";\r\nimport {\r\n    getWindow\r\n} from \"../core/utils/window\";\r\nvar window = getWindow();\r\nimport {\r\n    imageCreator,\r\n    calcScaledInfo\r\n} from \"./image_creator\";\r\nimport {\r\n    isFunction\r\n} from \"../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nvar mainPageTemplate = \"%PDF-1.3\\r\\n2 0 obj\\r\\n<</ProcSet[/PDF/ImageB/ImageC/ImageI]/XObject<</I0 5 0 R>>>>\\r\\nendobj\\r\\n4 0 obj\\r\\n<</Type/Pages/Kids[1 0 R]/Count 1>>\\r\\nendobj\\r\\n7 0 obj\\r\\n<</OpenAction[1 0 R /FitH null]/Type/Catalog/Pages 4 0 R/PageLayout/OneColumn>>\\r\\nendobj\\r\\n1 0 obj\\r\\n<</Type/Page/Resources 2 0 R/MediaBox[0 0 _width_ _height_]/Contents 3 0 R/Parent 4 0 R>>\\r\\nendobj\\r\\n\";\r\nvar contentTemplate = \"3 0 obj\\r\\n<</Length 52>>stream\\r\\n0.20 w\\n0 G\\nq _width_ 0 0 _height_ 0.00 0.00 cm /I0 Do Q\\r\\nendstream\\r\\nendobj\\r\\n\";\r\nvar infoTemplate = \"6 0 obj\\r\\n<</CreationDate _date_/Producer(DevExtreme _version_)>>\\r\\nendobj\\r\\n\";\r\nvar imageStartTemplate = \"5 0 obj\\r\\n<</Type/XObject/Subtype/Image/Width _width_/Height _height_/ColorSpace/DeviceRGB/BitsPerComponent 8/Filter/DCTDecode/Length _length_>>stream\\r\\n\";\r\nvar imageEndTemplate = \"\\r\\nendstream\\r\\nendobj\\r\\n\";\r\nvar trailerTemplate = \"trailer\\r\\n<<\\r\\n/Size 8\\r\\n/Root 7 0 R\\r\\n/Info 6 0 R\\r\\n>>\\r\\nstartxref\\r\\n_length_\\r\\n%%EOF\";\r\nvar xrefTemplate = \"xref\\r\\n0 8\\r\\n0000000000 65535 f\\r\\n0000000241 00000 n\\r\\n0000000010 00000 n\\r\\n_main_ 00000 n\\r\\n0000000089 00000 n\\r\\n_image_ 00000 n\\r\\n_info_ 00000 n\\r\\n0000000143 00000 n\\r\\n\";\r\nvar pad = function pad(str, len) {\r\n    return str.length < len ? pad(\"0\" + str, len) : str\r\n};\r\nvar composePdfString = function(imageString, options, curDate) {\r\n    var margin = 2 * (options.margin || 0);\r\n    var {\r\n        width: width,\r\n        height: height\r\n    } = calcScaledInfo(options.width, options.height);\r\n    width += margin;\r\n    height += margin;\r\n    var widthPt = (.75 * width).toFixed(2);\r\n    var heightPt = (.75 * height).toFixed(2);\r\n    var flooredWidth = Math.floor(width);\r\n    var flooredHeight = Math.floor(height);\r\n    var mainPage = mainPageTemplate.replace(\"_width_\", widthPt).replace(\"_height_\", heightPt);\r\n    var content = contentTemplate.replace(\"_width_\", widthPt).replace(\"_height_\", heightPt);\r\n    var info = infoTemplate.replace(\"_date_\", curDate).replace(\"_version_\", version);\r\n    var image = imageStartTemplate.replace(\"_width_\", flooredWidth).replace(\"_height_\", flooredHeight).replace(\"_length_\", imageString.length) + imageString + imageEndTemplate;\r\n    var xref = getXref(mainPage.length, content.length, info.length);\r\n    var mainContent = mainPage + content + info + image;\r\n    var trailer = trailerTemplate.replace(\"_length_\", mainContent.length);\r\n    return mainContent + xref + trailer\r\n};\r\n\r\nfunction getXref(mainPageLength, contentLength, infoLength) {\r\n    return xrefTemplate.replace(\"_main_\", pad(mainPageLength + \"\", 10)).replace(\"_info_\", pad(mainPageLength + contentLength + \"\", 10)).replace(\"_image_\", pad(mainPageLength + contentLength + infoLength + \"\", 10))\r\n}\r\nvar getCurDate = function() {\r\n    return new Date\r\n};\r\nvar getBlob = function(binaryData) {\r\n    var i = 0;\r\n    var dataArray = new Uint8Array(binaryData.length);\r\n    for (; i < binaryData.length; i++) {\r\n        dataArray[i] = binaryData.charCodeAt(i)\r\n    }\r\n    return new window.Blob([dataArray.buffer], {\r\n        type: \"application/pdf\"\r\n    })\r\n};\r\nvar getBase64 = function(binaryData) {\r\n    return window.btoa(binaryData)\r\n};\r\n\r\nfunction getTwoDigitValue(value) {\r\n    var stringValue = value.toString();\r\n    if (1 === stringValue.length) {\r\n        return \"0\".concat(value)\r\n    }\r\n    return value\r\n}\r\n\r\nfunction convertToPdfDateFormat(date) {\r\n    var dateUnits = [date.getUTCFullYear(), getTwoDigitValue(date.getUTCMonth()), getTwoDigitValue(date.getUTCDate()), getTwoDigitValue(date.getUTCHours()), getTwoDigitValue(date.getUTCMinutes()), getTwoDigitValue(date.getUTCSeconds())];\r\n    return \"(D:\".concat(dateUnits.join(\"\"), \"Z00'00')\")\r\n}\r\nexport function getData(data, options) {\r\n    return imageCreator.getImageData(data, extend({}, options, {\r\n        format: \"JPEG\"\r\n    })).then(imageString => {\r\n        var binaryData = composePdfString(imageString, options, convertToPdfDateFormat(getCurDate()));\r\n        var pdfData = isFunction(window.Blob) ? getBlob(binaryData) : getBase64(binaryData);\r\n        return pdfData\r\n    })\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}