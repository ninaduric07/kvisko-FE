{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ninad\\\\OneDrive\\\\Radna povr\\u0161ina\\\\zavrsni\\\\client\\\\src\\\\components\\\\Login\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n  const [usernameOrEmail, setUsernameOrEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const navigateTo = useNavigate();\n  const {\n    handleSubmit\n  } = useForm();\n  const [submitted, setSubmitted] = useState(false);\n  const [error, setError] = useState(false);\n  const handleUsernameOrEmail = e => {\n    setUsernameOrEmail(e.target.value);\n    setSubmitted(false);\n  };\n  const handlePassword = e => {\n    setPassword(e.target.value);\n    setSubmitted(false);\n  };\n  const onSubmitting = async (c, e) => {\n    e.preventDefault();\n    //console.log(e);\n    if (password !== repeatPassword) {\n      setError(true);\n      return;\n    } else {\n      await axios.post(`http://localhost:5000/login`, {\n        usernameOrEmail,\n        password\n      }).then(response => {\n        console.log(response.json);\n        navigateTo('/login');\n        setError(false);\n        setSubmitted(true);\n        return response.data;\n      }).catch(err => {\n        setError(true);\n        return err;\n      });\n    }\n  };\n  const successMessage = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"success\",\n      style: {\n        display: submitted ? '' : 'none'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\" User \", name, \" successfully logged in!!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this);\n  };\n  const errorMessage = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      style: {\n        display: error ? '' : 'none'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"red\"\n        },\n        children: \"Ne\\u0161to ne valja! Poku\\u0161ajte ponovno\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-3 my-5 d-flex flex-column w-50\",\n      direction: \"row\",\n      style: {\n        position: 'absolute',\n        left: '50%',\n        top: '55%',\n        transform: 'translate(-50%, -50%)',\n        border: '10px solid rgba(255, 165, 0, 0.5)',\n        padding: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: 15\n        },\n        children: \" Registracija\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(onSubmitting),\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label\",\n          children: \"Korisni\\u010Dko ime ili email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleUsernameOrEmail,\n          className: \"input\",\n          value: username,\n          type: \"text\",\n          name: \"usernameOrEmail\",\n          id: \"usernameOrEmail\",\n          placeholder: \"UsernameOrEmail\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 28\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label\",\n          children: \"Lozinka\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handlePassword,\n          className: \"input\",\n          value: password,\n          type: \"password\",\n          name: \"password\",\n          id: \"password\",\n          placeholder: \"Password\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"messages\",\n      style: {\n        position: 'absolute',\n        left: '50%',\n        top: '12%',\n        transform: 'translate(-50%, -50%)'\n      },\n      children: [errorMessage(), successMessage()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 9\n  }, this);\n}\n_s(Login, \"QjTD9pM2TPlWizI0CdfABHyrjs4=\", false, function () {\n  return [useNavigate, useForm];\n});\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","axios","useNavigate","useForm","jsxDEV","_jsxDEV","Login","_s","usernameOrEmail","setUsernameOrEmail","password","setPassword","navigateTo","handleSubmit","submitted","setSubmitted","error","setError","handleUsernameOrEmail","e","target","value","handlePassword","onSubmitting","c","preventDefault","repeatPassword","post","then","response","console","log","json","data","catch","err","successMessage","className","style","display","children","name","fileName","_jsxFileName","lineNumber","columnNumber","errorMessage","color","direction","position","left","top","transform","border","padding","fontSize","onSubmit","onChange","username","type","id","placeholder","required","_c","$RefreshReg$"],"sources":["C:/Users/ninad/OneDrive/Radna površina/zavrsni/client/src/components/Login/Login.js"],"sourcesContent":["import React from 'react';\r\nimport { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useForm } from 'react-hook-form';\r\n\r\nexport default function Login() {\r\n\r\n    const [usernameOrEmail, setUsernameOrEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const navigateTo = useNavigate();\r\n    const { handleSubmit } = useForm();\r\n    const [submitted, setSubmitted] = useState(false);\r\n    const [error, setError] = useState(false);\r\n\r\n    const handleUsernameOrEmail = (e) => {\r\n        setUsernameOrEmail(e.target.value);\r\n        setSubmitted(false);\r\n    };\r\n\r\n    const handlePassword = (e) => {\r\n        setPassword(e.target.value);\r\n        setSubmitted(false);\r\n    };\r\n\r\n    const onSubmitting = async (c, e) => {\r\n        e.preventDefault();\r\n        //console.log(e);\r\n        if ((password !== repeatPassword)) {\r\n            setError(true);\r\n            return;\r\n        }\r\n\r\n        else {\r\n            await axios.post(`http://localhost:5000/login`,\r\n                {\r\n                    usernameOrEmail,\r\n                    password,\r\n                } \r\n                \r\n            ).then((response) => {\r\n                console.log(response.json); \r\n                navigateTo('/login');\r\n                setError(false);\r\n                setSubmitted(true);\r\n                return response.data;\r\n            }).catch( (err) => {\r\n                setError(true);\r\n                return err;\r\n            });\r\n        }\r\n    };\r\n\r\n        const successMessage = () => {\r\n        return (\r\n            <div\r\n                className=\"success\"\r\n                style={{\r\n                    display: submitted ? '' : 'none',\r\n                }}>\r\n                <h1> User {name} successfully logged in!!</h1>\r\n            </div>\r\n        );\r\n    };\r\n\r\n        const errorMessage = () => {\r\n        return (\r\n            <div\r\n                className=\"error\"\r\n                style={{\r\n                    display: error ? '' : 'none',\r\n                }}>\r\n                <p style={{ color: \"red\" }}>Nešto ne valja! Pokušajte ponovno</p>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div className='form'>\r\n            <div className=\"p-3 my-5 d-flex flex-column w-50\" direction=\"row\" style={{\r\n                position: 'absolute', left: '50%', top: '55%',\r\n                transform: 'translate(-50%, -50%)',\r\n                border: '10px solid rgba(255, 165, 0, 0.5)',\r\n                padding: '20px'\r\n            }}>\r\n                <p style={{ fontSize: 15 }}> Registracija</p>\r\n\r\n                {/* Calling to the methods */}\r\n\r\n                <form onSubmit={handleSubmit(onSubmitting)}>\r\n                    {/* Labels and inputs for form data */}\r\n                    <label className=\"label\">Korisničko ime ili email</label>\r\n                    <br />\r\n                    <input onChange={handleUsernameOrEmail} className=\"input\"\r\n                        value={username} type=\"text\" name='usernameOrEmail' id=\"usernameOrEmail\" placeholder='UsernameOrEmail' required />\r\n                    <br /> <br />\r\n                    <label className=\"label\">Lozinka</label>\r\n                    <br />\r\n                    <input onChange={handlePassword} className=\"input\"\r\n                        value={password} type=\"password\" name='password' id=\"password\" placeholder='Password' required />\r\n                    <br /><br />\r\n                    <button className=\"btn\" type=\"submit\">\r\n                        Submit\r\n                    </button>\r\n                </form>\r\n            </div>\r\n            <div className=\"messages\" style={{\r\n                position: 'absolute', left: '50%', top: '12%',\r\n                transform: 'translate(-50%, -50%)'\r\n            }}>\r\n                {errorMessage()}\r\n                {successMessage()}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}