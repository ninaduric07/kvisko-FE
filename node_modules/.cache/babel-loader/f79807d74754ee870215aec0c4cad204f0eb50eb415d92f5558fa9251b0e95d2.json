{"ast":null,"code":"/**\r\n * DevExtreme (esm/__internal/grids/grid_core/editor_factory/module.js)\r\n * Version: 22.2.6\r\n * Build date: Tue Apr 18 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { setOuterWidth, getOuterWidth, setOuterHeight, getOuterHeight } from \"../../../../core/utils/size\";\nimport $ from \"../../../../core/renderer\";\nimport domAdapter from \"../../../../core/dom_adapter\";\nimport eventsEngine from \"../../../../events/core/events_engine\";\nimport { name as clickEventName } from \"../../../../events/click\";\nimport pointerEvents from \"../../../../events/pointer\";\nimport positionUtils from \"../../../../animation/position\";\nimport { addNamespace, normalizeKeyName } from \"../../../../events/utils/index\";\nimport browser from \"../../../../core/utils/browser\";\nimport { extend } from \"../../../../core/utils/extend\";\nimport { getBoundingRect } from \"../../../../core/utils/position\";\nimport EditorFactoryMixin from \"../../../../ui/shared/ui.editor_factory_mixin\";\nimport modules from \"../modules\";\nimport gridCoreUtils from \"../module_utils\";\nconst EDITOR_INLINE_BLOCK = \"dx-editor-inline-block\";\nconst CELL_FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\nconst FOCUS_OVERLAY_CLASS = \"focus-overlay\";\nconst CONTENT_CLASS = \"content\";\nconst FOCUSED_ELEMENT_CLASS = \"dx-focused\";\nconst ROW_CLASS = \"dx-row\";\nconst MODULE_NAMESPACE = \"dxDataGridEditorFactory\";\nconst UPDATE_FOCUS_EVENTS = addNamespace([pointerEvents.down, \"focusin\", clickEventName].join(\" \"), MODULE_NAMESPACE);\nconst DX_HIDDEN = \"dx-hidden\";\nconst members = {\n  _getFocusedElement($dataGridElement) {\n    const rowSelector = this.option(\"focusedRowEnabled\") ? \"tr[tabindex]:focus\" : \"tr[tabindex]:not(.dx-data-row):focus\";\n    const focusedElementSelector = `td[tabindex]:focus, ${rowSelector}, input:focus, textarea:focus, .dx-lookup-field:focus, .dx-checkbox:focus, .dx-switch:focus, .dx-dropdownbutton .dx-buttongroup:focus, .dx-adaptive-item-text:focus`;\n    const $focusedElement = $dataGridElement.find(focusedElementSelector);\n    return this.elementIsInsideGrid($focusedElement) && $focusedElement;\n  },\n  _getFocusCellSelector: () => \".dx-row > td\",\n  _updateFocusCore() {\n    const $dataGridElement = this.component && this.component.$element();\n    if ($dataGridElement) {\n      let $focus = this._getFocusedElement($dataGridElement);\n      if ($focus && $focus.length) {\n        let isHideBorder;\n        if (!$focus.hasClass(\"dx-cell-focus-disabled\") && !$focus.hasClass(\"dx-row\")) {\n          const $focusCell = $focus.closest(this._getFocusCellSelector() + \", .dx-cell-focus-disabled\");\n          if ($focusCell.get(0) !== $focus.get(0)) {\n            isHideBorder = this._needHideBorder($focusCell);\n            $focus = $focusCell;\n          }\n        }\n        if ($focus.length && !$focus.hasClass(\"dx-cell-focus-disabled\")) {\n          this.focus($focus, isHideBorder);\n          return;\n        }\n      }\n    }\n    this.loseFocus();\n  },\n  _needHideBorder: $element => $element.hasClass(EDITOR_INLINE_BLOCK),\n  _updateFocus(e) {\n    const that = this;\n    const isFocusOverlay = e && e.event && $(e.event.target).hasClass(that.addWidgetPrefix(\"focus-overlay\"));\n    that._isFocusOverlay = that._isFocusOverlay || isFocusOverlay;\n    clearTimeout(that._updateFocusTimeoutID);\n    that._updateFocusTimeoutID = setTimeout(() => {\n      delete that._updateFocusTimeoutID;\n      if (!that._isFocusOverlay) {\n        that._updateFocusCore();\n      }\n      that._isFocusOverlay = false;\n    });\n  },\n  _updateFocusOverlaySize($element, position) {\n    $element.hide();\n    const location = positionUtils.calculate($element, extend({\n      collision: \"fit\"\n    }, position));\n    if (location.h.oversize > 0) {\n      setOuterWidth($element, getOuterWidth($element) - location.h.oversize);\n    }\n    if (location.v.oversize > 0) {\n      setOuterHeight($element, getOuterHeight($element) - location.v.oversize);\n    }\n    $element.show();\n  },\n  callbackNames: () => [\"focused\"],\n  focus($element, isHideBorder) {\n    const that = this;\n    if (void 0 === $element) {\n      return that._$focusedElement;\n    }\n    if ($element) {\n      if (!$element.is(that._$focusedElement)) {\n        that._$focusedElement && that._$focusedElement.removeClass(\"dx-focused\");\n      }\n      that._$focusedElement = $element;\n      clearTimeout(that._focusTimeoutID);\n      that._focusTimeoutID = setTimeout(() => {\n        delete that._focusTimeoutID;\n        that.renderFocusOverlay($element, isHideBorder);\n        $element.addClass(\"dx-focused\");\n        that.focused.fire($element);\n      });\n    }\n  },\n  refocus() {\n    const $focus = this.focus();\n    this.focus($focus);\n  },\n  renderFocusOverlay($element, isHideBorder) {\n    const that = this;\n    if (!gridCoreUtils.isElementInCurrentGrid(this, $element)) {\n      return;\n    }\n    if (!that._$focusOverlay) {\n      that._$focusOverlay = $(\"<div>\").addClass(that.addWidgetPrefix(\"focus-overlay\"));\n    }\n    if (isHideBorder) {\n      that._$focusOverlay.addClass(DX_HIDDEN);\n    } else if ($element.length) {\n      const align = browser.mozilla ? \"right bottom\" : \"left top\";\n      const $content = $element.closest(\".\" + that.addWidgetPrefix(\"content\"));\n      const elemCoord = getBoundingRect($element.get(0));\n      that._$focusOverlay.removeClass(DX_HIDDEN).appendTo($content);\n      setOuterHeight(that._$focusOverlay, elemCoord.bottom - elemCoord.top + 1);\n      setOuterWidth(that._$focusOverlay, elemCoord.right - elemCoord.left + 1);\n      const focusOverlayPosition = {\n        precise: true,\n        my: align,\n        at: align,\n        of: $element,\n        boundary: $content.length && $content\n      };\n      that._updateFocusOverlaySize(that._$focusOverlay, focusOverlayPosition);\n      positionUtils.setup(that._$focusOverlay, focusOverlayPosition);\n      that._$focusOverlay.css(\"visibility\", \"visible\");\n    }\n  },\n  resize() {\n    const $focusedElement = this._$focusedElement;\n    if ($focusedElement) {\n      this.focus($focusedElement);\n    }\n  },\n  loseFocus() {\n    this._$focusedElement && this._$focusedElement.removeClass(\"dx-focused\");\n    this._$focusedElement = null;\n    this._$focusOverlay && this._$focusOverlay.addClass(DX_HIDDEN);\n  },\n  init() {\n    this.createAction(\"onEditorPreparing\", {\n      excludeValidators: [\"disabled\", \"readOnly\"],\n      category: \"rendering\"\n    });\n    this.createAction(\"onEditorPrepared\", {\n      excludeValidators: [\"disabled\", \"readOnly\"],\n      category: \"rendering\"\n    });\n    this._updateFocusHandler = this._updateFocusHandler || this.createAction(this._updateFocus.bind(this));\n    eventsEngine.on(this._getContainerRoot(), UPDATE_FOCUS_EVENTS, this._updateFocusHandler);\n    this._attachContainerEventHandlers();\n  },\n  _getContainerRoot() {\n    var _a;\n    const $container = null === (_a = this.component) || void 0 === _a ? void 0 : _a.$element();\n    const root = domAdapter.getRootNode(null === $container || void 0 === $container ? void 0 : $container.get(0));\n    if (root.nodeType === Node.DOCUMENT_FRAGMENT_NODE && !root.host) {\n      return domAdapter.getDocument();\n    }\n    return root;\n  },\n  _attachContainerEventHandlers() {\n    const that = this;\n    const $container = that.component && that.component.$element();\n    if ($container) {\n      eventsEngine.on($container, addNamespace(\"keydown\", MODULE_NAMESPACE), e => {\n        if (\"tab\" === normalizeKeyName(e)) {\n          that._updateFocusHandler(e);\n        }\n      });\n    }\n  },\n  dispose() {\n    clearTimeout(this._focusTimeoutID);\n    clearTimeout(this._updateFocusTimeoutID);\n    eventsEngine.off(this._getContainerRoot(), UPDATE_FOCUS_EVENTS, this._updateFocusHandler);\n  }\n};\nconst EditorFactory = modules.ViewController.inherit(EditorFactoryMixin).inherit(members);\nexport const editorFactoryModule = {\n  defaultOptions: () => ({}),\n  controllers: {\n    editorFactory: EditorFactory\n  }\n};","map":{"version":3,"names":["setOuterWidth","getOuterWidth","setOuterHeight","getOuterHeight","$","domAdapter","eventsEngine","name","clickEventName","pointerEvents","positionUtils","addNamespace","normalizeKeyName","browser","extend","getBoundingRect","EditorFactoryMixin","modules","gridCoreUtils","EDITOR_INLINE_BLOCK","CELL_FOCUS_DISABLED_CLASS","FOCUS_OVERLAY_CLASS","CONTENT_CLASS","FOCUSED_ELEMENT_CLASS","ROW_CLASS","MODULE_NAMESPACE","UPDATE_FOCUS_EVENTS","down","join","DX_HIDDEN","members","_getFocusedElement","$dataGridElement","rowSelector","option","focusedElementSelector","$focusedElement","find","elementIsInsideGrid","_getFocusCellSelector","_updateFocusCore","component","$element","$focus","length","isHideBorder","hasClass","$focusCell","closest","get","_needHideBorder","focus","loseFocus","_updateFocus","e","that","isFocusOverlay","event","target","addWidgetPrefix","_isFocusOverlay","clearTimeout","_updateFocusTimeoutID","setTimeout","_updateFocusOverlaySize","position","hide","location","calculate","collision","h","oversize","v","show","callbackNames","_$focusedElement","is","removeClass","_focusTimeoutID","renderFocusOverlay","addClass","focused","fire","refocus","isElementInCurrentGrid","_$focusOverlay","align","mozilla","$content","elemCoord","appendTo","bottom","top","right","left","focusOverlayPosition","precise","my","at","of","boundary","setup","css","resize","init","createAction","excludeValidators","category","_updateFocusHandler","bind","on","_getContainerRoot","_attachContainerEventHandlers","_a","$container","root","getRootNode","nodeType","Node","DOCUMENT_FRAGMENT_NODE","host","getDocument","dispose","off","EditorFactory","ViewController","inherit","editorFactoryModule","defaultOptions","controllers","editorFactory"],"sources":["C:/Users/ninad/OneDrive/Radna površina/zavrsni/client/node_modules/devextreme/esm/__internal/grids/grid_core/editor_factory/module.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/__internal/grids/grid_core/editor_factory/module.js)\r\n * Version: 22.2.6\r\n * Build date: Tue Apr 18 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    setOuterWidth,\r\n    getOuterWidth,\r\n    setOuterHeight,\r\n    getOuterHeight\r\n} from \"../../../../core/utils/size\";\r\nimport $ from \"../../../../core/renderer\";\r\nimport domAdapter from \"../../../../core/dom_adapter\";\r\nimport eventsEngine from \"../../../../events/core/events_engine\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../../../events/click\";\r\nimport pointerEvents from \"../../../../events/pointer\";\r\nimport positionUtils from \"../../../../animation/position\";\r\nimport {\r\n    addNamespace,\r\n    normalizeKeyName\r\n} from \"../../../../events/utils/index\";\r\nimport browser from \"../../../../core/utils/browser\";\r\nimport {\r\n    extend\r\n} from \"../../../../core/utils/extend\";\r\nimport {\r\n    getBoundingRect\r\n} from \"../../../../core/utils/position\";\r\nimport EditorFactoryMixin from \"../../../../ui/shared/ui.editor_factory_mixin\";\r\nimport modules from \"../modules\";\r\nimport gridCoreUtils from \"../module_utils\";\r\nconst EDITOR_INLINE_BLOCK = \"dx-editor-inline-block\";\r\nconst CELL_FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\r\nconst FOCUS_OVERLAY_CLASS = \"focus-overlay\";\r\nconst CONTENT_CLASS = \"content\";\r\nconst FOCUSED_ELEMENT_CLASS = \"dx-focused\";\r\nconst ROW_CLASS = \"dx-row\";\r\nconst MODULE_NAMESPACE = \"dxDataGridEditorFactory\";\r\nconst UPDATE_FOCUS_EVENTS = addNamespace([pointerEvents.down, \"focusin\", clickEventName].join(\" \"), MODULE_NAMESPACE);\r\nconst DX_HIDDEN = \"dx-hidden\";\r\nconst members = {\r\n    _getFocusedElement($dataGridElement) {\r\n        const rowSelector = this.option(\"focusedRowEnabled\") ? \"tr[tabindex]:focus\" : \"tr[tabindex]:not(.dx-data-row):focus\";\r\n        const focusedElementSelector = `td[tabindex]:focus, ${rowSelector}, input:focus, textarea:focus, .dx-lookup-field:focus, .dx-checkbox:focus, .dx-switch:focus, .dx-dropdownbutton .dx-buttongroup:focus, .dx-adaptive-item-text:focus`;\r\n        const $focusedElement = $dataGridElement.find(focusedElementSelector);\r\n        return this.elementIsInsideGrid($focusedElement) && $focusedElement\r\n    },\r\n    _getFocusCellSelector: () => \".dx-row > td\",\r\n    _updateFocusCore() {\r\n        const $dataGridElement = this.component && this.component.$element();\r\n        if ($dataGridElement) {\r\n            let $focus = this._getFocusedElement($dataGridElement);\r\n            if ($focus && $focus.length) {\r\n                let isHideBorder;\r\n                if (!$focus.hasClass(\"dx-cell-focus-disabled\") && !$focus.hasClass(\"dx-row\")) {\r\n                    const $focusCell = $focus.closest(this._getFocusCellSelector() + \", .dx-cell-focus-disabled\");\r\n                    if ($focusCell.get(0) !== $focus.get(0)) {\r\n                        isHideBorder = this._needHideBorder($focusCell);\r\n                        $focus = $focusCell\r\n                    }\r\n                }\r\n                if ($focus.length && !$focus.hasClass(\"dx-cell-focus-disabled\")) {\r\n                    this.focus($focus, isHideBorder);\r\n                    return\r\n                }\r\n            }\r\n        }\r\n        this.loseFocus()\r\n    },\r\n    _needHideBorder: $element => $element.hasClass(EDITOR_INLINE_BLOCK),\r\n    _updateFocus(e) {\r\n        const that = this;\r\n        const isFocusOverlay = e && e.event && $(e.event.target).hasClass(that.addWidgetPrefix(\"focus-overlay\"));\r\n        that._isFocusOverlay = that._isFocusOverlay || isFocusOverlay;\r\n        clearTimeout(that._updateFocusTimeoutID);\r\n        that._updateFocusTimeoutID = setTimeout(() => {\r\n            delete that._updateFocusTimeoutID;\r\n            if (!that._isFocusOverlay) {\r\n                that._updateFocusCore()\r\n            }\r\n            that._isFocusOverlay = false\r\n        })\r\n    },\r\n    _updateFocusOverlaySize($element, position) {\r\n        $element.hide();\r\n        const location = positionUtils.calculate($element, extend({\r\n            collision: \"fit\"\r\n        }, position));\r\n        if (location.h.oversize > 0) {\r\n            setOuterWidth($element, getOuterWidth($element) - location.h.oversize)\r\n        }\r\n        if (location.v.oversize > 0) {\r\n            setOuterHeight($element, getOuterHeight($element) - location.v.oversize)\r\n        }\r\n        $element.show()\r\n    },\r\n    callbackNames: () => [\"focused\"],\r\n    focus($element, isHideBorder) {\r\n        const that = this;\r\n        if (void 0 === $element) {\r\n            return that._$focusedElement\r\n        }\r\n        if ($element) {\r\n            if (!$element.is(that._$focusedElement)) {\r\n                that._$focusedElement && that._$focusedElement.removeClass(\"dx-focused\")\r\n            }\r\n            that._$focusedElement = $element;\r\n            clearTimeout(that._focusTimeoutID);\r\n            that._focusTimeoutID = setTimeout(() => {\r\n                delete that._focusTimeoutID;\r\n                that.renderFocusOverlay($element, isHideBorder);\r\n                $element.addClass(\"dx-focused\");\r\n                that.focused.fire($element)\r\n            })\r\n        }\r\n    },\r\n    refocus() {\r\n        const $focus = this.focus();\r\n        this.focus($focus)\r\n    },\r\n    renderFocusOverlay($element, isHideBorder) {\r\n        const that = this;\r\n        if (!gridCoreUtils.isElementInCurrentGrid(this, $element)) {\r\n            return\r\n        }\r\n        if (!that._$focusOverlay) {\r\n            that._$focusOverlay = $(\"<div>\").addClass(that.addWidgetPrefix(\"focus-overlay\"))\r\n        }\r\n        if (isHideBorder) {\r\n            that._$focusOverlay.addClass(DX_HIDDEN)\r\n        } else if ($element.length) {\r\n            const align = browser.mozilla ? \"right bottom\" : \"left top\";\r\n            const $content = $element.closest(\".\" + that.addWidgetPrefix(\"content\"));\r\n            const elemCoord = getBoundingRect($element.get(0));\r\n            that._$focusOverlay.removeClass(DX_HIDDEN).appendTo($content);\r\n            setOuterHeight(that._$focusOverlay, elemCoord.bottom - elemCoord.top + 1);\r\n            setOuterWidth(that._$focusOverlay, elemCoord.right - elemCoord.left + 1);\r\n            const focusOverlayPosition = {\r\n                precise: true,\r\n                my: align,\r\n                at: align,\r\n                of: $element,\r\n                boundary: $content.length && $content\r\n            };\r\n            that._updateFocusOverlaySize(that._$focusOverlay, focusOverlayPosition);\r\n            positionUtils.setup(that._$focusOverlay, focusOverlayPosition);\r\n            that._$focusOverlay.css(\"visibility\", \"visible\")\r\n        }\r\n    },\r\n    resize() {\r\n        const $focusedElement = this._$focusedElement;\r\n        if ($focusedElement) {\r\n            this.focus($focusedElement)\r\n        }\r\n    },\r\n    loseFocus() {\r\n        this._$focusedElement && this._$focusedElement.removeClass(\"dx-focused\");\r\n        this._$focusedElement = null;\r\n        this._$focusOverlay && this._$focusOverlay.addClass(DX_HIDDEN)\r\n    },\r\n    init() {\r\n        this.createAction(\"onEditorPreparing\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"],\r\n            category: \"rendering\"\r\n        });\r\n        this.createAction(\"onEditorPrepared\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"],\r\n            category: \"rendering\"\r\n        });\r\n        this._updateFocusHandler = this._updateFocusHandler || this.createAction(this._updateFocus.bind(this));\r\n        eventsEngine.on(this._getContainerRoot(), UPDATE_FOCUS_EVENTS, this._updateFocusHandler);\r\n        this._attachContainerEventHandlers()\r\n    },\r\n    _getContainerRoot() {\r\n        var _a;\r\n        const $container = null === (_a = this.component) || void 0 === _a ? void 0 : _a.$element();\r\n        const root = domAdapter.getRootNode(null === $container || void 0 === $container ? void 0 : $container.get(0));\r\n        if (root.nodeType === Node.DOCUMENT_FRAGMENT_NODE && !root.host) {\r\n            return domAdapter.getDocument()\r\n        }\r\n        return root\r\n    },\r\n    _attachContainerEventHandlers() {\r\n        const that = this;\r\n        const $container = that.component && that.component.$element();\r\n        if ($container) {\r\n            eventsEngine.on($container, addNamespace(\"keydown\", MODULE_NAMESPACE), e => {\r\n                if (\"tab\" === normalizeKeyName(e)) {\r\n                    that._updateFocusHandler(e)\r\n                }\r\n            })\r\n        }\r\n    },\r\n    dispose() {\r\n        clearTimeout(this._focusTimeoutID);\r\n        clearTimeout(this._updateFocusTimeoutID);\r\n        eventsEngine.off(this._getContainerRoot(), UPDATE_FOCUS_EVENTS, this._updateFocusHandler)\r\n    }\r\n};\r\nconst EditorFactory = modules.ViewController.inherit(EditorFactoryMixin).inherit(members);\r\nexport const editorFactoryModule = {\r\n    defaultOptions: () => ({}),\r\n    controllers: {\r\n        editorFactory: EditorFactory\r\n    }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}